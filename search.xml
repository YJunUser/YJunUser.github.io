<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>å¦‚ä½•åœ¨Reactä¸­å°è£…ä¸€ä¸ªç»„ä»¶</title>
      <link href="2021/05/17/useState%E7%9A%84%E6%83%B0%E6%80%A7%E5%88%9D%E5%A7%8B%E5%8C%96%E5%92%8C%E5%A6%82%E4%BD%95%E4%BF%9D%E5%AD%98%E5%87%BD%E6%95%B0/"/>
      <url>2021/05/17/useState%E7%9A%84%E6%83%B0%E6%80%A7%E5%88%9D%E5%A7%8B%E5%8C%96%E5%92%8C%E5%A6%82%E4%BD%95%E4%BF%9D%E5%AD%98%E5%87%BD%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>ä»Šå¤©åœ¨åšä¸€ä¸ªåŠŸèƒ½çš„æ—¶å€™ï¼Œéœ€è¦ç”¨åˆ°<code>useState</code>ä¿å­˜ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶<code>setState</code>å»æ”¹å˜è¿™ä¸ªå‡½æ•°çš„çŠ¶æ€ï¼Œåˆå§‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import "./styles.css";</span><br><span class="line">import React from "react";</span><br><span class="line"></span><br><span class="line">export default function App() {</span><br><span class="line">  const [callback, setCallback] = React.useState(() =&gt; {</span><br><span class="line">    return "init";</span><br><span class="line">  });</span><br><span class="line">  console.log(callback);</span><br><span class="line">  return (</span><br><span class="line">    &lt;div className="App"&gt;</span><br><span class="line">      &lt;button</span><br><span class="line">        onClick={() =&gt;</span><br><span class="line">          setCallback(() =&gt; {</span><br><span class="line">            return "update";</span><br><span class="line">          })</span><br><span class="line">        }</span><br><span class="line">      &gt;</span><br><span class="line">        æ”¹å˜å‡½æ•°</span><br><span class="line">      &lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>å¾ˆå¿«ï¼Œé¡µé¢å´©æºƒäº†ï¼Œæ§åˆ¶å°æŠ¥é”™ï¼š</p><p><img src="images/artical-image/image-20210517143331706.png" alt="image-20210517143331706"></p><p>ä¸€å¼€å§‹<code>init</code>å°±è¾“å‡ºäº†ä¸€æ¬¡ï¼Œç‚¹<code>button</code>å<code>update</code>è¾“å‡ºï¼Œè¿™æ˜¯ä¸ºå•¥å‘¢ï¼Ÿæˆ‘åªæ˜¯æƒ³ä¿å­˜å‡½æ•°ï¼Œå¹¶ä¸æƒ³è®©ä»–æ‰§è¡Œ</p><h2 id="æƒ°æ€§åˆå§‹State"><a href="#æƒ°æ€§åˆå§‹State" class="headerlink" title="æƒ°æ€§åˆå§‹State"></a>æƒ°æ€§åˆå§‹State</h2><p>ä¸ºäº†è°ƒæŸ¥ä¸Šè¿°é—®é¢˜ï¼Œå½“ç„¶æ˜¯å»çœ‹<a href="https://zh-hans.reactjs.org/docs/hooks-reference.html">Reactå®˜æ–¹æ–‡æ¡£</a>ï¼Œåœ¨<a href="https://zh-hans.reactjs.org/docs/hooks-reference.html">hooksAPI</a>ï¼Œè¿™ä¸€èŠ‚ä¸­ï¼Œæˆ‘å‘ç°äº†é—®é¢˜æ‰€åœ¨ï¼Œæƒ°æ€§åˆå§‹Stateï¼š</p><h4 id="æƒ°æ€§åˆå§‹-state"><a href="#æƒ°æ€§åˆå§‹-state" class="headerlink" title="æƒ°æ€§åˆå§‹ state"></a>æƒ°æ€§åˆå§‹ state</h4><p><code>initialState</code> å‚æ•°åªä¼šåœ¨ç»„ä»¶çš„<strong>åˆå§‹æ¸²æŸ“ä¸­</strong>èµ·ä½œç”¨ï¼Œåç»­æ¸²æŸ“æ—¶ä¼šè¢«å¿½ç•¥ã€‚å¦‚æœåˆå§‹ state éœ€è¦é€šè¿‡å¤æ‚è®¡ç®—è·å¾—ï¼Œåˆ™å¯ä»¥ä¼ å…¥ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨å‡½æ•°ä¸­è®¡ç®—å¹¶è¿”å›åˆå§‹çš„ stateï¼Œæ­¤å‡½æ•°åªåœ¨åˆå§‹æ¸²æŸ“æ—¶è¢«è°ƒç”¨ï¼š</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const [state, setState] = useState(() =&gt; {</span><br><span class="line">  const initialState = someExpensiveComputation(props);</span><br><span class="line">  return initialState;</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œç»™<code>useState</code>ä¼ å…¥ä¸€ä¸ªå‡½æ•°å¹¶ä¸ä¼šä¿å­˜å‡½æ•°çŠ¶æ€ï¼Œè€Œæ˜¯ç«‹å³æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”åªåœ¨åˆå§‹æ¸²æŸ“æ—¶æ‰§è¡Œï¼Œæˆ‘çŒœæµ‹åº”è¯¥æ˜¯ä¸ºäº†é¿å…ä¸€äº›é«˜å¼€é”€çš„è¿ç®—ï¼Œå› ä¸ºå®˜æ–¹æ–‡æ¡£ç»™çš„ä»£ç ä¸­å‡½æ•°åå°±æ˜¯<code>someExpensiveComputation</code>ã€‚</p><p>è¿™å°±è§£é‡Šäº†ä¹‹å‰çš„é—®é¢˜ï¼Œä¸€å¼€å§‹æˆ‘æ˜¯æƒ³ç”¨<code>useState</code>ä¿å­˜ä¸€ä¸ªå‡½æ•°ï¼Œä½†è¿™ä¸ªå‡½æ•°ç«‹å³å°±æ‰§è¡Œäº†ï¼Œå¹¶ä¸”è¾“å‡ºäº†<code>init</code>ã€‚</p><p>è€Œåœ¨æˆ‘åé¢è°ƒç”¨<code>setState</code>å»æ›´æ–°å‡½æ•°çŠ¶æ€çš„æ—¶å€™ï¼Œå®é™…ä¸Šæ˜¯<code>React</code>ä»¥ä¸ºä½ è¦æ›´æ–°é‚£ä¸ªæƒ°æ€§åˆå§‹çš„<code>state</code>ï¼Œäºæ˜¯å°±æ‰§è¡Œäº†<code>setCallback</code>ï¼Œå¹¶ç”¨è¿”å›çš„<code>update</code>æ›´æ–°äº†callback</p><h2 id="å¦‚ä½•ä¿å­˜å‡½æ•°"><a href="#å¦‚ä½•ä¿å­˜å‡½æ•°" class="headerlink" title="å¦‚ä½•ä¿å­˜å‡½æ•°"></a>å¦‚ä½•ä¿å­˜å‡½æ•°</h2><p>é‚£<code>state</code>è¯¥å¦‚ä½•ä¿å­˜å‡½æ•°å‘¢</p><h3 id="æ–¹æ³•1-é¢å¤–åŠ ä¸€ä¸ªå‡½æ•°"><a href="#æ–¹æ³•1-é¢å¤–åŠ ä¸€ä¸ªå‡½æ•°" class="headerlink" title="æ–¹æ³•1 é¢å¤–åŠ ä¸€ä¸ªå‡½æ•°"></a>æ–¹æ³•1 é¢å¤–åŠ ä¸€ä¸ªå‡½æ•°</h3><p>æ—¢ç„¶<code>useState</code>ä¸­å‡½æ•°ä½œä¸ºå‚æ•°æ˜¯æƒ°æ€§åˆå§‹åŒ–çš„æ„æ€ï¼Œé‚£æˆ‘ä»¬å†è¿”å›ä¸€ä¸ªå‡½æ•°ä¸å°±å¥½äº†å—ï¼Ÿ</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import "./styles.css";</span><br><span class="line">import React from "react";</span><br><span class="line"></span><br><span class="line">export default function App() {</span><br><span class="line">  const [callback, setCallback] = React.useState(() =&gt; () =&gt; {</span><br><span class="line">    alert("init");</span><br><span class="line">  });</span><br><span class="line">  console.log(callback);</span><br><span class="line">  return (</span><br><span class="line">    &lt;div className="App"&gt;</span><br><span class="line">      &lt;button</span><br><span class="line">        onClick={() =&gt;</span><br><span class="line">          setCallback(() =&gt; () =&gt; {</span><br><span class="line">            alert("update");</span><br><span class="line">          })</span><br><span class="line">        }</span><br><span class="line">      &gt;</span><br><span class="line">        æ”¹å˜å‡½æ•°</span><br><span class="line">      &lt;/button&gt;</span><br><span class="line">      &lt;button onClick={() =&gt; callback()}&gt;æ‰§è¡Œå‡½æ•°&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>å½“æˆ‘ä»¬ç‚¹å‡»<em>æ‰§è¡Œå‡½æ•°</em>çš„æ—¶å€™ï¼Œ<code>alert</code>äº†ä¸€ä¸ª<code>init</code>ï¼Œå½“æˆ‘ä»¬<em>æ”¹å˜å‡½æ•°</em>åå†å»<em>æ‰§è¡Œå‡½æ•°</em>ï¼Œ<code>alert</code>äº†ä¸€ä¸ª<code>update</code>ï¼Œå®ç°äº†ä¿å­˜å‡½æ•°åŠŸèƒ½</p><h3 id="æ–¹æ³•2-useRef"><a href="#æ–¹æ³•2-useRef" class="headerlink" title="æ–¹æ³•2 useRef"></a>æ–¹æ³•2 useRef</h3><p>å½“æˆ‘ä»¬æƒ³ä¿å­˜ä¸€ä¸ªä¸œè¥¿çš„æ—¶å€™ï¼Œæƒ³åˆ°<code>useRef</code>å‡†æ²¡é”™</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import "./styles.css";</span><br><span class="line">import React from "react";</span><br><span class="line"></span><br><span class="line">export default function App() {</span><br><span class="line">  const callback = React.useRef(() =&gt; {</span><br><span class="line">    console.log("init");</span><br><span class="line">  });</span><br><span class="line">  console.log(callback);</span><br><span class="line">  return (</span><br><span class="line">    &lt;div className="App"&gt;</span><br><span class="line">      &lt;button</span><br><span class="line">        onClick={() =&gt; {</span><br><span class="line">          callback.current = () =&gt; {</span><br><span class="line">            console.log("update");</span><br><span class="line">          };</span><br><span class="line">        }}</span><br><span class="line">      &gt;</span><br><span class="line">        æ”¹å˜å‡½æ•°</span><br><span class="line">      &lt;/button&gt;</span><br><span class="line">      &lt;button onClick={callback}&gt;æ‰§è¡Œå‡½æ•°&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>ä½†åˆå‡ºç°äº†æ–°çš„é—®é¢˜ï¼Œç‚¹å‡»æ”¹å˜å‡½æ•°åï¼Œè¾“å‡ºçš„è¿˜æ˜¯<code>init</code>ï¼Œè¿™æ˜¯å› ä¸º<code>useRef</code>çš„æ”¹å˜å¹¶ä¸ä¼šå¼•èµ·é¡µé¢é‡æ–°æ¸²æŸ“ã€‚</p><p><code>callback</code>ä»ç„¶æ˜¯åˆæ¬¡æ¸²æŸ“è¢«èµ‹äºˆçš„å‡½æ•°</p><p>å°†ä»£ç æ”¹ä¸ºå¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import "./styles.css";</span><br><span class="line">import React from "react";</span><br><span class="line"></span><br><span class="line">export default function App() {</span><br><span class="line">  const callback = React.useRef(() =&gt; {</span><br><span class="line">    console.log("init");</span><br><span class="line">  });</span><br><span class="line">  console.log(callback);</span><br><span class="line">  return (</span><br><span class="line">    &lt;div className="App"&gt;</span><br><span class="line">      &lt;button</span><br><span class="line">        onClick={() =&gt; {</span><br><span class="line">          callback.current = () =&gt; {</span><br><span class="line">            console.log("update");</span><br><span class="line">          };</span><br><span class="line">        }}</span><br><span class="line">      &gt;</span><br><span class="line">        æ”¹å˜å‡½æ•°</span><br><span class="line">      &lt;/button&gt;</span><br><span class="line">          // å°†callbackæ¢æˆcallback.current()</span><br><span class="line">      &lt;button onClick={() =&gt; callback.current()}&gt;æ‰§è¡Œå‡½æ•°&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>åŠŸèƒ½æ­£å¸¸ï¼Œå®Œæ¯•</p>]]></content>
      
      
      <categories>
          
          <category> Webå‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>useMemoå’ŒuseEffect</title>
      <link href="2021/05/15/useMemo%E5%92%8CuseEffect/"/>
      <url>2021/05/15/useMemo%E5%92%8CuseEffect/</url>
      
        <content type="html"><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, {Fragment} <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> { useState, useMemo } <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// äº§å“åç§°åˆ—è¡¨</span></span><br><span class="line"><span class="keyword">const</span> nameList = [<span class="string">'apple'</span>, <span class="string">'peer'</span>, <span class="string">'banana'</span>, <span class="string">'lemon'</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> example = <span class="function">(<span class="params">props</span>) =&gt;</span> {</span><br><span class="line">    <span class="comment">// äº§å“åç§°ã€ä»·æ ¼</span></span><br><span class="line">    <span class="keyword">const</span> [price, setPrice] = useState(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">const</span> [name, setName] = useState(<span class="string">'apple'</span>)</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// å‡è®¾æœ‰ä¸€ä¸ªä¸šåŠ¡å‡½æ•°  è·å–äº§å“çš„åå­—</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">getProductName</span>(<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'getProductNameè§¦å‘'</span>)</span><br><span class="line">        <span class="keyword">return</span> name</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;Fragment&gt;</span><br><span class="line">            &lt;p&gt;{name}&lt;/p&gt;</span><br><span class="line">            &lt;p&gt;{price}&lt;/p&gt;</span><br><span class="line">            &lt;p&gt;{getProductName()}&lt;/p&gt;</span><br><span class="line">            &lt;button onClick={<span class="function">() =&gt;</span> setPrice(price+<span class="number">1</span>)}&gt;ä»·é’±+<span class="number">1</span>&lt;/button&gt;</span><br><span class="line">            &lt;button onClick={<span class="function">() =&gt;</span> setName(nameList[<span class="built_in">Math</span>.random() * nameList.length &lt;&lt; <span class="number">0</span>])}&gt;ä¿®æ”¹åå­—&lt;/button&gt;</span><br><span class="line">        &lt;/Fragment&gt;</span><br><span class="line">    )</span><br><span class="line">}</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> example</span><br></pre></td></tr></tbody></table></figure><p>ç°åœ¨é—®å‡ ä¸ªé—®é¢˜ï¼š<br>å‘ç”Ÿä¸‹é¢å‡ ç§æƒ…å†µä¼šé‡æ–°æ¸²æŸ“ç•Œé¢å—ï¼ˆä¹Ÿå°±æ˜¯<code>getProductName</code>å‡½æ•°ä¼šè¢«è§¦å‘ï¼‰ï¼Ÿ</p><ol><li>ç‚¹å‡»ä»·é’±+1æŒ‰é’®ï¼Ÿ</li><li>ç‚¹å‡»ä¿®æ”¹åå­—æŒ‰é’®ï¼Ÿ</li></ol><p>å¾ˆæ˜¾ç„¶åœ¨è¿›è¡Œ<code>DOM</code>ç›¸å…³æ“ä½œï¼ˆå¦‚<code>setState</code>ï¼‰åï¼Œéƒ½ä¼šè§¦å‘<code>getProductName</code>å‡½æ•°ï¼Œä½†æ˜¯æˆ‘ä»¬æƒ³çŸ¥é“è¿™ä¸ªäº§å“çš„åå­—ï¼Œäº§å“çš„ä»·æ ¼æ€ä¹ˆå˜ä¸æ˜¯æˆ‘ä»¬å…³å¿ƒçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è®©è¿™ä¸ªå‡½æ•°åªåœ¨äº§å“åå­—æ”¹å˜çš„æ—¶å€™å†è§¦å‘ï¼Œè€Œä¸æ˜¯æ¯æ¬¡é‡æ–°æ¸²æŸ“éƒ½è§¦å‘ã€‚</p><h2 id="useEffect"><a href="#useEffect" class="headerlink" title="useEffect ?"></a>useEffect ?</h2><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, {Fragment} <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> { useState, useEffect, useCallback, useMemo } <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> { observer } <span class="keyword">from</span> <span class="string">'mobx-react'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> nameList = [<span class="string">'apple'</span>, <span class="string">'peer'</span>, <span class="string">'banana'</span>, <span class="string">'lemon'</span>]</span><br><span class="line"><span class="keyword">const</span> Example = observer(<span class="function">(<span class="params">props</span>) =&gt;</span> {</span><br><span class="line">    <span class="keyword">const</span> [price, setPrice] = useState(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">const</span> [name, setName] = useState(<span class="string">'apple'</span>)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">getProductName</span>(<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'getProductNameè§¦å‘'</span>)</span><br><span class="line">        <span class="keyword">return</span> name</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// åªå¯¹nameå“åº”</span></span><br><span class="line">    useEffect(<span class="function">() =&gt;</span> {</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'name effect è§¦å‘'</span>)</span><br><span class="line">        getProductName()</span><br><span class="line">    }, [name])</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åªå¯¹priceå“åº”</span></span><br><span class="line">    useEffect(<span class="function">() =&gt;</span> {</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'price effect è§¦å‘'</span>)</span><br><span class="line">    }, [price])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;Fragment&gt;</span><br><span class="line">            &lt;p&gt;{name}&lt;/p&gt;</span><br><span class="line">            &lt;p&gt;{price}&lt;/p&gt;</span><br><span class="line">            &lt;p&gt;{getProductName()}&lt;/p&gt;</span><br><span class="line">            &lt;button onClick={<span class="function">() =&gt;</span> setPrice(price+<span class="number">1</span>)}&gt;ä»·é’±+<span class="number">1</span>&lt;/button&gt;</span><br><span class="line">            &lt;button onClick={<span class="function">() =&gt;</span> setName(nameList[<span class="built_in">Math</span>.random() * nameList.length &lt;&lt; <span class="number">0</span>])}&gt;ä¿®æ”¹åå­—&lt;/button&gt;</span><br><span class="line">        &lt;/Fragment&gt;</span><br><span class="line">    )</span><br><span class="line">})</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Example</span><br></pre></td></tr></tbody></table></figure><ol><li>å…ˆçœ‹çœ‹<code>useEffect</code>çš„å·¥ä½œé¡ºåºï¼Œè‹¥ç‚¹å‡»ä¿®æ”¹åå­—æŒ‰é’®ä¼šæ‰“å°ä»€ä¹ˆï¼Ÿ</li></ol><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; getProductNameè§¦å‘ </span><br><span class="line">&gt; name effect è§¦å‘</span><br><span class="line">&gt; getProductNameè§¦å‘ </span><br></pre></td></tr></tbody></table></figure><p>å®˜æ–¹æ–‡æ¡£æœ‰è¯´è¿‡ <a href="https://links.jianshu.com/go?to=https://zh-hans.reactjs.org/docs/hooks-overview.html">å½“ä½ è°ƒç”¨ useEffect æ—¶ï¼Œå°±æ˜¯åœ¨å‘Šè¯‰ React åœ¨å®Œæˆå¯¹ DOM çš„æ›´æ”¹åè¿è¡Œä½ çš„â€œå‰¯ä½œç”¨â€å‡½æ•°</a></p><p>æ‰€ä»¥è¿™ä¸ªé¡ºåºå¾ˆå¥½ç†è§£</p><ul><li>å› ä¸ºä¿®æ”¹äº†åå­—ï¼Œç„¶å<code>react</code>æ›´æ”¹äº†<code>DOM</code>ï¼Œè§¦å‘äº†<code>getProductName</code></li><li>éšåè°ƒç”¨äº†<code>name</code>çš„<code>effect</code>ï¼ˆåœ¨<code>dom</code>æ›´æ–°ä¹‹åè§¦å‘ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå«åšå‰¯ä½œç”¨ï¼‰</li><li><code>effect</code>ä¸­è°ƒç”¨äº†<code>getProductName</code></li></ul><p>è‹¥ç‚¹å‡»ä»·é’±+1æŒ‰é’®ä¼šæ‰“å°ä»€ä¹ˆï¼Ÿ</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; getProductNameè§¦å‘ </span><br><span class="line">&gt; price effect è§¦å‘</span><br></pre></td></tr></tbody></table></figure><p>æˆ‘æ”¹å˜çš„æ˜¯ä»·æ ¼ï¼Œè¿˜æ˜¯è§¦å‘äº†<code>getProductName</code></p><p>ç¨å¾®åˆ†æï¼š</p><ul><li>æ˜¾ç„¶å½“æˆ‘ä½¿ç”¨<code>setPrice</code>çš„æ—¶å€™ï¼Œäº§ç”Ÿ<code>DOM</code>æ“ä½œï¼Œåˆ·æ–°é¡µé¢<code>DOM</code>çš„åŒæ—¶ä¹Ÿï¼Œè§¦å‘äº†åœ¨<code>p</code>æ ‡ç­¾ä¸­çš„<code>getProductName</code>å‡½æ•°</li><li>ç„¶åè°ƒç”¨å‰¯ä½œç”¨è§¦å‘äº†<code>price</code>çš„<code>effect</code></li></ul><p>å°±å¦‚å‰é¢æˆ‘æ‰€æå‡ºçš„é—®é¢˜ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯åœ¨<code>DOM</code>å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¸ç›¸å…³çš„å‡½æ•°ä¸éœ€è¦è§¦å‘ï¼ˆä¹Ÿå°±æ˜¯è¿™é‡Œçš„<code>getProductName</code>åœ¨æˆ‘ä¿®æ”¹ä»·æ ¼çš„æ—¶å€™ä¸åº”è¯¥è§¦å‘ï¼‰ï¼Œè€Œ<code>useEffect</code>åªèƒ½åœ¨<code>DOM</code>æ›´æ–°åå†è§¦å‘å†å»æ§åˆ¶ï¼Œæ‰€ä»¥è¿™ä¸ªé©¬åç‚®å¹¶æ²¡æœ‰ä»€ä¹ˆğŸ¦ç”¨</p><h2 id="useMemo"><a href="#useMemo" class="headerlink" title="useMemo?"></a>useMemo?</h2><p>ä½¿ç”¨<code>useMemo</code>å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜<br> ä¸ºä»€ä¹ˆ<code>useMemo</code>å¯ä»¥è§£å†³ï¼Ÿå®˜æ–¹æ–‡æ¡£è¯´è¿‡<a href="https://links.jianshu.com/go?to=https://zh-hans.reactjs.org/docs/hooks-reference.html%23usememo">ä¼ å…¥ useMemo çš„å‡½æ•°ä¼šåœ¨æ¸²æŸ“æœŸé—´æ‰§è¡Œ</a>ï¼Œæ‰€ä»¥ä½¿ç”¨<code>useMemo</code>å°±èƒ½è§£å†³ä¹‹å‰çš„é—®é¢˜ï¼Œæ€ä¹ˆåœ¨<code>DOM</code>æ”¹å˜çš„æ—¶å€™ï¼Œæ§åˆ¶æŸäº›å‡½æ•°ä¸è¢«è§¦å‘ã€‚</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, {Fragment} <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> { useState, useEffect, useCallback, useMemo } <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> { observer } <span class="keyword">from</span> <span class="string">'mobx-react'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> nameList = [<span class="string">'apple'</span>, <span class="string">'peer'</span>, <span class="string">'banana'</span>, <span class="string">'lemon'</span>]</span><br><span class="line"><span class="keyword">const</span> Example = observer(<span class="function">(<span class="params">props</span>) =&gt;</span> {</span><br><span class="line">    <span class="keyword">const</span> [price, setPrice] = useState(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">const</span> [name, setName] = useState(<span class="string">'apple'</span>)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">getProductName</span>(<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'getProductNameè§¦å‘'</span>)</span><br><span class="line">        <span class="keyword">return</span> name</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// åªå¯¹nameå“åº”</span></span><br><span class="line">    useEffect(<span class="function">() =&gt;</span> {</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'name effect è§¦å‘'</span>)</span><br><span class="line">        getProductName()</span><br><span class="line">    }, [name])</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åªå¯¹priceå“åº”</span></span><br><span class="line">    useEffect(<span class="function">() =&gt;</span> {</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'price effect è§¦å‘'</span>)</span><br><span class="line">    }, [price])</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// memoåŒ–çš„getProductNameå‡½æ•°   ğŸ§¬ğŸ§¬ğŸ§¬</span></span><br><span class="line">    <span class="keyword">const</span> memo_getProductName = useMemo(<span class="function">() =&gt;</span> {</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'name memo è§¦å‘'</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="function">() =&gt;</span> name  <span class="comment">// è¿”å›ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line">    }, [name])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;Fragment&gt;</span><br><span class="line">            &lt;p&gt;{name}&lt;/p&gt;</span><br><span class="line">            &lt;p&gt;{price}&lt;/p&gt;</span><br><span class="line">            &lt;p&gt;æ™®é€šçš„nameï¼š{getProductName()}&lt;/p&gt;</span><br><span class="line">            &lt;p&gt;memoåŒ–çš„ï¼š{memo_getProductName ()}&lt;/p&gt;</span><br><span class="line">            &lt;button onClick={<span class="function">() =&gt;</span> setPrice(price+<span class="number">1</span>)}&gt;ä»·é’±+<span class="number">1</span>&lt;/button&gt;</span><br><span class="line">            &lt;button onClick={<span class="function">() =&gt;</span> setName(nameList[<span class="built_in">Math</span>.random() * nameList.length &lt;&lt; <span class="number">0</span>])}&gt;ä¿®æ”¹åå­—&lt;/button&gt;</span><br><span class="line">        &lt;/Fragment&gt;</span><br><span class="line">    )</span><br><span class="line">})</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Example</span><br></pre></td></tr></tbody></table></figure><p>åŒæ ·ä¸¤ä¸ªé—®é¢˜</p><ol><li>ç‚¹å‡»ä»·é’±+1æŒ‰é’®ä¼šå‘ç”Ÿä»€ä¹ˆ</li></ol><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; getProductNameè§¦å‘</span><br><span class="line">&gt; price effect è§¦å‘</span><br></pre></td></tr></tbody></table></figure><ul><li>é¦–å…ˆ<code>DOM</code>æ”¹å˜ï¼Œè§¦å‘åœ¨<code>p</code>æ ‡ç­¾ä¸­çš„<code>getProductName</code>å‡½æ•°</li><li>ç„¶åè°ƒç”¨<code>effect</code></li></ul><p>æ˜¾ç„¶æˆ‘ä»¬å·²ç»æˆåŠŸçš„æ§åˆ¶äº†è§¦å‘ï¼ˆä¿®æ”¹äº†æ˜¾ç¤º<code>price</code>çš„<code>dom</code>ï¼Œä½†æ˜¯æ²¡æœ‰è§¦å‘<code>memo_getProductName</code>ï¼Œæ²¡æœ‰è¾“å‡ºâ€™â€™name memo è§¦å‘â€™â€™ï¼‰ï¼Œ<br> è¿™ä¹Ÿæ˜¯å®˜æ–¹ä¸ºä»€ä¹ˆè¯´ä¸èƒ½åœ¨<code>useMemo</code>ä¸­æ“ä½œ<code>DOM</code>ä¹‹ç±»çš„å‰¯ä½œç”¨æ“ä½œï¼Œ<a href="https://links.jianshu.com/go?to=https://zh-hans.reactjs.org/docs/hooks-reference.html%23usememo">ä¸è¦åœ¨è¿™ä¸ªå‡½æ•°å†…éƒ¨æ‰§è¡Œä¸æ¸²æŸ“æ— å…³çš„æ“ä½œï¼Œè¯¸å¦‚å‰¯ä½œç”¨è¿™ç±»çš„æ“ä½œå±äº useEffect çš„é€‚ç”¨èŒƒç•´ï¼Œè€Œä¸æ˜¯ useMemo</a>ï¼Œä½ å¯ä»¥è¯•ä¸€ä¸‹ï¼Œåœ¨<code>useMemo</code>ä¸­ä½¿ç”¨<code>setState</code>ä½ ä¼šå‘ç°ä¼šäº§ç”Ÿæ­»å¾ªç¯ï¼Œå¹¶ä¸”ä¼šæœ‰è­¦å‘Šï¼Œå› ä¸º<code>useMemo</code>æ˜¯åœ¨æ¸²æŸ“ä¸­è¿›è¡Œçš„ï¼Œä½ åœ¨å…¶ä¸­æ“ä½œ<code>DOM</code>åï¼Œåˆä¼šå¯¼è‡´<code>memo</code>è§¦å‘</p><ol><li>ç‚¹å‡»ä¿®æ”¹åå­—æŒ‰é’®ä¼šå‘ç”Ÿä»€ä¹ˆ</li></ol><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; name memo è§¦å‘</span><br><span class="line">&gt; getProductNameè§¦å‘</span><br><span class="line">&gt; name effect è§¦å‘</span><br><span class="line">&gt; getProductNameè§¦å‘</span><br></pre></td></tr></tbody></table></figure><ul><li>é¦–å…ˆ<code>DOM</code>å˜åŒ–ï¼Œè§¦å‘<code>name</code>çš„<code>memo</code>ï¼Œ</li><li>ç„¶åè§¦å‘<code>p</code>æ ‡ç­¾å†…çš„<code>getProductName</code>å‡½æ•°</li><li><code>DOM</code>æ“ä½œç»“æŸåè§¦å‘<code>name</code>çš„<code>effect</code></li><li>åœ¨<code>name</code>çš„<code>effect</code>ä¸­è§¦å‘<code>getProductName</code></li></ul><p>ä»è¿™é‡Œä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œ<code>useMemo</code>æ˜¯åœ¨**<code>DOM</code>æ›´æ–°å‰è§¦**å‘çš„ï¼Œ<code>useEffect</code>æ˜¯åœ¨<code>DOM</code><strong>æ›´æ–°å</strong>è§¦å‘çš„å°±åƒå®˜æ–¹æ‰€è¯´çš„</p>]]></content>
      
      
      <categories>
          
          <category> Webå‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•åœ¨Reactä¸­å°è£…ä¸€ä¸ªç»„ä»¶</title>
      <link href="2021/05/15/%E5%A6%82%E4%BD%95%E5%9C%A8React%E4%B8%AD%E5%B0%81%E8%A3%85%E4%B8%80%E4%B8%AA%E7%BB%84%E4%BB%B6/"/>
      <url>2021/05/15/%E5%A6%82%E4%BD%95%E5%9C%A8React%E4%B8%AD%E5%B0%81%E8%A3%85%E4%B8%80%E4%B8%AA%E7%BB%84%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h1 id="åœ¨Reactä¸­å°è£…ä¸€ä¸ªç»„ä»¶"><a href="#åœ¨Reactä¸­å°è£…ä¸€ä¸ªç»„ä»¶" class="headerlink" title="åœ¨Reactä¸­å°è£…ä¸€ä¸ªç»„ä»¶"></a>åœ¨Reactä¸­å°è£…ä¸€ä¸ªç»„ä»¶</h1><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>æœ€è¿‘åœ¨å­¦ä¹ <code>React</code>ï¼Œçœ‹äº†è®¸å¤šæ•™å­¦è§†é¢‘ï¼Œä»Šå¤©å­¦åˆ°äº†ä¸€ä¸ªå°è£…ç»„ä»¶è¾ƒå®Œå–„çš„æ–¹æ³•ï¼Œç‰¹æ­¤è®°å½•ä¸‹æ¥ã€‚</p><p>æˆ‘ä»¬çŸ¥é“<code>select</code>æ ‡ç­¾ç»å¸¸æœ‰æ˜¾ç¤ºçš„é—®é¢˜ï¼Œä¾‹å¦‚<code>id</code>å’Œ<code>name</code>å¯¹åº”ä¸ä¸Šï¼ŒåŸå› åœ¨äº<code>value</code>å±æ€§çš„å€¼ï¼š</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;Select</span><br><span class="line">          value={param.personId}</span><br><span class="line">          onChange={(value) =&gt;</span><br><span class="line">            setParam({</span><br><span class="line">              ...param,</span><br><span class="line">              personId: value,</span><br><span class="line">            })</span><br><span class="line">          }</span><br><span class="line">        &gt;</span><br><span class="line">          &lt;Select.Option value={""}&gt;è´Ÿè´£äºº&lt;/Select.Option&gt;</span><br><span class="line">          {users.map((user) =&gt; (</span><br><span class="line">            &lt;Select.Option key={user.id} value={String(user.id)}&gt;</span><br><span class="line">              {user.name}</span><br><span class="line">            &lt;/Select.Option&gt;</span><br><span class="line">          ))}</span><br><span class="line">        &lt;/Select&gt;</span><br></pre></td></tr></tbody></table></figure><p><code>Option</code>ä¸­çš„valueå€¼åœ¨ä¼ ç»™<code>onChange</code>å›è°ƒå‡½æ•°ä¸­æ—¶ï¼Œå¦‚æœæ˜¯<code>number</code>ç±»å‹ï¼Œä½†<code>personId</code>å®šä¹‰çš„åˆæ˜¯<code>string</code>ç±»å‹çš„è¯ï¼Œå°±ä¸ä¼šæŒ‰é¢„æœŸæ˜¾ç¤ºï¼Œè€Œæ˜¯ç›´æ¥ç”¨ä¼ å…¥çš„å€¼ã€‚</p><p>äºæ˜¯ç°åœ¨å°è£…ä¸€ä¸ªç»„ä»¶<code>id-select</code>ï¼Œè§£å†³ä¸Šè¿°é—®é¢˜ã€‚</p><h2 id="å°è£…ç»„ä»¶"><a href="#å°è£…ç»„ä»¶" class="headerlink" title="å°è£…ç»„ä»¶"></a>å°è£…ç»„ä»¶</h2><p>åœ¨<code>components</code>æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªid-select.tsxæ–‡ä»¶ï¼Œé¦–å…ˆå†™å¥½ç»„ä»¶åŸºæœ¬å†…å®¹ã€‚</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import { Select } from "antd";</span><br><span class="line">import React from "react";</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export const IdSelect = () =&gt; {</span><br><span class="line">    return (</span><br><span class="line">        &lt;Select value={} onChange={}&gt;</span><br><span class="line">            &lt;Select.Option value={}&gt;{}&lt;/Select.Option&gt;</span><br><span class="line">        &lt;/Select&gt;</span><br><span class="line">    )</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æˆ‘ä»¬è¦å°è£…ä¸€ä¸ª<code>Select</code>ç»„ä»¶ï¼Œä½¿å¾—å…¶</p><ul><li>valueå¯ä»¥ä¼ å…¥å¤šç§ç±»å‹çš„å€¼</li><li>onChangeåªä¼šå›è°ƒnumber | undefinedç±»å‹</li><li>å½“ isNaN(Number(value))ä¸ºtrue ä»£è¡¨é€‰æ‹©é»˜è®¤ç±»å‹</li><li>å½“é€‰æ‹©é»˜è®¤ç±»å‹ï¼ŒonChangeå›è°ƒundefined</li></ul><p>å®šä¹‰ä¸‹ç»„ä»¶æ‰€éœ€çš„<code>props</code>ç±»å‹:</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">interface IdSelectProps {</span><br><span class="line">  value: string | number | null | undefined;</span><br><span class="line">  onChange: (value?: number) =&gt; void;</span><br><span class="line">  defaultOptionName?: string;</span><br><span class="line">  options?: { name: string; id: number }[];</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>å®šä¹‰ä¸€ä¸ªè¾…åŠ©å‡½æ•°:</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const toNumber = (value: unknown) =&gt; {</span><br><span class="line">  return isNaN(Number(value)) ? 0 : Number(value);</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><p>å®Œå–„ç»„ä»¶:</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">export const IdSelect = (props: IdSelectProps) =&gt; {</span><br><span class="line">  const { value, onChange, defaultOptionName, options } = props;</span><br><span class="line">  return (</span><br><span class="line">    &lt;Select</span><br><span class="line">      value={toNumber(value)}</span><br><span class="line">      onChange={(value) =&gt; onChange(toNumber(value) || undefined)}</span><br><span class="line">    &gt;</span><br><span class="line">      {defaultOptionName ? (</span><br><span class="line">        &lt;Select.Option value={0}&gt;{defaultOptionName}&lt;/Select.Option&gt;</span><br><span class="line">      ) : null}</span><br><span class="line">      {options?.map((option) =&gt; (</span><br><span class="line">        &lt;Select.Option value={option.id} key={option.id}&gt;</span><br><span class="line">          {option.name}</span><br><span class="line">        &lt;/Select.Option&gt;</span><br><span class="line">      ))}</span><br><span class="line">    &lt;/Select&gt;</span><br><span class="line">  );</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><p>è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦ç”¨åˆ°<code>Select</code>æœ¬èº«çš„<code>props</code>å‘¢ï¼Œæˆ–è€…è¯´æˆ‘æƒ³æ”¹å˜<code>Select</code>æœ¬èº«çš„æ ·å¼å‘¢ï¼Ÿ</p><p>è¿™å°±æ˜¯ä¸€ä¸ª<code>props</code>é€ä¼ é—®é¢˜</p><p><code>React</code>ä¸­æœ‰ä¸“é—¨çš„å¤„ç†æ–¹æ³•ï¼Œå°†æ¥å£æ”¹ä¸ºå¦‚ä¸‹:</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// ç»§æ‰¿Selectç»„ä»¶æœ¬èº«çš„props</span><br><span class="line">type SelectProps = React.ComponentProps&lt;typeof Select&gt;;</span><br><span class="line"></span><br><span class="line">// å»æ‰æˆ‘ä»¬æ¥å£ä¸­å®šä¹‰çš„ï¼Œé˜²æ­¢é‡å</span><br><span class="line">interface IdSelectProps</span><br><span class="line">  extends Omit&lt;</span><br><span class="line">    SelectProps,</span><br><span class="line">    "value" | "onChange" | "defaultOptionName" | "options"</span><br><span class="line">  &gt; {</span><br><span class="line">  value: string | number | null | undefined;</span><br><span class="line">  onChange: (value?: number) =&gt; void;</span><br><span class="line">  defaultOptionName?: string;</span><br><span class="line">  options?: { name: string; id: number }[];</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>ç„¶åä¼ ç»™é‡Œé¢çš„<code>Select</code>ç»„ä»¶ï¼š</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">export const IdSelect = (props: IdSelectProps) =&gt; {</span><br><span class="line">    // ç”¨æ‰©å±•æ“ä½œç¬¦ ...restå–å¾—propsä¸­å‰©ä½™çš„å±æ€§</span><br><span class="line">  const { value, onChange, defaultOptionName, options, ...rest } = props;</span><br><span class="line">  return (</span><br><span class="line">    &lt;Select</span><br><span class="line">      value={toNumber(value)}</span><br><span class="line">      onChange={(value) =&gt; onChange(toNumber(value) || undefined)}</span><br><span class="line">        // ä¼ ç»™Select</span><br><span class="line">      {...rest}</span><br><span class="line">    &gt;</span><br><span class="line">      {defaultOptionName ? (</span><br><span class="line">        &lt;Select.Option value={0}&gt;{defaultOptionName}&lt;/Select.Option&gt;</span><br><span class="line">      ) : null}</span><br><span class="line">      {options?.map((option) =&gt; (</span><br><span class="line">        &lt;Select.Option value={option.id} key={option.id}&gt;</span><br><span class="line">          {option.name}</span><br><span class="line">        &lt;/Select.Option&gt;</span><br><span class="line">      ))}</span><br><span class="line">    &lt;/Select&gt;</span><br><span class="line">  );</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><p>å®Œæ•´ä»£ç :</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">import { Select } from "antd";</span><br><span class="line">import React from "react";</span><br><span class="line"></span><br><span class="line">type SelectProps = React.ComponentProps&lt;typeof Select&gt;;</span><br><span class="line"></span><br><span class="line">interface IdSelectProps</span><br><span class="line">  extends Omit&lt;</span><br><span class="line">    SelectProps,</span><br><span class="line">    "value" | "onChange" | "defaultOptionName" | "options"</span><br><span class="line">  &gt; {</span><br><span class="line">  value: string | number | null | undefined;</span><br><span class="line">  onChange: (value?: number) =&gt; void;</span><br><span class="line">  defaultOptionName?: string;</span><br><span class="line">  options?: { name: string; id: number }[];</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> *</span><br><span class="line"> * value å¯ä»¥ä¼ å…¥éƒ½å¤šç§ç±»å‹çš„å€¼</span><br><span class="line"> * onChangeåªä¼šå›è°ƒ number | undefined ç±»å‹</span><br><span class="line"> * å½“ isNaN(Number(value))ä¸ºtrue ä»£è¡¨é€‰æ‹©é»˜è®¤ç±»å‹</span><br><span class="line"> * å½“é€‰æ‹©é»˜è®¤ç±»å‹ï¼ŒonChangeå›è°ƒundefined</span><br><span class="line"> */</span><br><span class="line">export const IdSelect = (props: IdSelectProps) =&gt; {</span><br><span class="line">  const { value, onChange, defaultOptionName, options, ...rest } = props;</span><br><span class="line">  return (</span><br><span class="line">    &lt;Select</span><br><span class="line">      value={toNumber(value)}</span><br><span class="line">      onChange={(value) =&gt; onChange(toNumber(value) || undefined)}</span><br><span class="line">      {...rest}</span><br><span class="line">    &gt;</span><br><span class="line">      {defaultOptionName ? (</span><br><span class="line">        &lt;Select.Option value={0}&gt;{defaultOptionName}&lt;/Select.Option&gt;</span><br><span class="line">      ) : null}</span><br><span class="line">      {options?.map((option) =&gt; (</span><br><span class="line">        &lt;Select.Option value={option.id} key={option.id}&gt;</span><br><span class="line">          {option.name}</span><br><span class="line">        &lt;/Select.Option&gt;</span><br><span class="line">      ))}</span><br><span class="line">    &lt;/Select&gt;</span><br><span class="line">  );</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">const toNumber = (value: unknown) =&gt; {</span><br><span class="line">  return isNaN(Number(value)) ? 0 : Number(value);</span><br><span class="line">};</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>ä¸€ä¸ªç®€å•çš„ç»„ä»¶å°±å°è£…å¥½äº†</p><h2 id="example"><a href="#example" class="headerlink" title="example"></a>example</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import React from "react";</span><br><span class="line">import { useUser } from "screens/project-list/user";</span><br><span class="line">import { IdSelect } from "./id-select";</span><br><span class="line"></span><br><span class="line">export const UserSelect = (props: React.ComponentProps&lt;typeof IdSelect&gt;) =&gt; {</span><br><span class="line">  const { users } = useUser();</span><br><span class="line">  return &lt;IdSelect options={users || []} {...props}&gt;&lt;/IdSelect&gt;;</span><br><span class="line">};</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> Webå‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>react-router</title>
      <link href="2021/05/14/React%E8%B7%AF%E7%94%B1/"/>
      <url>2021/05/14/React%E8%B7%AF%E7%94%B1/</url>
      
        <content type="html"><![CDATA[<h2 id="react-routerå®‰è£…"><a href="#react-routerå®‰è£…" class="headerlink" title="react-routerå®‰è£…"></a>react-routerå®‰è£…</h2><p><code>yarn add react-router@6 react-router-dom@6</code></p><p><code>yarn add history</code></p><h2 id="å¯¼å…¥"><a href="#å¯¼å…¥" class="headerlink" title="å¯¼å…¥"></a>å¯¼å…¥</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import { Route, Routes } from "react-router";</span><br><span class="line">import { BrowserRouter as Router } from "react-router-dom";</span><br><span class="line">import { ProjectScreen } from "screens/project";</span><br></pre></td></tr></tbody></table></figure><h2 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h2><h3 id="example1"><a href="#example1" class="headerlink" title="example1"></a>example1</h3><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;Router&gt;</span><br><span class="line">  &lt;Routes&gt;</span><br><span class="line">    &lt;Route</span><br><span class="line">      path={"/projects"}</span><br><span class="line">      element={&lt;ProjectListScreen&gt;&lt;/ProjectListScreen&gt;}</span><br><span class="line">    &gt;&lt;/Route&gt;</span><br><span class="line">    &lt;Route</span><br><span class="line">      path={"/projects/:projectsId/*"}</span><br><span class="line">      element={&lt;ProjectScreen&gt;&lt;/ProjectScreen&gt;}</span><br><span class="line">    &gt;&lt;/Route&gt;</span><br><span class="line">  &lt;/Routes&gt;</span><br><span class="line">&lt;/Router&gt;</span><br></pre></td></tr></tbody></table></figure><p>åœ¨<code>ProjectListScreen</code>ç»„ä»¶ä¸­:</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import { Link } from "react-router-dom";</span><br><span class="line"></span><br><span class="line">   render: (value, project) =&gt; (</span><br><span class="line">            &lt;Link to={String(project.id)}&gt;{project.name}&lt;/Link&gt;</span><br><span class="line">          )</span><br><span class="line">// æ³¨æ„ï¼Œè¯¥ç»„ä»¶ä»¥åŠåœ¨/projectsè·¯ç”±ä¸‹äº†ï¼Œæ­¤æ—¶&lt;Link&gt;toè·³è½¬åˆ°çš„è·¯ç”±å°±æ˜¯åœ¨/projectsåé¢æ‹¼æ¥ï¼Œä¾‹å¦‚/projects/5</span><br></pre></td></tr></tbody></table></figure><h3 id="example2"><a href="#example2" class="headerlink" title="example2"></a>example2</h3><p>åœ¨<code>ProjectScreen</code>ç»„ä»¶ä¸­:</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import React from "react";</span><br><span class="line">import { Link } from "react-router-dom";</span><br><span class="line">import { Routes, Route } from "react-router";</span><br><span class="line">import { KanbanScreen } from "screens/kanban";</span><br><span class="line">import { EpicScreen } from "screens/epic";</span><br><span class="line"></span><br><span class="line">export const ProjectScreen = () =&gt; {</span><br><span class="line">  return (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      &lt;h1&gt;ProjectScreen&lt;/h1&gt;</span><br><span class="line">      // æ³¨æ„ï¼Œè¿™é‡Œä¸æ˜¯/kanban å¦‚æœæ˜¯çš„è¯åˆ™ä»£è¡¨ç›´æ¥è·³åˆ°localhost/kanban</span><br><span class="line">      // è¿™é‡Œä»£è¡¨è·³åˆ° å½“å‰ç»„ä»¶è·¯ç”±åé¢ localhost/projects/1/kanban</span><br><span class="line">      &lt;Link to={"kanban"}&gt;çœ‹æ¿&lt;/Link&gt;</span><br><span class="line">      &lt;Link to={"epic"}&gt;epic&lt;/Link&gt;</span><br><span class="line">      &lt;Routes&gt;</span><br><span class="line">        &lt;Route path={"/kanban"} element={&lt;KanbanScreen&gt;&lt;/KanbanScreen&gt;}&gt;&lt;/Route&gt;</span><br><span class="line">        &lt;Route path={"/epic"} element={&lt;EpicScreen&gt;&lt;/EpicScreen&gt;}&gt;&lt;/Route&gt;</span><br><span class="line">          // é»˜è®¤è·¯ç”±(ä¸Šé¢ä¸¤ä¸ªåŒ¹é…ä¸åˆ°çš„è¯)</span><br><span class="line">         &lt;Navigate to={window.location.pathname + '/kanban'}&gt;&lt;/Navigate&gt;</span><br><span class="line">      &lt;/Routes&gt;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  );</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><h2 id="é‡ç½®è·¯ç”±"><a href="#é‡ç½®è·¯ç”±" class="headerlink" title="é‡ç½®è·¯ç”±"></a>é‡ç½®è·¯ç”±</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export const resetRoute = () =&gt; (window.location.href = window.location.origin);</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> Webå‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TypeScript-as conståº”ç”¨</title>
      <link href="2021/05/14/TypeScript%E4%B9%8Bas%20const/"/>
      <url>2021/05/14/TypeScript%E4%B9%8Bas%20const/</url>
      
        <content type="html"><![CDATA[<h1 id="as-const"><a href="#as-const" class="headerlink" title="as const"></a>as const</h1><p>åœ¨é¡¹ç›®ä¸­é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜:</p><p><img src="images/artical-image/image-20210514184232090.png" alt="image-20210514184232090"></p><p>è¿™ä¸ªå‡½æ•°ç­¾åç®€ç›´è«åå¥‡å¦™</p><p>åæ¥å‘ç°åŠ ä¸Š<code>as const</code></p><p><img src="images/artical-image/image-20210514184313551.png" alt="image-20210514184313551"></p><p>å˜å¾—é¡ºçœ¼å¤šäº†</p><p>é‚£<code>as const</code>ç©¶ç«Ÿæ˜¯å•¥?</p><p>çœ‹ä¸€ä¸ªä¾‹å­:</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const a = ["jack", 1, { id: "5" }];</span><br></pre></td></tr></tbody></table></figure><p><img src="images/artical-image/image-20210514184447025.png" alt="image-20210514184447025"></p><p>aæ˜¯ä¸€ä¸ªå…ƒç´ ä¸º<code>string</code>æˆ–è€…<code>number</code>æˆ–è€…å«æœ‰idå¯¹è±¡çš„æ•°ç»„ï¼Œè¿™æ˜æ˜¾ä¸æˆ‘ä»¬çš„é¢„æœŸä¸ç¬¦ï¼Œå› ä¸ºæˆ‘ä»¬æƒ³è¦ä¸€ä¸ªå…ƒç´ ä¸ºstring | number | objectçš„æ•°ç»„ï¼Œä¸»è¦åŸå› æ˜¯tsä¸­çš„æ•°ç»„é‡Œé¢çš„ç±»å‹å¿…é¡»ä¸€è‡´ï¼Œæ‰€ä»¥ä»–ä¼šè§£ææˆä¸Šé¢é‚£ç§æƒ…å†µã€‚</p><p>å¦‚æœæˆ‘ä»¬åŠ ä¸Š<code>as const</code>å‘¢?</p><p><img src="images/artical-image/image-20210514184705302.png" alt="image-20210514184705302"></p><p>aå˜æˆäº†ä¸€ä¸ªæ•°ç»„ï¼Œé‡Œé¢ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯â€™jackâ€™ï¼Œç¬¬äºŒä¸ªæ˜¯1ï¼Œç¬¬ä¸‰ä¸ªæ˜¯å¯¹è±¡</p><p><code>as const</code>ä¸»è¦ç”¨åœ¨æ•°ç»„ä¸­ï¼Œåœ¨ç¼–å†™tsä»£ç æ—¶ï¼Œçµæ´»è¿ç”¨<code>as const</code>èƒ½è§£å†³ä¸€äº›æœ‰è¶£çš„é—®é¢˜ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Webå‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Css in Js-emotion</title>
      <link href="2021/05/10/Css%20in%20Js-emotion/"/>
      <url>2021/05/10/Css%20in%20Js-emotion/</url>
      
        <content type="html"><![CDATA[<h2 id="emotionçš„å®‰è£…"><a href="#emotionçš„å®‰è£…" class="headerlink" title="emotionçš„å®‰è£…"></a>emotionçš„å®‰è£…</h2><p><code>yarn add @emotion/react @emotion/styled</code></p><h2 id="emotionçš„åŸºæœ¬ä½¿ç”¨"><a href="#emotionçš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="emotionçš„åŸºæœ¬ä½¿ç”¨"></a>emotionçš„åŸºæœ¬ä½¿ç”¨</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">import styled from "@emotion/styled"; // å¼•å…¥emotion</span><br><span class="line">import logo from "assets/logo.svg"; // å¼•å…¥å›¾ç‰‡</span><br><span class="line">import left from "assets/left.svg";</span><br><span class="line">import right from "assets/right.svg";</span><br><span class="line"></span><br><span class="line">export const UnauthenticatedApp = () =&gt; {</span><br><span class="line">  const [isRegister, setIsRegister] = useState(false);</span><br><span class="line">  return (</span><br><span class="line">    &lt;Container&gt;</span><br><span class="line">      &lt;Header&gt;&lt;/Header&gt;</span><br><span class="line">      &lt;ShadowCard&gt;</span><br><span class="line">        {isRegister ? (</span><br><span class="line">          &lt;RegisterScreen&gt;&lt;/RegisterScreen&gt;</span><br><span class="line">        ) : (</span><br><span class="line">          &lt;LoginScreen&gt;&lt;/LoginScreen&gt;</span><br><span class="line">        )}</span><br><span class="line">        &lt;Divider&gt;&lt;/Divider&gt;</span><br><span class="line">        &lt;a onClick={() =&gt; setIsRegister(!isRegister)}&gt;</span><br><span class="line">          åˆ‡æ¢åˆ°{isRegister ? "ç™»å½•" : "æ³¨å†Œ"}</span><br><span class="line">        &lt;/a&gt;</span><br><span class="line">      &lt;/ShadowCard&gt;</span><br><span class="line">    &lt;/Container&gt;</span><br><span class="line">  );</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// æ¯ä¸ªstyleéƒ½æ˜¯ä¸€ä¸ªç»„ä»¶</span><br><span class="line">const Header = styled.header`</span><br><span class="line">  background: url(${logo}) no-repeat center;</span><br><span class="line">  padding: 5rem 0;</span><br><span class="line">  background-size: 8rem;</span><br><span class="line">  width: 100%;</span><br><span class="line">`;</span><br><span class="line"></span><br><span class="line">const ShadowCard = styled(Card)`// éhtmlåŸç”Ÿæ ‡ç­¾è¦ç”¨æ‹¬å·ï¼Œæ¯”å¦‚ç»„ä»¶åº“å’ŒReact.component</span><br><span class="line">  width: 40rem;</span><br><span class="line">  min-height: 56rem;</span><br><span class="line">  padding: 3.2rem 4rem;</span><br><span class="line">  border-radius: 0.3rem;</span><br><span class="line">  box-sizing: border-box;</span><br><span class="line">  box-shadow: rgba(0, 0, 0, 0.1) 0 0 10px;</span><br><span class="line">  text-align: center;</span><br><span class="line">`;</span><br><span class="line"></span><br><span class="line">// åŸç”Ÿhtml</span><br><span class="line">const Container = styled.div`</span><br><span class="line">  display: flex;</span><br><span class="line">  flex-direction: column;</span><br><span class="line">  align-items: center;</span><br><span class="line">  min-height: 100vh;</span><br><span class="line">  justify-content: center;</span><br><span class="line">`;</span><br></pre></td></tr></tbody></table></figure><h2 id="emotionä¸­ä½¿ç”¨gridå’Œflexå¸ƒå±€"><a href="#emotionä¸­ä½¿ç”¨gridå’Œflexå¸ƒå±€" class="headerlink" title="emotionä¸­ä½¿ç”¨gridå’Œflexå¸ƒå±€"></a>emotionä¸­ä½¿ç”¨gridå’Œflexå¸ƒå±€</h2><p><code>grid</code>:</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">const Container = styled.div`</span><br><span class="line">  min-height: 100vh;</span><br><span class="line">  display: grid;</span><br><span class="line">  grid-template-rows: 6rem 1fr 6rem;</span><br><span class="line">  grid-template-columns: 20rem 1fr 20rem;</span><br><span class="line">  grid-template-areas: "header header header" "nav main aside" "footer footer footer"</span><br><span class="line"></span><br><span class="line">`;</span><br><span class="line"></span><br><span class="line">// è¿™é‡Œvalueæ²¡æœ‰å¼•å·</span><br><span class="line">const Header = styled.header`</span><br><span class="line">  grid-area: header; </span><br><span class="line">`;</span><br><span class="line">const Nav = styled.nav`</span><br><span class="line">  grid-area: nav;</span><br><span class="line">`;</span><br><span class="line"></span><br><span class="line">const Main = styled.main`</span><br><span class="line">  grid-area: main;</span><br><span class="line">`;</span><br><span class="line"></span><br><span class="line">const Aside = styled.aside`</span><br><span class="line">  grid-area: aside;</span><br><span class="line">`;</span><br><span class="line"></span><br><span class="line">const Footer = styled.footer`</span><br><span class="line">  grid-area: footer;</span><br><span class="line">`;</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p><code>flex</code>:</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">const Header = styled.header`</span><br><span class="line">  grid-area: header;</span><br><span class="line">  display: flex;</span><br><span class="line">  flex-flow: row nowrap;</span><br><span class="line">  justify-content: space-between;</span><br><span class="line">  align-items: center;</span><br><span class="line">`;</span><br><span class="line"></span><br><span class="line">const HeaderLeft = styled.div`</span><br><span class="line">  display: flex;</span><br><span class="line">  flex-flow: row nowrap;</span><br><span class="line">`;</span><br></pre></td></tr></tbody></table></figure><p><code>flexå’Œgridä½¿ç”¨åœºæ™¯?</code></p><ul><li>1ç»´å¸ƒå±€ç”¨flexï¼ŒäºŒç»´å¸ƒå±€ç”¨gridã€‚</li><li>ä»å†…å®¹å‡ºå‘ï¼šå…ˆæœ‰ä¸€ç»„å†…å®¹ï¼ˆæ•°é‡ä¸€èˆ¬ä¸å›ºå®šï¼‰ï¼Œå¸Œæœ›ä»–ä»¬å‡åŒ€åˆ†å¸ƒåœ¨å®¹å™¨ä¸­ï¼Œç”±å†…å®¹çš„å¤§å°å†³å®šå æ®çš„ç©ºé—´â€“flexã€‚</li><li>ä»å¸ƒå±€è§¦å‘ï¼šå…ˆè§„åˆ’ç½‘æ ¼ï¼ˆæ•°é‡ä¸€èˆ¬å›ºå®šï¼‰ï¼Œç„¶åå†æŠŠå…ƒç´ å¾€é‡Œå¡«å……ã€‚â€“grid</li></ul><h2 id="ç”¨emotionå°è£…ä¸€ä¸ªflexå¸ƒå±€"><a href="#ç”¨emotionå°è£…ä¸€ä¸ªflexå¸ƒå±€" class="headerlink" title="ç”¨emotionå°è£…ä¸€ä¸ªflexå¸ƒå±€"></a>ç”¨emotionå°è£…ä¸€ä¸ªflexå¸ƒå±€</h2><p><code>style.component</code>åˆ›å»ºå‡ºæ¥çš„æ˜¯æ˜¯ä¸€ä¸ª<code>React.component</code>å¯¹è±¡ï¼Œé‚£ä¹ˆå½“ç„¶å¯ä»¥æ¥å—å‚æ•°ï¼ˆæ¯•ç«Ÿç»„ä»¶å®è´¨ä¸Šä¹Ÿåªæ˜¯ä¸€ä¸ªå‡½æ•°ï¼‰ï¼Œå°†<code>style</code>å†™æˆä¸€ä¸ªç»„ä»¶çš„å½¢å¼ï¼Œå¬èµ·æ¥å¾ˆå‰å®³</p><p>åœ¨srcä¸‹çš„componetsæ–‡ä»¶é‡Œæ–°å»ºä¸€ä¸ª<code>lib.tsx</code></p><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> styled <span class="keyword">from</span> <span class="string">"@emotion/styled"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°è£…äº†ä¸€ä¸ªflexå¸ƒå±€ï¼Œæ¥å—ä¸‰ä¸ªå‚æ•°(between, gap, marginBottom)</span></span><br><span class="line"><span class="comment">// å‚æ•°çš„æ ·å­æ˜¯ä¸æ˜¯å¾ˆåƒæ¥å£?</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> Row = styled.div&lt;{</span><br><span class="line">  between?: <span class="built_in">boolean</span>;</span><br><span class="line">  gap?: <span class="built_in">number</span> | <span class="built_in">boolean</span>;</span><br><span class="line">  marginBottom?: <span class="built_in">number</span>;</span><br><span class="line">}&gt;<span class="string">`</span></span><br><span class="line"><span class="string">  display: flex;</span></span><br><span class="line"><span class="string">  flex-flow: row nowrap;</span></span><br><span class="line"><span class="string">  align-items: center;</span></span><br><span class="line"><span class="string">  justify-content: <span class="subst">${(props) =&gt; (props.between ? <span class="string">"space-between"</span> : <span class="literal">undefined</span>)}</span>;</span></span><br><span class="line"><span class="string">  margin-bottom: <span class="subst">${(props) =&gt; props.marginBottom + <span class="string">"rem"</span>}</span>;</span></span><br><span class="line"><span class="string">  &gt; * { // è¿™é‡Œä»£è¡¨æ‰€æœ‰å­å…ƒç´ </span></span><br><span class="line"><span class="string">    margin-top: 0 !important;</span></span><br><span class="line"><span class="string">    margin-bottom: 0 !important;</span></span><br><span class="line"><span class="string">    margin-right: <span class="subst">${(props) =&gt;</span></span></span><br><span class="line"><span class="string"><span class="subst">      <span class="keyword">typeof</span> props.gap === <span class="string">"number"</span></span></span></span><br><span class="line"><span class="string"><span class="subst">        ? props.gap + <span class="string">"rem"</span></span></span></span><br><span class="line"><span class="string"><span class="subst">        : props.gap</span></span></span><br><span class="line"><span class="string"><span class="subst">        ? <span class="string">"2rem"</span></span></span></span><br><span class="line"><span class="string"><span class="subst">        : <span class="literal">undefined</span>}</span>;</span></span><br><span class="line"><span class="string">  }</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>åœ¨é¡¹ç›®ä¸­å¼•ç”¨å¹¶ä½¿ç”¨:</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import { Row } from "components/lib";</span><br><span class="line"></span><br><span class="line">const Header = styled(Row)``;</span><br><span class="line"></span><br><span class="line">const HeaderLeft = styled(Row)``;</span><br><span class="line"></span><br><span class="line">     &lt;Header between={true}&gt; // åœ¨è¿™é‡Œä¼ é€’å‚æ•°ï¼Œæ˜¯ä¸æ˜¯å¾ˆåƒç»„ä»¶!</span><br><span class="line">        &lt;HeaderLeft gap={true}&gt;</span><br><span class="line">          &lt;h3&gt;logo&lt;/h3&gt;</span><br><span class="line">          &lt;h3&gt;æˆ‘çš„&lt;/h3&gt;</span><br><span class="line">          &lt;h3&gt;é¡¹ç›®&lt;/h3&gt;</span><br><span class="line">        &lt;/HeaderLeft&gt;</span><br><span class="line">        &lt;HeaderRight&gt;</span><br><span class="line">          &lt;button onClick={() =&gt; logout()}&gt;ç™»å‡º&lt;/button&gt;</span><br><span class="line">        &lt;/HeaderRight&gt;</span><br><span class="line">      &lt;/Header&gt;</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h2 id="emotionåœ¨è¡Œå†…æ ·å¼ä¸­ä½¿ç”¨"><a href="#emotionåœ¨è¡Œå†…æ ·å¼ä¸­ä½¿ç”¨" class="headerlink" title="emotionåœ¨è¡Œå†…æ ·å¼ä¸­ä½¿ç”¨"></a>emotionåœ¨è¡Œå†…æ ·å¼ä¸­ä½¿ç”¨</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/** @jsxRuntime classic */</span><br><span class="line">/** @jsx jsx */</span><br><span class="line">// ç¬¬ä¸€è¡Œè¡¨ç¤ºä½¿ç”¨æ—§ç‰ˆä¼ ç»Ÿæ¨¡å¼æ‰‹åŠ¨å¯¼å…¥è¿è¡Œæ—¶</span><br><span class="line">// ç¬¬äºŒè¡Œè¡¨ç¤ºæŒ‡æ˜ä¸‹ä¸€è¡Œä¸ºè¿è¡Œæ—¶çš„å¯¼å…¥</span><br><span class="line"></span><br><span class="line">&lt;Form css={{ marginBottom: "2rem" }} layout={"inline"}&gt;</span><br></pre></td></tr></tbody></table></figure><p>ä¸æ˜¯å¾ˆæ¨èä½¿ç”¨ css props ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨å¤–é“¾ css æ–‡ä»¶æˆ– <code>@emotion/styled</code> çš„ <em>styled-components</em> æ–¹æ¡ˆï¼Œéƒ½æ˜¯å¾ˆä¸é”™çš„é€‰æ‹©ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Webå‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Reactä¸­çš„å›¾ç‰‡</title>
      <link href="2021/05/10/React%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%9B%BE%E7%89%87/"/>
      <url>2021/05/10/React%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%9B%BE%E7%89%87/</url>
      
        <content type="html"><![CDATA[<h1 id="Reactä¸­å›¾ç‰‡ä½¿ç”¨æ–¹æ³•"><a href="#Reactä¸­å›¾ç‰‡ä½¿ç”¨æ–¹æ³•" class="headerlink" title="Reactä¸­å›¾ç‰‡ä½¿ç”¨æ–¹æ³•"></a>Reactä¸­å›¾ç‰‡ä½¿ç”¨æ–¹æ³•</h1><h2 id="img"><a href="#img" class="headerlink" title="img"></a>img</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import softwareLogo from 'assets/software-logo.svg'</span><br><span class="line"></span><br><span class="line">&lt;img src={softwareLogo} alt="" /&gt;</span><br></pre></td></tr></tbody></table></figure><p>ä¼˜ç‚¹æ˜¯ä½¿ç”¨æ–¹ä¾¿ï¼Œä½†ä¸å¥½è§„å®šæ ·å¼å’Œå›¾ç‰‡å¤§å°</p><h2 id="svg"><a href="#svg" class="headerlink" title="svg"></a>svg</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import { ReactComponent as SoftwareLogo } from "assets/software-logo.svg";</span><br><span class="line">// å°†å›¾ç‰‡ä½œä¸ºä¸€ä¸ªç»„ä»¶å¼•å…¥</span><br><span class="line">&lt;SoftwareLogo width={'18rem'} color={'rgb(38, 132, 255)'}&gt;&lt;/SoftwareLogo&gt;</span><br></pre></td></tr></tbody></table></figure><p>è½»æ˜“çš„å°±èƒ½æ”¹å˜æ ·å¼</p>]]></content>
      
      
      <categories>
          
          <category> Webå‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TypeScriptå¦‚ä½•åˆç†å¤„ç†å¯¹è±¡</title>
      <link href="2021/05/10/TypeScript%E8%BF%9B%E9%98%B6-%E5%A6%82%E4%BD%95%E5%90%88%E7%90%86%E5%A4%84%E7%90%86%E5%AF%B9%E8%B1%A1/"/>
      <url>2021/05/10/TypeScript%E8%BF%9B%E9%98%B6-%E5%A6%82%E4%BD%95%E5%90%88%E7%90%86%E5%A4%84%E7%90%86%E5%AF%B9%E8%B1%A1/</url>
      
        <content type="html"><![CDATA[<h2 id="TypeScriptä¸­çš„objectå‡ºç°çš„é”™è¯¯"><a href="#TypeScriptä¸­çš„objectå‡ºç°çš„é”™è¯¯" class="headerlink" title="TypeScriptä¸­çš„objectå‡ºç°çš„é”™è¯¯"></a>TypeScriptä¸­çš„objectå‡ºç°çš„é”™è¯¯</h2><p><code>object</code>æ˜¯ä¸ªå¾ˆåŸºç¡€ä¹Ÿå¾ˆå¸¸è§çš„å¼•ç”¨ç±»å‹ï¼Œæ¯”å¦‚æˆ‘ç”¨<code>typescript</code>å®šä¹‰ä¸€ä¸ª<code>object</code>ç±»å‹çš„å˜é‡</p><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a: <span class="built_in">object</span>;</span><br></pre></td></tr></tbody></table></figure><p>ä¹ä¸€çœ‹æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†å´_æš—è—ç„æœº_</p><p>æ¯”å¦‚æˆ‘ç°åœ¨æƒ³å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒèƒ½åˆ¤æ–­å¯¹è±¡å“ªäº›å±æ€§æ˜¯<code>number</code>ç±»å‹ï¼Œç„¶åè¿”å›ä¸€ä¸ªç”±è¿™äº›å±æ€§ç»„æˆçš„æ–°çš„å¯¹è±¡:</p><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isNumber = <span class="function">(<span class="params"><span class="built_in">object</span>: <span class="built_in">object</span></span>) =&gt;</span> {</span><br><span class="line">    <span class="comment">// åœ¨ä¸€ä¸ªå‡½æ•°é‡Œï¼Œæ”¹å˜ä¼ å…¥çš„å¯¹è±¡æœ¬èº«æ˜¯ä¸å¥½çš„</span></span><br><span class="line">    <span class="keyword">const</span> result = { ...object }</span><br><span class="line">    <span class="built_in">Object</span>.keys(result).forEach(<span class="function"><span class="params">key</span> =&gt;</span> {</span><br><span class="line">        <span class="keyword">const</span> value = result[key];</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">typeof</span> value !== <span class="string">'number'</span>) {</span><br><span class="line">            <span class="keyword">delete</span> result[key];</span><br><span class="line">        }</span><br><span class="line">    })</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>è¿™æ ·çœ‹ä¸Šå»æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯ç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼š</p><p><img src="images/artical-image/image-20210510173337280.png" alt="image-20210510173337280"></p><p>ä¸Šé¢æç¤ºä¸èƒ½ç”¨<code>key</code>ä½œä¸º<code>{}</code>ç±»å‹çš„ç´¢å¼•ï¼Œä½†resultä¸ºä»€ä¹ˆæ˜¯<code>{}</code>ç±»å‹å‘¢ï¼Ÿå®ƒä¸ºä»€ä¹ˆæ˜¯ä¸ªç©ºå¯¹è±¡å‘¢?</p><p>è¿™å°±æ˜¯<code>object</code>ç±»å‹çš„å¼Šç«¯ï¼Œå®ƒè¦†ç›–çš„èŒƒå›´å¤ªå¹¿ï¼Œå‡ ä¹é™¤äº†åŸå§‹ç±»å‹å¤–çš„æ‰€æœ‰ç±»å‹éƒ½æ˜¯ç”±å®ƒè€Œè¡ç”Ÿçš„ï¼ŒåŸå‹é“¾çš„ç»ˆç‚¹éƒ½æœ‰å®ƒ</p><p>çœ‹ä¸‹é¢ä¸€æ®µä»£ç å°±æ˜ç™½äº†ï¼š</p><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a: <span class="built_in">object</span>;</span><br><span class="line">a = {<span class="attr">name</span>: <span class="string">'jack'</span>}</span><br><span class="line">a = <span class="function">() =&gt;</span> {}</span><br><span class="line">a = []</span><br></pre></td></tr></tbody></table></figure><p>åœ¨è¿™ä¸‰ç§æƒ…å†µä¸‹ï¼Œtséƒ½æ²¡æœ‰æŠ¥é”™</p><p>äºæ˜¯ä¸Šé¢çš„é—®é¢˜å°±æ‰¾åˆ°åŸå› äº†ï¼Œ_jså¼•æ“_å¹¶ä¸çŸ¥é“è¿™ä¸ªresultå…·ä½“æ˜¯ä¸ªå­—é¢é‡å¯¹è±¡ï¼Œè¿˜æ˜¯å‡½æ•°æˆ–è€…è¯´æ˜¯ç´¢å¼•ç±»å‹ï¼Œæ‰€ä»¥å®ƒéå¸¸äººæ€§åŒ–çš„ç»™ä½ è¿”å›äº†<code>{}</code>ï¼Œè€Œ<code>key</code>å½“ä½œ<code>{}</code>çš„ç´¢å¼•å°±æŠ¥é”™äº†ã€‚</p><h2 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h2><h3 id="æ–¹æ¡ˆ1"><a href="#æ–¹æ¡ˆ1" class="headerlink" title="æ–¹æ¡ˆ1"></a>æ–¹æ¡ˆ1</h3><p>é€šè¿‡ <strong>keyof</strong> çš„æ–¹å¼å¯ä»¥è·å–ts ç±»å‹çš„å±æ€§keyçš„å€¼</p><p>é€‚ç”¨ä¸é<strong>å‡½æ•°</strong>åœºæ™¯</p><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = {</span><br><span class="line">    a: <span class="string">'1'</span>,</span><br><span class="line">    b: <span class="string">'2'</span></span><br><span class="line">}</span><br><span class="line"><span class="comment">// è¿™é‡Œtypeof foo =&gt; fooçš„ç±»å‹ ç­‰åŒäº interface Foo { a: string; b: string; }// typeof foo === Fooï¼Œè¿™é‡Œåªæ‰€ä»¥ç”¨ typeof fooï¼Œå› ä¸ºè¿™æ ·æ–¹ä¾¿ï¼Œå¯¹äºä¸æƒ³å†™interfaceçš„ç›´æ¥é‡å¯¹è±¡å¾ˆå®¹æ˜“è·å–å®ƒçš„ç±»å‹// keyof typeof fooè¿™é‡Œåªè·å– Fooçš„ç±»å‹çš„keyå€¼ï¼Œæ³¨æ„è¿™ä¸ªkeyofåé¢ä¸€å®šæ˜¯ typescriptçš„ç±»å‹</span></span><br><span class="line"><span class="keyword">type</span> FooType = keyof <span class="keyword">typeof</span> foo; <span class="keyword">var</span> getPropertyValue = <span class="built_in">Object</span>.keys(foo).map(<span class="function"><span class="params">item</span> =&gt;</span> foo[item <span class="keyword">as</span> FooType])</span><br></pre></td></tr></tbody></table></figure><h3 id="æ–¹æ¡ˆ2"><a href="#æ–¹æ¡ˆ2" class="headerlink" title="æ–¹æ¡ˆ2"></a>æ–¹æ¡ˆ2</h3><p>å°†å‚æ•°ç±»å‹æ”¹ä¸º_key-value_å¯¹è±¡</p><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> isNumber = <span class="function">(<span class="params"><span class="built_in">object</span>: {[key: <span class="built_in">string</span>]: unknown}</span>) =&gt;</span> {</span><br><span class="line">  <span class="comment">// åœ¨ä¸€ä¸ªå‡½æ•°é‡Œï¼Œæ”¹å˜ä¼ å…¥çš„å¯¹è±¡æœ¬èº«æ˜¯ä¸å¥½çš„</span></span><br><span class="line">  <span class="keyword">const</span> result = { ...object }</span><br><span class="line">  <span class="built_in">Object</span>.keys(result).forEach(<span class="function"><span class="params">key</span> =&gt;</span> {</span><br><span class="line">      <span class="keyword">const</span> value = result[key];</span><br><span class="line">      <span class="keyword">if</span>(<span class="keyword">typeof</span> value !== <span class="string">'number'</span>) {</span><br><span class="line">          <span class="keyword">delete</span> result[key];</span><br><span class="line">      }</span><br><span class="line">  })</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> Webå‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TypeScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TypeScriptè¿›é˜¶ä¹‹å°è£…axios</title>
      <link href="2021/05/09/TypeScript%E8%BF%9B%E9%98%B6-%E5%B0%81%E8%A3%85axios/"/>
      <url>2021/05/09/TypeScript%E8%BF%9B%E9%98%B6-%E5%B0%81%E8%A3%85axios/</url>
      
        <content type="html"><![CDATA[<h1 id="TypeScriptå¯¹axiosçš„å°è£…"><a href="#TypeScriptå¯¹axiosçš„å°è£…" class="headerlink" title="TypeScriptå¯¹axiosçš„å°è£…"></a>TypeScriptå¯¹axiosçš„å°è£…</h1><p>é¡¹ç›®ä¸­ç”¨åˆ°äº†<code>typescript</code>å’Œ<code>axios</code>ï¼Œå¯¹<code>axios</code>è¿›è¡Œå°è£…:</p><p><code>request.js</code>ï¼š</p><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥axiosæ¨¡å— ç”¨{}å¼•å…¥çš„è¡¨ç¤ºç±»å‹</span></span><br><span class="line"><span class="keyword">import</span> axios, {</span><br><span class="line">  AxiosInstance, <span class="comment">// axioså®ä¾‹</span></span><br><span class="line">  AxiosRequestConfig, <span class="comment">//axiosè¯·æ±‚config</span></span><br><span class="line">  AxiosPromise, <span class="comment">// axiosè¿”å›çš„ç±»å‹</span></span><br><span class="line">  AxiosResponse, <span class="comment">// axiosè¿”å›çš„æ•°æ®</span></span><br><span class="line">} <span class="keyword">from</span> <span class="string">"axios"</span>;</span><br><span class="line"><span class="keyword">const</span> apiBaseUrl = process.env.REACT_APP_API_URL;</span><br></pre></td></tr></tbody></table></figure><p>æ ¹æ®æœåŠ¡ç«¯è¿”å›çš„æ•°æ®æ ¼å¼å¯¹è¿”å›æ•°æ®è¿›è¡Œçº¦æŸ:</p><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> ResponseData&lt;T = any&gt; {</span><br><span class="line">    data?: T,</span><br><span class="line">    code?: <span class="built_in">number</span>,</span><br><span class="line">    msg?: <span class="built_in">string</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>åˆ›å»º<code>HttpRequest</code>ç±»:</p><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HttpRequest</span> </span>{</span><br><span class="line">  <span class="title">constructor</span>(<span class="params"></span></span><br><span class="line"><span class="params">    <span class="keyword">public</span> baseUrl: <span class="built_in">string</span> | <span class="literal">undefined</span> = apiBaseUrl,</span></span><br><span class="line"><span class="params">    <span class="keyword">public</span> timeout: <span class="built_in">number</span> = <span class="number">5000</span></span></span><br><span class="line"><span class="params">  </span>) {</span><br><span class="line">    <span class="built_in">this</span>.baseUrl = baseUrl;</span><br><span class="line">    <span class="built_in">this</span>.timeout = timeout;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> request(options: AxiosRequestConfig): AxiosPromise {</span><br><span class="line">    <span class="keyword">const</span> instance: AxiosInstance = axios.create(); <span class="comment">// åˆ›å»ºå®ä¾‹</span></span><br><span class="line">    options = <span class="built_in">this</span>.mergeConfig(options); <span class="comment">// åˆå¹¶åŸºç¡€è·¯å¾„å’Œæ¯ä¸ªæ¥å£å•ç‹¬ä¼ å…¥çš„é…ç½®ï¼Œæ¯”å¦‚urlã€å‚æ•°ç­‰</span></span><br><span class="line">    <span class="built_in">this</span>.interceptors(instance, options.url); <span class="comment">// è°ƒç”¨interceptorsæ–¹æ³•ä½¿æ‹¦æˆªå™¨ç”Ÿæ•ˆ</span></span><br><span class="line">    <span class="keyword">return</span> instance(options);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="function"><span class="title">interceptors</span>(<span class="params">instance: AxiosInstance, url?: <span class="built_in">string</span></span>)</span> {</span><br><span class="line">    <span class="comment">// åœ¨è¿™é‡Œæ·»åŠ è¯·æ±‚å’Œå“åº”æ‹¦æˆª</span></span><br><span class="line">    instance.interceptors.request.use(</span><br><span class="line">      (config: AxiosRequestConfig) =&gt; {</span><br><span class="line">        <span class="comment">// æ¥å£è¯·æ±‚çš„æ‰€æœ‰é…ç½®ï¼Œéƒ½åœ¨è¿™ä¸ªconfigå¯¹è±¡ä¸­ï¼Œä»–çš„ç±»å‹æ˜¯AxiosRequestConfigï¼Œä½ å¯ä»¥çœ‹åˆ°ä»–æœ‰å“ªäº›å­—æ®µ</span></span><br><span class="line">        <span class="comment">// å¦‚æœä½ è¦ä¿®æ”¹æ¥å£è¯·æ±‚é…ç½®ï¼Œéœ€è¦ä¿®æ”¹ axios.defaults ä¸Šçš„å­—æ®µå€¼</span></span><br><span class="line">        <span class="keyword">let</span> token = auth.getToken();</span><br><span class="line">        <span class="keyword">if</span> (token) {</span><br><span class="line">          config.headers[<span class="string">"Authorization"</span>] = <span class="string">`Bearer <span class="subst">${token}</span>`</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> config;</span><br><span class="line">      },</span><br><span class="line">      (error) =&gt; {</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);</span><br><span class="line">      }</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    instance.interceptors.response.use(</span><br><span class="line">      <span class="keyword">async</span> (res: AxiosResponse) =&gt; {</span><br><span class="line">        <span class="built_in">console</span>.log(res);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> { data } = res; <span class="comment">// resçš„ç±»å‹æ˜¯AxiosResponse&lt;any&gt;ï¼ŒåŒ…å«å…­ä¸ªå­—æ®µï¼Œå…¶ä¸­dataæ˜¯æœåŠ¡ç«¯è¿”å›çš„æ•°æ®</span></span><br><span class="line">        <span class="keyword">const</span> { code, msg } = data; <span class="comment">// é€šå¸¸æœåŠ¡ç«¯ä¼šå°†å“åº”çŠ¶æ€ç ã€æç¤ºä¿¡æ¯ã€æ•°æ®ç­‰æ”¾åˆ°è¿”å›çš„æ•°æ®ä¸­</span></span><br><span class="line">        <span class="keyword">if</span> (code === <span class="number">401</span>) {</span><br><span class="line">          <span class="keyword">await</span> auth.logout();</span><br><span class="line">          <span class="built_in">window</span>.location.reload();</span><br><span class="line">          <span class="keyword">return</span> <span class="built_in">Promise</span>.reject({ <span class="attr">message</span>: <span class="string">"è¯·é‡æ–°ç™»å½•"</span> });</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">          <span class="keyword">return</span> res;</span><br><span class="line">        }</span><br><span class="line">      },</span><br><span class="line">      (error) =&gt; {</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);</span><br><span class="line">      }</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> mergeConfig(options: AxiosRequestConfig): AxiosRequestConfig {</span><br><span class="line">    <span class="comment">// è¿™ä¸ªæ–¹æ³•ç”¨äºåˆå¹¶åŸºç¡€è·¯å¾„é…ç½®å’Œæ¥å£å•ç‹¬é…ç½®</span></span><br><span class="line">    <span class="keyword">return</span> { ...options, <span class="attr">baseURL</span>: <span class="built_in">this</span>.baseUrl, <span class="attr">timeout</span>: <span class="built_in">this</span>.timeout };</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> HttpRequest;</span><br></pre></td></tr></tbody></table></figure><p>åœ¨<code>api</code>ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª<code>index.ts</code>æ–‡ä»¶:</p><p><code>index.ts</code>:</p><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> HttpRequest <span class="keyword">from</span> <span class="string">'utils/request'</span>; <span class="comment">// å¼•å…¥HttpRequestç±»</span></span><br><span class="line"><span class="keyword">export</span> * <span class="keyword">from</span> <span class="string">'utils/request'</span> <span class="comment">// å¯¼å‡ºrequestæ–‡ä»¶ä¸­çš„å†…å®¹</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> HttpRequest() <span class="comment">// å¯¼å‡ºHttpRequestå®ä¾‹</span></span><br></pre></td></tr></tbody></table></figure><p>ç„¶åå°±èƒ½åœ¨<code>api</code>ç›®å½•ä¸­å†™è¯·æ±‚æ¥å£äº†ï¼Œä¾‹å¦‚<code>auth.ts</code>:</p><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> http, { ResponseData } <span class="keyword">from</span> <span class="string">"./index"</span>;</span><br><span class="line"><span class="keyword">import</span> { User } <span class="keyword">from</span> <span class="string">'utils/type'</span>;</span><br><span class="line"><span class="keyword">import</span> { AxiosPromise } <span class="keyword">from</span> <span class="string">'axios'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯·æ±‚æºå¸¦å‚æ•°</span></span><br><span class="line"><span class="keyword">interface</span> LoginInformation {</span><br><span class="line">  username: <span class="built_in">string</span>;</span><br><span class="line">  password: <span class="built_in">string</span> | <span class="built_in">number</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›æ•°æ®</span></span><br><span class="line"><span class="keyword">interface</span> Response <span class="keyword">extends</span> User {</span><br><span class="line">    </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> userLogin = (</span><br><span class="line">  data: LoginInformation <span class="comment">// è¿™æ˜¯è¯·æ±‚æ•°æ®</span></span><br><span class="line">): AxiosPromise&lt;ResponseData&lt;Response&gt;&gt;<span class="comment">// è¿™æ˜¯è¿”å›æ•°æ®</span></span><br><span class="line">    =&gt; {</span><br><span class="line">  <span class="keyword">return</span> http.request({</span><br><span class="line">    url: <span class="string">`/login`</span>,</span><br><span class="line">    method: <span class="string">"POST"</span>,</span><br><span class="line">    headers: {</span><br><span class="line">      <span class="string">"Content-Type"</span>: <span class="string">"application/json"</span>,</span><br><span class="line">    },</span><br><span class="line">    data: data,</span><br><span class="line">  });</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> userRegister = (</span><br><span class="line">  data: LoginInformation</span><br><span class="line">): AxiosPromise&lt;ResponseData&gt; =&gt; {</span><br><span class="line">  <span class="keyword">return</span> http.request({</span><br><span class="line">    url: <span class="string">`/register`</span>,</span><br><span class="line">    method: <span class="string">"POST"</span>,</span><br><span class="line">    headers: {</span><br><span class="line">      <span class="string">"Content-Type"</span>: <span class="string">"application/json"</span>,</span><br><span class="line">    },</span><br><span class="line">    data: data,</span><br><span class="line">  });</span><br><span class="line">};</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>è°ƒç”¨<code>api</code>:</p><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> login = <span class="function">(<span class="params">data: { username: <span class="built_in">string</span>; password: <span class="built_in">string</span> | <span class="built_in">number</span>}</span>) =&gt;</span> {</span><br><span class="line">  <span class="keyword">return</span> userLogin(data)</span><br><span class="line">    .then(<span class="function">(<span class="params">res</span>) =&gt;</span> {</span><br><span class="line">      <span class="keyword">const</span> data = res.data.user;</span><br><span class="line">      <span class="keyword">return</span> handleUserResponse(data);</span><br><span class="line">    })</span><br><span class="line">    .catch(<span class="function">(<span class="params">error</span>) =&gt;</span> <span class="built_in">Promise</span>.reject(error));</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><p>è¿™æ ·å°±èƒ½ç”¨<code>typescript</code>å¯¹è¯·æ±‚çš„æ•°æ®å’Œè¿”å›çš„æ•°æ®è¿›è¡Œçº¦æŸï¼ŒåŒæ—¶å¯¹axiosä¹Ÿè¿›è¡Œäº†ä¸€æ¬¡å°è£…ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Webå‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TypeScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TypeScriptè¿›é˜¶ä¹‹utility types</title>
      <link href="2021/05/07/TypeScript%E8%BF%9B%E9%98%B6-utility%20types/"/>
      <url>2021/05/07/TypeScript%E8%BF%9B%E9%98%B6-utility%20types/</url>
      
        <content type="html"><![CDATA[<h1 id="TypeScript-utility-types"><a href="#TypeScript-utility-types" class="headerlink" title="TypeScript utility types"></a>TypeScript utility types</h1><p>ä¸‹é¢åˆ—ä¸¾äº†ä¸€äº›é¡¹ç›®ä¸­å¸¸ç”¨çš„typescriptå·¥å…·</p><h2 id="1ã€Partial"><a href="#1ã€Partial" class="headerlink" title="1ã€Partial"></a>1ã€Partial</h2><p>æ„é€ ä¸€ä¸ªæ‰€æœ‰å±æ€§éƒ½Typeè®¾ç½®ä¸ºoptionalçš„ç±»å‹ã€‚è¯¥å®ç”¨ç¨‹åºå°†è¿”å›ä¸€ä¸ªè¡¨ç¤ºç»™å®šç±»å‹çš„æ‰€æœ‰å­é›†çš„ç±»å‹ï¼Œæ‰€ä»¥æ‰€æœ‰å±æ€§éƒ½ä¼šåŠ ä¸Šä¸€ä¸ªundefined</p><h3 id="example"><a href="#example" class="headerlink" title="example:"></a>example:</h3><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> User {</span><br><span class="line">    id: <span class="built_in">string</span>;</span><br><span class="line">    name: <span class="built_in">string</span>;</span><br><span class="line">    token: <span class="built_in">string</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> part: Partial&lt;User&gt; = {<span class="attr">id</span>: <span class="string">'1'</span>}</span><br><span class="line"><span class="keyword">let</span> part: Partial&lt;User&gt; = {<span class="attr">id</span>: <span class="literal">undefined</span>}</span><br></pre></td></tr></tbody></table></figure><h2 id="2ã€Required"><a href="#2ã€Required" class="headerlink" title="2ã€Required"></a>2ã€Required</h2><p>æ„é€ ä¸€ä¸ªç±»å‹ï¼Œè¯¥ç±»å‹ç”±Typesetçš„æ‰€æœ‰å±æ€§è®¾ç½®ä¸ºrequired</p><h3 id="example-1"><a href="#example-1" class="headerlink" title="example:"></a>example:</h3><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> User {</span><br><span class="line">    id: <span class="built_in">string</span>;</span><br><span class="line">    name: <span class="built_in">string</span>;</span><br><span class="line">    token: <span class="built_in">string</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> part: Required&lt;User&gt; = {<span class="attr">id</span>: <span class="string">'1'</span>}</span><br></pre></td></tr></tbody></table></figure><p><img src="/images/artical-image/image-20210507203315789.png" alt="image-20210507203315789"></p><h2 id="3ã€Readonly"><a href="#3ã€Readonly" class="headerlink" title="3ã€Readonly"></a>3ã€Readonly</h2><p>æ„é€ ä¸€ä¸ªæ‰€æœ‰å±æ€§éƒ½Typeè®¾ç½®ä¸ºçš„ç±»å‹readonlyï¼Œè¿™æ„å‘³ç€æ— æ³•é‡æ–°åˆ†é…æ‰€æ„é€ ç±»å‹çš„å±æ€§ã€‚</p><h2 id="example-2"><a href="#example-2" class="headerlink" title="# example:"></a># example:</h2><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> User {</span><br><span class="line">    id: <span class="built_in">string</span>;</span><br><span class="line">    name: <span class="built_in">string</span>;</span><br><span class="line">    token: <span class="built_in">string</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> part: Readonly&lt;User&gt; = {<span class="attr">id</span>: <span class="string">'1'</span>, <span class="attr">name</span>: <span class="string">'xiaoming'</span>, <span class="attr">token</span>: <span class="string">'abc'</span>}</span><br><span class="line">part.name = <span class="string">'xiaoli'</span></span><br></pre></td></tr></tbody></table></figure><p><img src="/images/artical-image/image-20210507203606006.png" alt="image-20210507203606006"></p><h2 id="4ã€Record-lt-Keys-Type-gt"><a href="#4ã€Record-lt-Keys-Type-gt" class="headerlink" title="4ã€Record<Keys,Type>"></a>4ã€Record&lt;Keys,Type&gt;</h2><p>æ„é€ ä¸€ä¸ªå¯¹è±¡ç±»å‹ï¼Œå…¶å±æ€§é”®ä¸ºKeysï¼Œå±æ€§å€¼ä¸ºTypeã€‚è¯¥å®ç”¨ç¨‹åºå¯ç”¨äº<strong>å°†ä¸€ä¸ªç±»å‹çš„å±æ€§æ˜ å°„åˆ°å¦ä¸€ä¸ªç±»å‹ã€‚</strong></p><h3 id="example-3"><a href="#example-3" class="headerlink" title="example:"></a>example:</h3><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> User {</span><br><span class="line">    id: <span class="built_in">string</span>;</span><br><span class="line">    name: <span class="built_in">string</span>;</span><br><span class="line">    token: <span class="built_in">string</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> part: Record&lt;<span class="string">'keys'</span>, User&gt; = {<span class="attr">keys</span>: {<span class="attr">id</span>: <span class="string">'1'</span>, <span class="attr">name</span>: <span class="string">'xiaoli'</span>, <span class="attr">token</span>: <span class="string">'a'</span>}}</span><br></pre></td></tr></tbody></table></figure><h2 id="5ã€Pick-lt-Type-Keys-gt"><a href="#5ã€Pick-lt-Type-Keys-gt" class="headerlink" title="5ã€Pick<Type, Keys>"></a>5ã€Pick&lt;Type, Keys&gt;</h2><p>é€šè¿‡Keysä»ä¸­é€‰æ‹©ä¸€ç»„å±æ€§ï¼ˆå­—ç¬¦ä¸²æ–‡å­—æˆ–å­—ç¬¦ä¸²æ–‡å­—å¹¶é›†ï¼‰æ¥æ„é€ ç±»å‹Typeã€‚</p><h3 id="example-4"><a href="#example-4" class="headerlink" title="example:"></a>example:</h3><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> User {</span><br><span class="line">    id: <span class="built_in">string</span>;</span><br><span class="line">    name: <span class="built_in">string</span>;</span><br><span class="line">    token: <span class="built_in">string</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> part: Pick&lt;User, <span class="string">'id'</span> &amp; <span class="string">'token'</span>&gt; = {<span class="attr">id</span>: <span class="string">'1'</span>, <span class="attr">token</span>: <span class="string">'abc'</span>}</span><br></pre></td></tr></tbody></table></figure><h2 id="6ã€Omit-lt-Type-Keys-gt"><a href="#6ã€Omit-lt-Type-Keys-gt" class="headerlink" title="6ã€Omit<Type, Keys>"></a>6ã€Omit&lt;Type, Keys&gt;</h2><p>é€šè¿‡ä»ä¸­é€‰æ‹©æ‰€æœ‰å±æ€§Typeç„¶ååˆ é™¤Keysï¼ˆå­—ç¬¦ä¸²æ–‡å­—æˆ–å­—ç¬¦ä¸²æ–‡å­—çš„å¹¶é›†ï¼‰æ¥æ„é€ ç±»å‹ã€‚</p><h3 id="example-5"><a href="#example-5" class="headerlink" title="example:"></a>example:</h3><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> User {</span><br><span class="line">    id: <span class="built_in">string</span>;</span><br><span class="line">    name: <span class="built_in">string</span>;</span><br><span class="line">    token: <span class="built_in">string</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> part: Omit&lt;User, <span class="string">'id'</span>&gt; = {<span class="attr">name</span>: <span class="string">'xiaoming'</span>, <span class="attr">token</span>: <span class="string">'abc'</span>}</span><br></pre></td></tr></tbody></table></figure><h2 id="7ã€Parameters"><a href="#7ã€Parameters" class="headerlink" title="7ã€Parameters"></a>7ã€Parameters</h2><p>ä»å‡½æ•°ç±»å‹çš„å‚æ•°ä¸­ä½¿ç”¨çš„ç±»å‹æ„é€ ä¸€ä¸ª<strong>å…ƒç»„ç±»å‹Typeã€‚</strong></p><h3 id="example-6"><a href="#example-6" class="headerlink" title="example:"></a>example:</h3><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fn = <span class="function">(<span class="params">str: <span class="built_in">string</span>, num: <span class="built_in">number</span></span>) =&gt;</span> {};</span><br><span class="line"><span class="keyword">let</span> params: Parameters&lt;<span class="keyword">typeof</span> fn&gt; = [<span class="string">"str"</span>, <span class="number">1</span>];</span><br></pre></td></tr></tbody></table></figure><h2 id="8ã€ReturnType"><a href="#8ã€ReturnType" class="headerlink" title="8ã€ReturnType"></a>8ã€ReturnType</h2><p>æ„é€ ä¸€ä¸ªç”±å‡½æ•°çš„è¿”å›ç±»å‹ç»„æˆçš„<strong>ç±»å‹Typeã€‚</strong></p><h3 id="example-7"><a href="#example-7" class="headerlink" title="example:"></a>example:</h3><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fn = <span class="function">(<span class="params">str: <span class="built_in">string</span>, num: <span class="built_in">number</span></span>) =&gt;</span> {</span><br><span class="line">  <span class="keyword">return</span> { str, num };</span><br><span class="line">};</span><br><span class="line"><span class="keyword">let</span> params: ReturnType&lt;<span class="keyword">typeof</span> fn&gt; = {<span class="attr">str</span>: <span class="string">'a'</span>, <span class="attr">num</span>: <span class="number">1</span>}</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> Webå‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TypeScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TypeScriptè¿›é˜¶ä¹‹æ³›å‹</title>
      <link href="2021/05/02/TypeScript%E8%BF%9B%E9%98%B6-%E6%B3%9B%E5%9E%8B/"/>
      <url>2021/05/02/TypeScript%E8%BF%9B%E9%98%B6-%E6%B3%9B%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="TypeScript-æ³›å‹"><a href="#TypeScript-æ³›å‹" class="headerlink" title="TypeScript æ³›å‹"></a>TypeScript æ³›å‹</h2><p><strong>é€šä¿—æ¥è®²</strong>ï¼šæ³›å‹æ˜¯æŒ‡åœ¨å®šä¹‰å‡½æ•°ã€æ¥å£æˆ–è€…ç±»æ—¶ï¼ŒæœªæŒ‡å®šå…¶å‚æ•°ç±»å‹ï¼Œåªæœ‰åœ¨è¿è¡Œæ—¶ä¼ å…¥æ‰èƒ½ç¡®å®šã€‚é‚£ä¹ˆæ­¤æ—¶çš„å‚æ•°ç±»å‹å°±æ˜¯ä¸€ä¸ªå˜é‡ï¼Œé€šå¸¸ç”¨å¤§å†™å­—æ¯ <code>T</code> æ¥è¡¨ç¤ºï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–å­—ç¬¦ï¼Œå¦‚ï¼š<code>U</code>ã€<code>K</code>ç­‰ã€‚</p><p><strong>è¯­æ³•</strong>ï¼šåœ¨å‡½æ•°åã€æ¥å£åæˆ–è€…ç±»åæ·»åŠ åç¼€ <code>&lt;T&gt;</code>ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">generic</span>&lt;<span class="title">T</span>&gt;(<span class="params"></span>) </span>{}</span><br><span class="line"><span class="keyword">interface</span> Generic&lt;T&gt; {}</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Generic</span>&lt;<span class="title">T</span>&gt; </span>{}</span><br></pre></td></tr></tbody></table></figure><h3 id="åˆè¯†æ³›å‹"><a href="#åˆè¯†æ³›å‹" class="headerlink" title="åˆè¯†æ³›å‹"></a>åˆè¯†æ³›å‹</h3><p><strong>ä¹‹æ‰€ä»¥ä½¿ç”¨æ³›å‹ï¼Œæ˜¯å› ä¸ºå®ƒå¸®åŠ©æˆ‘ä»¬ä¸ºä¸åŒç±»å‹çš„è¾“å…¥ï¼Œå¤ç”¨ç›¸åŒçš„ä»£ç ã€‚</strong></p><p>æ¯”å¦‚å†™ä¸€ä¸ªæœ€ç®€å•çš„å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ä¼šè¿”å›ä»»ä½•ä¼ å…¥å®ƒçš„å€¼ã€‚å¦‚æœä¼ å…¥çš„æ˜¯ number ç±»å‹ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">identity</span>(<span class="params">arg: <span class="built_in">number</span></span>): <span class="title">number</span> </span>{</span><br><span class="line">    <span class="keyword">return</span> arg</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>å¦‚æœä¼ å…¥çš„æ˜¯ string ç±»å‹ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">identity</span>(<span class="params">arg: <span class="built_in">string</span></span>): <span class="title">string</span> </span>{</span><br><span class="line">    <span class="keyword">return</span> arg</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>é€šè¿‡æ³›å‹ï¼Œå¯ä»¥æŠŠä¸¤ä¸ªå‡½æ•°ç»Ÿä¸€èµ·æ¥ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">identity</span>&lt;<span class="title">T</span>&gt;(<span class="params">arg: T</span>): <span class="title">T</span> </span>{</span><br><span class="line">  <span class="keyword">return</span> arg</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ³›å‹å‡½æ•°çš„è¿”å›å€¼ç±»å‹æ˜¯æ ¹æ®ä½ çš„ä¸šåŠ¡éœ€æ±‚å†³å®šï¼Œå¹¶éä¸€å®šè¦è¿”å›æ³›å‹ç±»å‹ Tï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">identity</span>&lt;<span class="title">T</span>&gt;(<span class="params">arg: T</span>): <span class="title">string</span> </span>{</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">String</span>(arg)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong> å…¥å‚çš„ç±»å‹æ˜¯æœªçŸ¥çš„ï¼Œä½†æ˜¯é€šè¿‡ String è½¬æ¢ï¼Œè¿”å›å­—ç¬¦ä¸²ç±»å‹ã€‚</p><h3 id="å¤šä¸ªç±»å‹å‚æ•°"><a href="#å¤šä¸ªç±»å‹å‚æ•°" class="headerlink" title="å¤šä¸ªç±»å‹å‚æ•°"></a>å¤šä¸ªç±»å‹å‚æ•°</h3><p>æ³›å‹å‡½æ•°å¯ä»¥å®šä¹‰å¤šä¸ªç±»å‹å‚æ•°ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">extend</span>&lt;<span class="title">T</span>, <span class="title">U</span>&gt;(<span class="params">first: T, second: U</span>): <span class="title">T</span> &amp; <span class="title">U</span> </span>{</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">const</span> key <span class="keyword">in</span> second) {</span><br><span class="line">    (first <span class="keyword">as</span> T &amp; U)[key] = second[key] <span class="keyword">as</span> <span class="built_in">any</span></span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">return</span> first <span class="keyword">as</span> T &amp; U</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong> è¿™ä¸ªå‡½æ•°ç”¨æ¥åˆå¹¶ä¸¤ä¸ªå¯¹è±¡ï¼Œå…·ä½“å®ç°æš‚ä¸”ä¸å»ç®¡å®ƒï¼Œè¿™é‡Œåªéœ€è¦å…³æ³¨æ³›å‹å¤šä¸ªç±»å‹å‚æ•°çš„ä½¿ç”¨æ–¹å¼ï¼Œ**å…¶è¯­æ³•ä¸ºé€šè¿‡é€—å·åˆ†éš” <code>&lt;T, U, K&gt;</code>**ã€‚</p><h3 id="æ³›å‹å‚æ•°é»˜è®¤ç±»å‹"><a href="#æ³›å‹å‚æ•°é»˜è®¤ç±»å‹" class="headerlink" title="æ³›å‹å‚æ•°é»˜è®¤ç±»å‹"></a>æ³›å‹å‚æ•°é»˜è®¤ç±»å‹</h3><p>å‡½æ•°å‚æ•°å¯ä»¥å®šä¹‰é»˜è®¤å€¼ï¼Œæ³›å‹å‚æ•°åŒæ ·å¯ä»¥å®šä¹‰é»˜è®¤ç±»å‹ï¼š</p><p>å®ä¾‹æ¼”ç¤º</p><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">min</span>&lt;<span class="title">T</span> = <span class="title">number</span>&gt;(<span class="params">arr:T[]</span>): <span class="title">T</span></span>{</span><br><span class="line">  <span class="keyword">let</span> min = arr[<span class="number">0</span>]</span><br><span class="line">  arr.forEach(<span class="function">(<span class="params">value</span>)=&gt;</span>{</span><br><span class="line">     <span class="keyword">if</span>(value &lt; min) {</span><br><span class="line">         min = value</span><br><span class="line">     }</span><br><span class="line">  })</span><br><span class="line">   <span class="keyword">return</span> min</span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.log(min([<span class="number">20</span>, <span class="number">6</span>, <span class="number">8n</span>])) <span class="comment">// 6</span></span><br></pre></td></tr></tbody></table></figure><p><strong>è§£é‡Šï¼š</strong> åŒæ ·çš„ä¸ç”¨å»å…³æ³¨è¿™ä¸ªæœ€å°æ•°å‡½æ•°çš„å…·ä½“å®ç°ï¼Œè¦çŸ¥é“**é»˜è®¤å‚æ•°è¯­æ³•ä¸º <code>&lt;T = é»˜è®¤ç±»å‹&gt;</code>**ã€‚</p><h3 id="æ³›å‹ç±»å‹ä¸æ³›å‹æ¥å£"><a href="#æ³›å‹ç±»å‹ä¸æ³›å‹æ¥å£" class="headerlink" title="æ³›å‹ç±»å‹ä¸æ³›å‹æ¥å£"></a>æ³›å‹ç±»å‹ä¸æ³›å‹æ¥å£</h3><p>å…ˆæ¥å›é¡¾ä¸‹ä¹‹å‰ç« èŠ‚ä»‹ç»çš„å‡½æ•°ç±»å‹ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> add: <span class="function">(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">string</span> = <span class="function"><span class="keyword">function</span>(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>): <span class="title">string</span> </span>{</span><br><span class="line">  <span class="keyword">return</span> (x + y).toString()</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç­‰å·å·¦ä¾§çš„ <code>(x: number, y: number) =&gt; string</code> ä¸ºå‡½æ•°ç±»å‹ã€‚</p><p>å†çœ‹ä¸‹æ³›å‹ç±»å‹ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">identity</span>&lt;<span class="title">T</span>&gt;(<span class="params">arg: T</span>): <span class="title">T</span> </span>{</span><br><span class="line">  <span class="keyword">return</span> arg</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myIdentity: &lt;T&gt;<span class="function">(<span class="params">arg: T</span>) =&gt;</span> T = identity</span><br></pre></td></tr></tbody></table></figure><p>åŒæ ·çš„ç­‰å·å·¦ä¾§çš„ <code>&lt;T&gt;(arg: T) =&gt; T</code> å³ä¸ºæ³›å‹ç±»å‹ï¼Œå®ƒè¿˜æœ‰å¦ä¸€ç§<em>å¸¦æœ‰è°ƒç”¨ç­¾åçš„å¯¹è±¡å­—é¢é‡</em>ä¹¦å†™æ–¹å¼ï¼š<code>{ &lt;T&gt;(arg: T): T }</code>:</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">identity</span>&lt;<span class="title">T</span>&gt;(<span class="params">arg: T</span>): <span class="title">T</span> </span>{</span><br><span class="line">  <span class="keyword">return</span> arg</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myIdentity: { &lt;T&gt;(arg: T): T } = identity</span><br></pre></td></tr></tbody></table></figure><p>è¿™å°±å¼•å¯¼æˆ‘ä»¬å»å†™ç¬¬ä¸€ä¸ªæ³›å‹æ¥å£äº†ã€‚æŠŠä¸Šé¢ä¾‹å­é‡Œçš„å¯¹è±¡å­—é¢é‡æ‹¿å‡ºæ¥ä½œä¸ºä¸€ä¸ªæ¥å£ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> GenericIdentityFn {</span><br><span class="line">  &lt;T&gt;(arg: T): T</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">identity</span>&lt;<span class="title">T</span>&gt;(<span class="params">arg: T</span>): <span class="title">T</span> </span>{</span><br><span class="line">  <span class="keyword">return</span> arg</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myIdentity: GenericIdentityFn = identity</span><br></pre></td></tr></tbody></table></figure><p>è¿›ä¸€æ­¥ï¼ŒæŠŠæ³›å‹å‚æ•°å½“ä½œæ•´ä¸ªæ¥å£çš„ä¸€ä¸ªå‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ³›å‹å‚æ•°æå‰åˆ°æ¥å£åä¸Šã€‚è¿™æ ·æˆ‘ä»¬å°±èƒ½æ¸…æ¥šçš„çŸ¥é“ä½¿ç”¨çš„å…·ä½“æ˜¯å“ªä¸ªæ³›å‹ç±»å‹ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> GenericIdentityFn&lt;T&gt; {</span><br><span class="line">  (arg: T): T</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">identity</span>&lt;<span class="title">T</span>&gt;(<span class="params">arg: T</span>): <span class="title">T</span> </span>{</span><br><span class="line">  <span class="keyword">return</span> arg</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myIdentity: GenericIdentityFn&lt;<span class="built_in">number</span>&gt; = identity</span><br></pre></td></tr></tbody></table></figure><p>æ³¨æ„ï¼Œåœ¨ä½¿ç”¨æ³›å‹æ¥å£æ—¶ï¼Œéœ€è¦ä¼ å…¥ä¸€ä¸ªç±»å‹å‚æ•°æ¥æŒ‡å®šæ³›å‹ç±»å‹ã€‚ç¤ºä¾‹ä¸­ä¼ å…¥äº† number ç±»å‹ï¼Œè¿™å°±é”å®šäº†ä¹‹åä»£ç é‡Œä½¿ç”¨çš„ç±»å‹ã€‚</p><h3 id="æ³›å‹ç±»"><a href="#æ³›å‹ç±»" class="headerlink" title="æ³›å‹ç±»"></a>æ³›å‹ç±»</h3><p>å§‹ç»ˆè¦è®°å¾—ï¼Œ<strong>ä½¿ç”¨æ³›å‹æ˜¯å› ä¸ºå¯ä»¥å¤ç”¨ä¸åŒç±»å‹çš„ä»£ç </strong>ã€‚ä¸‹é¢ç”¨ä¸€ä¸ªæœ€å°å †ç®—æ³•ä¸¾ä¾‹è¯´æ˜æ³›å‹ç±»çš„ä½¿ç”¨ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MinClass</span> </span>{</span><br><span class="line">  <span class="keyword">public</span> list: <span class="built_in">number</span>[] = []</span><br><span class="line">  <span class="function"><span class="title">add</span>(<span class="params">num: <span class="built_in">number</span></span>)</span> {</span><br><span class="line">    <span class="built_in">this</span>.list.push(num)</span><br><span class="line">  }</span><br><span class="line">  min(): <span class="built_in">number</span> {</span><br><span class="line">    <span class="keyword">let</span> minNum = <span class="built_in">this</span>.list[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.list.length; i++) {</span><br><span class="line">      <span class="keyword">if</span> (minNum &gt; <span class="built_in">this</span>.list[i]) {</span><br><span class="line">        minNum = <span class="built_in">this</span>.list[i]</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> minNum</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong> ç¤ºä¾‹ä¸­æˆ‘ä»¬å®ç°äº†ä¸€ä¸ªæŸ¥æ‰¾ number ç±»å‹çš„æœ€å°å †ç±»ï¼Œä½†æˆ‘ä»¬çš„æœ€å°å †è¿˜éœ€è¦æ”¯æŒå­—ç¬¦ä¸²ç±»å‹ï¼Œæ­¤æ—¶å°±éœ€è¦æ³›å‹çš„å¸®åŠ©äº†ï¼š</p><p>å®ä¾‹æ¼”ç¤º</p><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç±»åååŠ ä¸Š &lt;T&gt;</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MinClass</span>&lt;<span class="title">T</span>&gt; </span>{</span><br><span class="line">  <span class="keyword">public</span> list: T[] = []</span><br><span class="line">  <span class="function"><span class="title">add</span>(<span class="params">num: T</span>)</span> {</span><br><span class="line">    <span class="built_in">this</span>.list.push(num)</span><br><span class="line">  }</span><br><span class="line">  min(): T {</span><br><span class="line">    <span class="keyword">let</span> minNum = <span class="built_in">this</span>.list[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.list.length; i++) {</span><br><span class="line">      <span class="keyword">if</span> (minNum &gt; <span class="built_in">this</span>.list[i]) {</span><br><span class="line">        minNum = <span class="built_in">this</span>.list[i]</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> minNum</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> m = <span class="keyword">new</span> MinClass&lt;<span class="built_in">string</span>&gt;()</span><br><span class="line">m.add(<span class="string">'hello'</span>)</span><br><span class="line">m.add(<span class="string">'world'</span>)</span><br><span class="line">m.add(<span class="string">'generic'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(m.min()) <span class="comment">// generic</span></span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>ç¬¬ 2 è¡Œï¼Œåœ¨å£°æ˜ <code>ç±» MinClass</code> çš„åé¢ååŠ ä¸Šäº† <code>&lt;T&gt;</code>ï¼Œè¿™æ ·å°±å£°æ˜äº†æ³›å‹å‚æ•° Tï¼Œä½œä¸ºä¸€ä¸ªå˜é‡å¯ä»¥æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯æ•°å­—ç±»å‹ã€‚</p><h3 id="æ³›å‹çº¦æŸ"><a href="#æ³›å‹çº¦æŸ" class="headerlink" title="æ³›å‹çº¦æŸ"></a>æ³›å‹çº¦æŸ</h3><p><strong>è¯­æ³•ï¼šé€šè¿‡ <code>extends</code> å…³é”®å­—æ¥å®ç°æ³›å‹çº¦æŸã€‚</strong></p><p>å¦‚æœæˆ‘ä»¬å¾ˆæ˜ç¡®ä¼ å…¥çš„æ³›å‹å‚æ•°æ˜¯ä»€ä¹ˆç±»å‹ï¼Œæˆ–è€…æ˜ç¡®æƒ³è¦æ“ä½œçš„æŸç±»å‹çš„å€¼å…·æœ‰ä»€ä¹ˆå±æ€§ï¼Œé‚£ä¹ˆå°±éœ€è¦å¯¹æ³›å‹è¿›è¡Œçº¦æŸã€‚é€šè¿‡ä¸¤ä¸ªä¾‹å­æ¥è¯´æ˜ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> User {</span><br><span class="line">  username: <span class="built_in">string</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">info</span>&lt;<span class="title">T</span> <span class="title">extends</span> <span class="title">User</span>&gt;(<span class="params">user: T</span>): <span class="title">string</span> </span>{</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'imooc '</span> + user.username</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong> ç¤ºä¾‹ä¸­ï¼Œç¬¬ 5 è¡Œï¼Œæˆ‘ä»¬çº¦æŸäº†å…¥å‚ user å¿…é¡»åŒ…å« username å±æ€§ï¼Œå¦åˆ™åœ¨ç¼–è¯‘é˜¶æ®µå°±ä¼šæŠ¥é”™ã€‚</p><p>ä¸‹é¢å†çœ‹å¦å¤–ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Args = <span class="built_in">number</span> | <span class="built_in">string</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MinClass</span>&lt;<span class="title">T</span> <span class="keyword">extends</span> <span class="title">Args</span>&gt; </span>{}</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> MinClass&lt;<span class="built_in">boolean</span>&gt;() <span class="comment">// Error, å¿…é¡»æ˜¯ number | string ç±»å‹</span></span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>ç¬¬ 3 è¡Œï¼Œçº¦æŸäº†æ³›å‹å‚æ•° T ç»§æ‰¿è‡ªç±»å‹ Argsï¼Œè€Œç±»å‹ Args æ˜¯ä¸€ä¸ªç”± number å’Œ string ç»„æˆçš„è”åˆç±»å‹ã€‚</p><p>ç¬¬ 5 è¡Œï¼Œæ³›å‹å‚æ•°åªèƒ½æ˜¯ number å’Œ string ä¸­çš„ä¸€ç§ï¼Œä¼ å…¥ boolean ç±»å‹æ˜¯é”™è¯¯çš„ã€‚</p><h3 id="å¤šé‡ç±»å‹æ³›å‹çº¦æŸ"><a href="#å¤šé‡ç±»å‹æ³›å‹çº¦æŸ" class="headerlink" title="å¤šé‡ç±»å‹æ³›å‹çº¦æŸ"></a>å¤šé‡ç±»å‹æ³›å‹çº¦æŸ</h3><p>é€šè¿‡ <code>&lt;T extends Interface1 &amp; Interface2&gt;</code> è¿™ç§è¯­æ³•æ¥å®ç°å¤šé‡ç±»å‹çš„æ³›å‹çº¦æŸï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Sentence {</span><br><span class="line">  title: <span class="built_in">string</span>,</span><br><span class="line">  content: <span class="built_in">string</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> Music {</span><br><span class="line">  url: <span class="built_in">string</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Classic</span>&lt;<span class="title">T</span> <span class="keyword">extends</span> <span class="title">Sentence</span> &amp; <span class="title">Music</span>&gt; </span>{</span><br><span class="line">  <span class="keyword">private</span> prop: T</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">arg: T</span>)</span> {</span><br><span class="line">    <span class="built_in">this</span>.prop = arg</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">info</span>(<span class="params"></span>)</span> {</span><br><span class="line">    <span class="keyword">return</span> {</span><br><span class="line">      url: <span class="built_in">this</span>.prop.url,</span><br><span class="line">      title: <span class="built_in">this</span>.prop.title,</span><br><span class="line">      content: <span class="built_in">this</span>.prop.content</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>ç¬¬ 10 è¡Œï¼Œçº¦æŸäº†æ³›å‹å‚æ•° <code>T</code> éœ€ç»§æ‰¿è‡ªäº¤å‰ç±»å‹ï¼ˆåç»­æœ‰å•èŠ‚ä»‹ç»ï¼‰ <code>Sentence &amp; Music</code>ï¼Œè¿™æ ·å°±èƒ½è®¿é—®ä¸¤ä¸ªæ¥å£ç±»å‹çš„å‚æ•°ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Webå‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TypeScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vueçˆ¶ç»„ä»¶ä¼ é€’propså¼‚æ­¥æ•°æ®åˆ°å­ç»„ä»¶é‡åˆ°çš„é—®é¢˜</title>
      <link href="2021/04/27/vue%E7%88%B6%E7%BB%84%E4%BB%B6%E4%BC%A0%E9%80%92props%E5%BC%82%E6%AD%A5%E6%95%B0%E6%8D%AE%E5%88%B0%E5%AD%90%E7%BB%84%E4%BB%B6/"/>
      <url>2021/04/27/vue%E7%88%B6%E7%BB%84%E4%BB%B6%E4%BC%A0%E9%80%92props%E5%BC%82%E6%AD%A5%E6%95%B0%E6%8D%AE%E5%88%B0%E5%AD%90%E7%BB%84%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h1 id="vueçˆ¶ç»„ä»¶ä¼ é€’propså¼‚æ­¥æ•°æ®åˆ°å­ç»„ä»¶é‡åˆ°çš„é—®é¢˜"><a href="#vueçˆ¶ç»„ä»¶ä¼ é€’propså¼‚æ­¥æ•°æ®åˆ°å­ç»„ä»¶é‡åˆ°çš„é—®é¢˜" class="headerlink" title="vueçˆ¶ç»„ä»¶ä¼ é€’propså¼‚æ­¥æ•°æ®åˆ°å­ç»„ä»¶é‡åˆ°çš„é—®é¢˜"></a>vueçˆ¶ç»„ä»¶ä¼ é€’propså¼‚æ­¥æ•°æ®åˆ°å­ç»„ä»¶é‡åˆ°çš„é—®é¢˜</h1><p>çˆ¶ç»„ä»¶<code>parent.vue</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">// asyncDataä¸ºå¼‚æ­¥è·å–çš„æ•°æ®ï¼Œæƒ³ä¼ é€’ç»™å­ç»„ä»¶ä½¿ç”¨</span><br><span class="line">&lt;template&gt;</span><br><span class="line"> &lt;div&gt;</span><br><span class="line">  çˆ¶ç»„ä»¶</span><br><span class="line">  &lt;child :child-data="asyncData"&gt;&lt;/child&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script&gt;</span><br><span class="line"> import child from '../demo/children.vue'</span><br><span class="line"> export default {</span><br><span class="line">  data: () =&gt; ({</span><br><span class="line">   asyncData: ''</span><br><span class="line">  }),</span><br><span class="line">  components: {</span><br><span class="line">   child</span><br><span class="line">  },</span><br><span class="line">  created () {</span><br><span class="line">  },</span><br><span class="line">  mounted () {</span><br><span class="line">   // setTimeoutæ¨¡æ‹Ÿå¼‚æ­¥æ•°æ®</span><br><span class="line">   setTimeout(() =&gt; {</span><br><span class="line">    this.asyncData = ' async data'</span><br><span class="line">    console.log('parent ç»„ä»¶ç»“æŸ')</span><br><span class="line">   }, 2000)</span><br><span class="line">  }</span><br><span class="line"> }</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure><h2 id="æƒ…å†µ1"><a href="#æƒ…å†µ1" class="headerlink" title="æƒ…å†µ1"></a>æƒ…å†µ1</h2><p>å­ç»„ä»¶<code>child.vue</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"> &lt;div&gt;</span><br><span class="line">  å­ç»„ä»¶{{childData}}</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script&gt;</span><br><span class="line"> export default {</span><br><span class="line">  props: ['childData'],</span><br><span class="line">  data: () =&gt; ({</span><br><span class="line">  }),</span><br><span class="line">  created () {</span><br><span class="line">   console.log("å­ç»„ä»¶created-----   "+this.childData) // ç©ºå€¼</span><br><span class="line">  },</span><br><span class="line">  methods: {</span><br><span class="line">  }</span><br><span class="line"> }</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå­ç»„ä»¶ä¸­<code>html</code>ä¸­çš„<code>{{childData}}</code>å€¼ä¼šéšç€çˆ¶ç»„ä»¶ä¼ è¿‡æ¥çš„å€¼è€Œæ”¹å˜ï¼Œè¿™æ˜¯<strong>æ•°æ®çš„å“åº”å¼å˜åŒ–</strong>ï¼ˆæ•°æ®çš„æ”¹å˜ä¼šå¼•èµ·ç•Œé¢å˜åŒ–)ï¼Œä½†å­ç»„ä»¶<code>created</code>å‡½æ•°ä¸­æ˜¯<strong>æ‹¿ä¸åˆ°çˆ¶ç»„ä»¶å¼‚æ­¥ä¼ è¿‡æ¥çš„æ•°æ®</strong>çš„ï¼Œè¿™æ˜¯ç”Ÿå‘½å‘¨æœŸé—®é¢˜ã€‚</p><h2 id="æƒ…å†µ2"><a href="#æƒ…å†µ2" class="headerlink" title="æƒ…å†µ2"></a>æƒ…å†µ2</h2><p>å­ç»„ä»¶<code>child.vue</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"> &lt;div&gt;</span><br><span class="line">  å­ç»„ä»¶&lt;!--è¿™é‡Œå¾ˆå¸¸è§çš„ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯childDataå¯ä»¥è·å–ä¸”æ²¡æœ‰æŠ¥é”™ï¼Œä½†æ˜¯childData.items[0]ä¸è¡Œï¼Œå¾€å¾€æœ‰ä¸ªç–‘é—®ä¸ºä»€ä¹ˆå‰é¢è·å–åˆ°å€¼ï¼Œåé¢è·å–ä¸åˆ°å‘¢ï¼Ÿ--&gt;</span><br><span class="line">  &lt;p&gt;{{childData.items[0]}}&lt;/p&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script&gt;</span><br><span class="line"> export default {</span><br><span class="line">  props: ['childData'],</span><br><span class="line">  data: () =&gt; ({</span><br><span class="line">  }),</span><br><span class="line">  created () {</span><br><span class="line">   console.log(this.childData) // ç©ºå€¼</span><br><span class="line">  },</span><br><span class="line">  methods: {</span><br><span class="line">  }</span><br><span class="line"> }</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure><p><code>created</code>é‡Œé¢çš„ä»ç„¶æ˜¯ç©ºå€¼ï¼Œ å­ç»„ä»¶çš„<code>html</code>ä¸­çš„<code>{{childObject.items[0]}}</code>çš„å€¼è™½ç„¶ä¼šéšç€çˆ¶ç»„ä»¶çš„å€¼è€Œæ”¹å˜ï¼Œä½†æ˜¯è¿‡ç¨‹ä¸­ä¼šæŠ¥é”™ã€‚</p><p>æ˜¯å› ä¸ºï¼š<strong>é¦–å…ˆä¼ è¿‡æ¥çš„æ˜¯ç©ºï¼Œç„¶åå†å¼‚æ­¥åˆ·æ–°å€¼</strong>ï¼Œä¹Ÿå°±æ˜¯å¼€å§‹æ—¶å€™<code>childObject.items[0]</code>ç­‰åŒäº<code>''.item[0]</code>è¿™æ ·çš„æ“ä½œï¼Œ<br> æ‰€ä»¥å°±ä¼šæŠ¥ä¸‹é¢çš„é”™ï¼š</p><p><img src="/images/artical-image/9441048-d1a7779ec4be1599" alt="img"></p><h2 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h2><ul><li><p>ä½¿ç”¨<code>v-if</code>å¯ä»¥è§£å†³æŠ¥é”™é—®é¢˜å’Œ<code>created</code>ä¸ºç©ºé—®é¢˜</p><p>çˆ¶ç»„ä»¶<code>parent</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"> &lt;div&gt;</span><br><span class="line">  çˆ¶ç»„ä»¶</span><br><span class="line">  &lt;child :child-object="asyncObject"  v-if="flag"&gt;&lt;/child&gt;</span><br><span class="line">  &lt;!--æ²¡æ‹¿åˆ°æ•°æ®å‰ï¼Œä¸æ¸²æŸ“å­ç»„ä»¶ï¼Œè¿™æ ·å­ç»„ä»¶createdç”Ÿå‘½å‘¨æœŸå°±èƒ½æ‹¿åˆ°æ•°æ®äº†--&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script&gt;</span><br><span class="line">import child from '../demo1/children.vue'</span><br><span class="line"> export default {</span><br><span class="line">  data: () =&gt; ({</span><br><span class="line">   asyncObject: '',</span><br><span class="line">   flag:false</span><br><span class="line">  }),</span><br><span class="line">  components: {</span><br><span class="line">   child</span><br><span class="line">  },</span><br><span class="line">  created () {</span><br><span class="line">  },</span><br><span class="line">  mounted () {</span><br><span class="line">   // setTimeoutæ¨¡æ‹Ÿå¼‚æ­¥æ•°æ®</span><br><span class="line">   setTimeout(() =&gt; {</span><br><span class="line">    this.asyncObject = {'items': [1, 2, 3]}</span><br><span class="line">    this.flag= true</span><br><span class="line">    console.log('parent ç»“æŸ')</span><br><span class="line">   }, 2000)</span><br><span class="line">  }</span><br><span class="line"> }</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure><p>å­é¡µé¢ children</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"> &lt;div&gt;</span><br><span class="line">  å­ç»„ä»¶</span><br><span class="line">  &lt;p&gt;{{childObject.items[0]}}&lt;/p&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script&gt;</span><br><span class="line"> export default {</span><br><span class="line">  props: ['childObject'],</span><br><span class="line">  data: () =&gt; ({</span><br><span class="line">  }),</span><br><span class="line">  created () {</span><br><span class="line">    console.log("å­ç»„ä»¶create-----"+JSON.stringify(this.childObject)) //èƒ½æ‹¿åˆ°äº†</span><br><span class="line">  },</span><br><span class="line">  methods: {</span><br><span class="line">  }</span><br><span class="line"> }</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure><p><img src="../images/artical-image/9441048-47f9515b58d48759" alt="img"></p></li><li><p>å­ç»„ä»¶ä½¿ç”¨<code>watch</code>æ¥ç›‘å¬çˆ¶ç»„ä»¶æ”¹å˜çš„<code>prop</code>ï¼Œä½¿ç”¨<code>methods</code>æ¥ä»£æ›¿<code>created</code></p><p>å­ç»„ä»¶ children</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"> &lt;div&gt;</span><br><span class="line">  &lt;p&gt;{{test}}&lt;/p&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script&gt;</span><br><span class="line"> export default {</span><br><span class="line">  props: ['childObject'],</span><br><span class="line">  data: () =&gt; ({</span><br><span class="line">       test: ''</span><br><span class="line">  }),</span><br><span class="line">   watch: {</span><br><span class="line">     'childObject.items': function (new, old) { // ç›´æ¥ç›‘å¬childObject.itemå±æ€§</span><br><span class="line">      this.test = new[0]</span><br><span class="line">      this.updata()</span><br><span class="line">     }</span><br><span class="line">    },</span><br><span class="line">  methods: {</span><br><span class="line">     updata () { // æ—¢ç„¶createdåªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œä½†æ˜¯åˆæƒ³ç›‘å¬æ”¹å˜çš„å€¼åšå…¶ä»–äº‹æƒ…çš„è¯ï¼Œåªèƒ½æ¬åˆ°è¿™é‡Œå’¯</span><br><span class="line">      console.log(this.test)// 1</span><br><span class="line">     }</span><br><span class="line">    }</span><br><span class="line"> }</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure></li><li><p>å­ç»„ä»¶<code>watch computed data</code> ç›¸ç»“åˆ(éº»çƒ¦ï¼Œä¸æ¨è)</p><p>å­ç»„ä»¶children</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"> &lt;div&gt;</span><br><span class="line">   &lt;p&gt;{{test}}&lt;/p&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script&gt;</span><br><span class="line"> export default {</span><br><span class="line">    props: ['childObject'],</span><br><span class="line">    data: () =&gt; ({</span><br><span class="line">     test: ''</span><br><span class="line">    }),</span><br><span class="line">    watch: {</span><br><span class="line">     'childObject.items': function (n, o) {</span><br><span class="line">      this._test = n[0]</span><br><span class="line">     }</span><br><span class="line">    },</span><br><span class="line"> computed: {</span><br><span class="line">    _test: {</span><br><span class="line">     set (value) {</span><br><span class="line">      this.update()</span><br><span class="line">      this.test = value</span><br><span class="line">     },</span><br><span class="line">     get () {</span><br><span class="line">      return this.test</span><br><span class="line">     }</span><br><span class="line">    }</span><br><span class="line">   },</span><br><span class="line">  methods: {</span><br><span class="line">   update () {</span><br><span class="line">      console.log(this.childObject) // {items: [1,2,3]}</span><br><span class="line">     }</span><br><span class="line">  }</span><br><span class="line"> }</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure></li><li><p>ä½¿ç”¨<code>prop default</code>æ¥è§£å†³<code>{{childObject.items[0]}}</code></p><p>çˆ¶ç»„ä»¶ï¼š</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"> &lt;div&gt;</span><br><span class="line">  çˆ¶ç»„ä»¶</span><br><span class="line">  &lt;child :child-object="asyncObject"&gt;&lt;/child&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script&gt;</span><br><span class="line"> import child from  '../demo4/children.vue'</span><br><span class="line"> export default {</span><br><span class="line">  data: () =&gt; ({</span><br><span class="line">   asyncObject: undefined // è¿™é‡Œä½¿ç”¨nullåè€ŒæŠ¥0çš„é”™</span><br><span class="line">  }),</span><br><span class="line">  components: {</span><br><span class="line">   child</span><br><span class="line">  },</span><br><span class="line">  created () {</span><br><span class="line">  },</span><br><span class="line">  mounted () {</span><br><span class="line">   // setTimeoutæ¨¡æ‹Ÿå¼‚æ­¥æ•°æ®</span><br><span class="line">   setTimeout(() =&gt; {</span><br><span class="line">    this.asyncObject = {'items': [1, 2, 3]}</span><br><span class="line">    console.log('parent finish')</span><br><span class="line">   }, 2000)</span><br><span class="line">  }</span><br><span class="line"> }</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure><p>å­ç»„ä»¶ï¼š</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"> &lt;div&gt;</span><br><span class="line">  å­ç»„ä»¶&lt;!--1--&gt;</span><br><span class="line">  &lt;p&gt;{{childObject.items[0]}}&lt;/p&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script&gt;</span><br><span class="line"> export default {</span><br><span class="line">  props: {</span><br><span class="line">   childObject: {</span><br><span class="line">    type: Object,</span><br><span class="line">    default () {</span><br><span class="line">     return {</span><br><span class="line">      items: ''</span><br><span class="line">     }</span><br><span class="line">    }</span><br><span class="line">   }</span><br><span class="line">  },</span><br><span class="line">  data: () =&gt; ({</span><br><span class="line">  }),</span><br><span class="line">  created () {</span><br><span class="line">   console.log(this.childObject) // {item: ''}</span><br><span class="line">  }</span><br><span class="line"> }</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> Webå‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TypeScriptå®‰è£…å’Œä½¿ç”¨</title>
      <link href="2021/04/26/TypeScript%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8/"/>
      <url>2021/04/26/TypeScript%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="TypeScriptå®‰è£…å’Œä½¿ç”¨"><a href="#TypeScriptå®‰è£…å’Œä½¿ç”¨" class="headerlink" title="TypeScriptå®‰è£…å’Œä½¿ç”¨"></a>TypeScriptå®‰è£…å’Œä½¿ç”¨</h1><p><code>npm install typescript -g</code> å…¨å±€å®‰è£…</p><p>ä½¿ç”¨æœ‰ä¸¤ç§æ–¹å¼:</p><ul><li>tscç›´æ¥ç¼–è¯‘ä¸€ä¸ª<code>.ts</code>æ–‡ä»¶ï¼Œç”Ÿäº§<code>.js</code>æ–‡ä»¶</li><li>åœ¨é¡¹ç›®ä¸­ç¼–è¯‘ï¼Œé€šè¿‡<code>npm run tsc</code>å®ç°å¯¹æ•´ä¸ªé¡¹ç›®ç¼–è¯‘</li></ul><p>åœ¨ts-practiceæ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªsrcç›®å½•ï¼Œsrcç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªindex.tsæ–‡ä»¶</p><p>index.tsé‡Œå†™å…¥å¦‚ä¸‹å†…å®¹:</p><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="built_in">enum</span> TokenType {</span><br><span class="line">    ACCESS = <span class="string">'accessToken'</span>,</span><br><span class="line">    REFRESH = <span class="string">'refreshToken'</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç”¨<code>npm init</code>åˆå§‹åŒ–é¡¹ç›®ï¼Œç”Ÿæˆäº†<code>package.json</code>æ–‡ä»¶ï¼Œåœ¨<code>package.json</code>æ–‡ä»¶çš„scriptsæ ‡ç­¾é‡Œå†™å…¥ï¼š</p><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">"scripts": {</span><br><span class="line">    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1",</span><br><span class="line">    "tsc": "tsc"</span><br><span class="line">  }ï¼Œ</span><br><span class="line">"main": "src/index.ts"</span><br></pre></td></tr></tbody></table></figure><p>ç„¶åï¼Œç”¨<code>tsc --init</code>å‘½ä»¤è¿›è¡Œåˆå§‹åŒ–</p><p>è¿™æ—¶å€™ç›®å½•ä¸‹å¤šäº†ä¸€ä¸ª<code>tsconfig.js</code>æ–‡ä»¶ï¼Œå®ƒ<strong>æŒ‡å®šäº†ç”¨æ¥ç¼–è¯‘è¿™ä¸ªé¡¹ç›®çš„æ ¹æ–‡ä»¶å’Œç¼–è¯‘é€‰é¡¹</strong></p><figure class="highlight json"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">  <span class="attr">"compilerOptions"</span>: {</span><br><span class="line">    <span class="comment">/* Visit https://aka.ms/tsconfig.json to read more about this file */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Basic Options */</span></span><br><span class="line">    <span class="comment">// "incremental": true,                         /* Enable incremental compilation */</span></span><br><span class="line">    <span class="attr">"target"</span>: <span class="string">"es5"</span>,                                <span class="comment">/* Specify ECMAScript target version: 'ES3' (default), 'ES5', 'ES2015', 'ES2016', 'ES2017', 'ES2018', 'ES2019', 'ES2020', or 'ESNEXT'. */</span></span><br><span class="line">    <span class="attr">"module"</span>: <span class="string">"commonjs"</span>,                           <span class="comment">/* Specify module code generation: 'none', 'commonjs', 'amd', 'system', 'umd', 'es2015', 'es2020', or 'ESNext'. */</span></span><br><span class="line">    <span class="comment">// "lib": [],                                   /* Specify library files to be included in the compilation. */</span></span><br><span class="line">    <span class="comment">// "allowJs": true,                             /* Allow javascript files to be compiled. */</span></span><br><span class="line">    <span class="comment">// "checkJs": true,                             /* Report errors in .js files. */</span></span><br><span class="line">    <span class="comment">// "jsx": "preserve",                           /* Specify JSX code generation: 'preserve', 'react-native', 'react', 'react-jsx' or 'react-jsxdev'. */</span></span><br><span class="line">    <span class="attr">"declaration"</span>: <span class="literal">true</span>,                         <span class="comment">/* Generates corresponding '.d.ts' file. */</span></span><br><span class="line">    <span class="comment">// "declarationMap": true,                      /* Generates a sourcemap for each corresponding '.d.ts' file. */</span></span><br><span class="line">    <span class="comment">// "sourceMap": true,                           /* Generates corresponding '.map' file. */</span></span><br><span class="line">    <span class="comment">// "outFile": "./",                             /* Concatenate and emit output to single file. */</span></span><br><span class="line">    <span class="attr">"outDir"</span>: <span class="string">"./lib"</span>,                              <span class="comment">/* Redirect output structure to the directory. */</span></span><br><span class="line">    <span class="attr">"rootDir"</span>: <span class="string">"./src"</span>,                             <span class="comment">/* Specify the root directory of input files. Use to control the output directory structure with --outDir. */</span></span><br><span class="line">    <span class="comment">// "composite": true,                           /* Enable project compilation */</span></span><br><span class="line">    <span class="comment">// "tsBuildInfoFile": "./",                     /* Specify file to store incremental compilation information */</span></span><br><span class="line">    <span class="comment">// "removeComments": true,                      /* Do not emit comments to output. */</span></span><br><span class="line">    <span class="comment">// "noEmit": true,                              /* Do not emit outputs. */</span></span><br><span class="line">    <span class="comment">// "importHelpers": true,                       /* Import emit helpers from 'tslib'. */</span></span><br><span class="line">    <span class="comment">// "downlevelIteration": true,                  /* Provide full support for iterables in 'for-of', spread, and destructuring when targeting 'ES5' or 'ES3'. */</span></span><br><span class="line">    <span class="comment">// "isolatedModules": true,                     /* Transpile each file as a separate module (similar to 'ts.transpileModule'). */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Strict Type-Checking Options */</span></span><br><span class="line">    <span class="attr">"strict"</span>: <span class="literal">true</span>,                                 <span class="comment">/* Enable all strict type-checking options. */</span></span><br><span class="line">    <span class="comment">// "noImplicitAny": true,                       /* Raise error on expressions and declarations with an implied 'any' type. */</span></span><br><span class="line">    <span class="attr">"strictNullChecks"</span>: <span class="literal">false</span>,                    <span class="comment">/* Enable strict null checks. */</span></span><br><span class="line">    <span class="comment">// "strictFunctionTypes": true,                 /* Enable strict checking of function types. */</span></span><br><span class="line">    <span class="comment">// "strictBindCallApply": true,                 /* Enable strict 'bind', 'call', and 'apply' methods on functions. */</span></span><br><span class="line">    <span class="comment">// "strictPropertyInitialization": true,        /* Enable strict checking of property initialization in classes. */</span></span><br><span class="line">    <span class="attr">"noImplicitThis"</span>: <span class="literal">true</span>,                      <span class="comment">/* Raise error on 'this' expressions with an implied 'any' type. */</span></span><br><span class="line">    <span class="comment">// "alwaysStrict": true,                        /* Parse in strict mode and emit "use strict" for each source file. */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Additional Checks */</span></span><br><span class="line">    <span class="comment">// "noUnusedLocals": true,                      /* Report errors on unused locals. */</span></span><br><span class="line">    <span class="comment">// "noUnusedParameters": true,                  /* Report errors on unused parameters. */</span></span><br><span class="line">    <span class="comment">// "noImplicitReturns": true,                   /* Report error when not all code paths in function return a value. */</span></span><br><span class="line">    <span class="comment">// "noFallthroughCasesInSwitch": true,          /* Report errors for fallthrough cases in switch statement. */</span></span><br><span class="line">    <span class="comment">// "noUncheckedIndexedAccess": true,            /* Include 'undefined' in index signature results */</span></span><br><span class="line">    <span class="comment">// "noPropertyAccessFromIndexSignature": true,  /* Require undeclared properties from index signatures to use element accesses. */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Module Resolution Options */</span></span><br><span class="line">    <span class="comment">// "moduleResolution": "node",                  /* Specify module resolution strategy: 'node' (Node.js) or 'classic' (TypeScript pre-1.6). */</span></span><br><span class="line">    <span class="comment">// "baseUrl": "./",                             /* Base directory to resolve non-absolute module names. */</span></span><br><span class="line">    <span class="comment">// "paths": {},                                 /* A series of entries which re-map imports to lookup locations relative to the 'baseUrl'. */</span></span><br><span class="line">    <span class="comment">// "rootDirs": [],                              /* List of root folders whose combined content represents the structure of the project at runtime. */</span></span><br><span class="line">    <span class="comment">// "typeRoots": [],                             /* List of folders to include type definitions from. */</span></span><br><span class="line">    <span class="comment">// "types": [],                                 /* Type declaration files to be included in compilation. */</span></span><br><span class="line">    <span class="comment">// "allowSyntheticDefaultImports": true,        /* Allow default imports from modules with no default export. This does not affect code emit, just typechecking. */</span></span><br><span class="line">    <span class="attr">"esModuleInterop"</span>: <span class="literal">true</span>,                        <span class="comment">/* Enables emit interoperability between CommonJS and ES Modules via creation of namespace objects for all imports. Implies 'allowSyntheticDefaultImports'. */</span></span><br><span class="line">    <span class="comment">// "preserveSymlinks": true,                    /* Do not resolve the real path of symlinks. */</span></span><br><span class="line">    <span class="comment">// "allowUmdGlobalAccess": true,                /* Allow accessing UMD globals from modules. */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Source Map Options */</span></span><br><span class="line">    <span class="comment">// "sourceRoot": "",                            /* Specify the location where debugger should locate TypeScript files instead of source locations. */</span></span><br><span class="line">    <span class="comment">// "mapRoot": "",                               /* Specify the location where debugger should locate map files instead of generated locations. */</span></span><br><span class="line">    <span class="comment">// "inlineSourceMap": true,                     /* Emit a single file with source maps instead of having a separate file. */</span></span><br><span class="line">    <span class="comment">// "inlineSources": true,                       /* Emit the source alongside the sourcemaps within a single file; requires '--inlineSourceMap' or '--sourceMap' to be set. */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Experimental Options */</span></span><br><span class="line">    <span class="comment">// "experimentalDecorators": true,              /* Enables experimental support for ES7 decorators. */</span></span><br><span class="line">    <span class="comment">// "emitDecoratorMetadata": true,               /* Enables experimental support for emitting type metadata for decorators. */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Advanced Options */</span></span><br><span class="line">    <span class="attr">"skipLibCheck"</span>: <span class="literal">true</span>,                           <span class="comment">/* Skip type checking of declaration files. */</span></span><br><span class="line">    <span class="attr">"forceConsistentCasingInFileNames"</span>: <span class="literal">true</span>        <span class="comment">/* Disallow inconsistently-cased references to the same file. */</span></span><br><span class="line">  },</span><br><span class="line">  <span class="attr">"exclude"</span>: [<span class="string">"node_modules"</span>, <span class="string">"lib"</span>, <span class="string">"**/*.test.ts"</span>],</span><br><span class="line">  <span class="attr">"include"</span>: [<span class="string">"src"</span>]</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>æ‰§è¡Œ<code>npm install</code>ä¸‹è½½é¡¹ç›®æ‰€éœ€çš„ä¾èµ–ï¼Œ<code>node_modules</code>æ˜¯é¡¹ç›®çš„æ‰€æœ‰ä¾èµ–åŒ…ï¼Œ<code>package-lock.json</code>æ–‡ä»¶å°†é¡¹ç›®ä¾èµ–åŒ…çš„ç‰ˆæœ¬é”å®šï¼Œé¿å…<strong>ä¾èµ–åŒ…å¤§å‡çº§é€ æˆçš„ä¸å…¼å®¹é—®é¢˜</strong>ã€‚</p><p>åœ¨æ ¹ç›®å½•æ‰§è¡Œ<code>npm run tes</code></p><p><img src="/images/artical-image/image-20210426163128179.png" alt="img"></p><p>å¾—åˆ°ç¼–è¯‘åç»“æœã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Webå‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TypeScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TypeScriptåŸºç¡€ç±»å‹</title>
      <link href="2021/04/26/TypeScript%E7%9A%84%E5%9F%BA%E7%A1%80%E7%B1%BB%E5%9E%8B/"/>
      <url>2021/04/26/TypeScript%E7%9A%84%E5%9F%BA%E7%A1%80%E7%B1%BB%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="TypeScript-åŸºç¡€ç±»å‹"><a href="#TypeScript-åŸºç¡€ç±»å‹" class="headerlink" title="TypeScript åŸºç¡€ç±»å‹"></a>TypeScript åŸºç¡€ç±»å‹</h2><p>TypeScript ä¸­çš„ç±»å‹æœ‰</p><blockquote><p>TypeScriptä¸­çš„åŸºç¡€ç±»å‹éƒ½æ˜¯å°å†™ï¼Œå¤§å†™å¼€å¤´çš„è¡¨ç¤ºçš„æ˜¯javascriptçš„æ„é€ å‡½æ•°</p></blockquote><ul><li>åŸå§‹ç±»å‹<ul><li>boolean</li><li>number</li><li>string</li><li>bigint</li><li>null</li><li>undefined</li><li>symbol</li><li>void</li></ul></li><li>å…ƒç»„ tuple</li><li>æšä¸¾ enum</li><li>ä»»æ„ any</li><li>unknown</li><li>never</li><li>æ•°ç»„ Array</li><li>å¯¹è±¡ object</li></ul><h3 id="void-ç±»å‹"><a href="#void-ç±»å‹" class="headerlink" title="void ç±»å‹"></a>void ç±»å‹</h3><p>å½“ä¸€ä¸ªå‡½æ•°æ²¡æœ‰è¿”å›å€¼æ—¶ï¼Œå¯ä»¥å£°æ˜ä¸ºvoid</p><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doNothing</span>(<span class="params"></span>): <span class="title">void</span> </span>{</span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">10</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>è¿˜å¯ä»¥å£°æ˜ä¸€ä¸ª<code>void</code>ç±»å‹çš„å˜é‡ï¼Œä½†åªèƒ½èµ‹å€¼ä¸º<code>undefined</code>æˆ–è€…<code>null</code></p><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> nothing: <span class="built_in">void</span> = <span class="literal">undefined</span></span><br></pre></td></tr></tbody></table></figure><h3 id="null-ç±»å‹å’Œ-undefined-ç±»å‹"><a href="#null-ç±»å‹å’Œ-undefined-ç±»å‹" class="headerlink" title="null ç±»å‹å’Œ undefined ç±»å‹"></a>null ç±»å‹å’Œ undefined ç±»å‹</h3><p><code>undefined</code> å’Œ <code>null</code> æ˜¯<strong>æ‰€æœ‰ç±»å‹çš„å­ç±»å‹</strong>ã€‚</p><p>ä¸€èˆ¬é¡¹ç›®æ˜¯é»˜è®¤å¼€å¯ <code>--strictNullChecks</code> æ£€æµ‹çš„ï¼Œå¦‚æœä½ å°† <code>tsconfig.json</code> ä¸­ <code>strictNullChecks</code> é€‰é¡¹è®¾ç½®ä¸º <code>false</code>ï¼Œä¸‹é¢è¿™ç§æ“ä½œä¸ä¼šæŠ¥é”™ï¼Œä¸è¿‡å°½é‡ä¸è¦è¿™ä¹ˆåšï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num: <span class="built_in">number</span> = <span class="literal">undefined</span></span><br><span class="line"><span class="keyword">let</span> list: <span class="built_in">number</span>[] = <span class="literal">undefined</span></span><br><span class="line"><span class="keyword">let</span> name: <span class="built_in">string</span> = <span class="literal">undefined</span></span><br></pre></td></tr></tbody></table></figure><h3 id="æ•°ç»„ç±»å‹"><a href="#æ•°ç»„ç±»å‹" class="headerlink" title="æ•°ç»„ç±»å‹"></a>æ•°ç»„ç±»å‹</h3><p>æ•°ç»„ç±»å‹æœ‰ä¸¤ç§è¡¨ç¤ºæ–¹æ³•ï¼Œç¬¬ä¸€ç§åœ¨å…ƒç´ ç±»å‹åæ¥ä¸Š <code>[]</code>ï¼Œè¡¨ç¤ºç”±æ­¤ç±»å‹å…ƒç´ ç»„æˆçš„ä¸€ä¸ªæ•°ç»„ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> list: <span class="built_in">number</span>[] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> names: <span class="built_in">string</span>[] = [<span class="string">'Sherlock'</span>, <span class="string">'Watson'</span>, <span class="string">'Mrs. Hudson'</span>]</span><br></pre></td></tr></tbody></table></figure><p>å¦ä¸€ç§æ–¹å¼æ˜¯ä½¿ç”¨æ•°ç»„æ³›å‹ï¼ˆ<em>æ³›å‹åç»­ä¼šå•ç‹¬ä»‹ç»</em>ï¼‰ï¼Œ<code>Array&lt;å…ƒç´ ç±»å‹&gt;</code>ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> list: <span class="built_in">Array</span>&lt;<span class="built_in">number</span>&gt; = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> names: <span class="built_in">Array</span>&lt;<span class="built_in">string</span>&gt; = [<span class="string">'Sherlock'</span>, <span class="string">'Watson'</span>, <span class="string">'Mrs. Hudson'</span>]</span><br></pre></td></tr></tbody></table></figure><p>æ··åˆå„ç§å…ƒç´ ç±»å‹ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> list: <span class="built_in">any</span>[] = [<span class="string">'Sherlock'</span>, <span class="number">1887</span>]</span><br></pre></td></tr></tbody></table></figure><p>æ¨èä½¿ç”¨ç¬¬ä¸€ç§æ•°ç»„ç±»å‹çš„è¡¨ç¤ºæ–¹æ³•ï¼Œä¹¦å†™æ¯”è¾ƒç®€æ´ç›´è§‚ã€‚</p><h3 id="any-ç±»å‹"><a href="#any-ç±»å‹" class="headerlink" title="any ç±»å‹"></a>any ç±»å‹</h3><p>æœ‰æ—¶å€™æ¥æ”¶æ¥è‡ªç”¨æˆ·çš„è¾“å…¥ï¼Œæˆ‘ä»¬æ˜¯ä¸èƒ½ç¡®å®šå…¶å˜é‡ç±»å‹çš„ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›ç±»å‹æ£€æŸ¥å™¨å¯¹è¿™äº›å€¼è¿›è¡Œæ£€æŸ¥ï¼Œè€Œæ˜¯ç›´æ¥è®©å®ƒä»¬é€šè¿‡ç¼–è¯‘é˜¶æ®µçš„æ£€æŸ¥ï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨ <code>any</code>ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> input: <span class="built_in">any</span> = <span class="string">'nothing'</span></span><br><span class="line"></span><br><span class="line">input = <span class="number">0</span>                   <span class="comment">// ok</span></span><br><span class="line">input = <span class="literal">true</span>                <span class="comment">// ok</span></span><br><span class="line">input = []                  <span class="comment">// ok</span></span><br><span class="line">input = <span class="literal">null</span>                <span class="comment">// ok</span></span><br><span class="line">input = <span class="built_in">Symbol</span>(<span class="string">'any'</span>)       <span class="comment">// ok</span></span><br></pre></td></tr></tbody></table></figure><p>å¦‚æœä¸€ä¸ªæ•°æ®æ˜¯ any ç±»å‹ï¼Œé‚£ä¹ˆå¯ä»¥è®¿é—®å®ƒçš„ä»»æ„å±æ€§ï¼Œå³ä½¿è¿™ä¸ªå±æ€§ä¸å­˜åœ¨ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> anything: <span class="built_in">any</span> = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">anything.eat()              <span class="comment">// ok</span></span><br><span class="line">anything.name               <span class="comment">// ok</span></span><br><span class="line">anything[<span class="number">0</span>]                 <span class="comment">// ok</span></span><br><span class="line"><span class="keyword">new</span> anything()              <span class="comment">// ok</span></span><br><span class="line">anything()                  <span class="comment">// ok</span></span><br></pre></td></tr></tbody></table></figure><p>ä»ä¸Šé¢çš„ä¾‹å­ä¸­å¯ä»¥çœ‹åˆ°ï¼Œany ç±»å‹å‡ ä¹å¯ä»¥åšä»»ä½•æ“ä½œï¼Œè¿™æ ·å¾ˆå®¹æ˜“ç¼–å†™ç±»å‹æ­£ç¡®ä½†æ˜¯æ‰§è¡Œå¼‚å¸¸çš„ä»£ç ã€‚æˆ‘ä»¬ä½¿ç”¨ TypeScript å°±æ˜¯ä¸ºäº†ä»£ç çš„å¥å£®æ€§ï¼Œæ‰€ä»¥è¦<strong>å°½é‡å‡å°‘ any çš„ä½¿ç”¨</strong>ã€‚</p><blockquote><p>anyç±»å‹å¾ˆåƒåœ¨javascriptç›´æ¥å®šä¹‰ä¸€ä¸ªå˜é‡</p></blockquote><h3 id="å®¹æ˜“æ··æ·†çš„ç‚¹"><a href="#å®¹æ˜“æ··æ·†çš„ç‚¹" class="headerlink" title="å®¹æ˜“æ··æ·†çš„ç‚¹"></a>å®¹æ˜“æ··æ·†çš„ç‚¹</h3><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a: <span class="built_in">Number</span> = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="string">'10'</span>) <span class="comment">// a === 10 ä¸º false</span></span><br><span class="line"><span class="keyword">let</span> b: <span class="built_in">number</span> = <span class="built_in">Number</span>(<span class="string">'10'</span>) <span class="comment">// b === 10 ä¸º true</span></span><br><span class="line"></span><br><span class="line">a <span class="keyword">instanceof</span> <span class="built_in">Number</span> <span class="comment">// true</span></span><br><span class="line">b <span class="keyword">instanceof</span> <span class="built_in">Number</span> <span class="comment">// false</span></span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>ç¬¬ 1 è¡Œï¼Œé€šè¿‡ <code>new Number('10')</code> å¾—åˆ°çš„æ˜¯<strong>ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªå¯¹è±¡</strong>ã€‚</p><p>ç¬¬ 2 è¡Œï¼Œ<code>Number('10')</code> ä¸ <code>10</code> éƒ½æ˜¯å£°æ˜ä¸€ä¸ªæ•°å­— 10 çš„æ–¹æ³•ï¼Œæœ¬è´¨å°±æ˜¯ä¸€ä¸ªæ•°å­—ã€‚</p><p>ç¬¬ 4 - 5 è¡Œï¼Œ<code>instanceof</code> è¿ç®—ç¬¦ç”¨äºæ£€æµ‹æ„é€ å‡½æ•°çš„ <code>prototype</code> å±æ€§æ˜¯å¦å‡ºç°åœ¨æŸä¸ªå®ä¾‹å¯¹è±¡çš„åŸå‹é“¾ä¸Šã€‚<code>a</code> æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒçš„ <code>__proto__</code> å±æ€§æŒ‡å‘è¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ <code>Number</code>ï¼Œæ‰€ä»¥ä¸º <code>true</code>ã€‚<code>b</code> æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œæ‰€ä»¥ä¸º <code>false</code>ã€‚</p><p><code>__proto__</code> æ˜¯éæ ‡å‡†å±æ€§ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ <strong><code>Object.getPrototypeOf()</code></strong> æ–¹æ³•æ¥è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„åŸå‹ï¼š</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a.__proto__ === <span class="built_in">Object</span>.getPrototypeOf(a) <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure><h3 id="bigint"><a href="#bigint" class="headerlink" title="bigint"></a>bigint</h3><p><code>bigint</code> æ˜¯ä¸€ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆprimitive data typeï¼‰ã€‚</p><p>JavaScript ä¸­å¯ä»¥ç”¨ <code>Number</code> è¡¨ç¤ºçš„æœ€å¤§æ•´æ•°ä¸º <code>2^53 - 1</code>ï¼Œå¯ä»¥å†™ä¸º <code>Number.MAX_SAFE_INTEGER</code>ã€‚å¦‚æœè¶…è¿‡äº†è¿™ä¸ªç•Œé™ï¼Œå¯ä»¥ç”¨ <code>BigInt</code>æ¥è¡¨ç¤ºï¼Œå®ƒå¯ä»¥è¡¨ç¤ºä»»æ„å¤§çš„æ•´æ•°ã€‚</p><p>åœ¨ä¸€ä¸ªæ•´æ•°å­—é¢é‡ååŠ  <code>n</code> çš„æ–¹å¼å®šä¹‰ä¸€ä¸ª <code>BigInt</code>ï¼Œå¦‚ï¼š<code>10n</code> æˆ–è€…è°ƒç”¨å‡½æ•° <code>BigInt()</code>ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> theBiggestInt: bigint = <span class="number">9007199254740991n</span></span><br><span class="line"><span class="keyword">const</span> alsoHuge: bigint = <span class="built_in">BigInt</span>(<span class="number">9007199254740991</span>)</span><br><span class="line"><span class="keyword">const</span> hugeString: bigint = <span class="built_in">BigInt</span>(<span class="string">"9007199254740991"</span>)</span><br><span class="line"></span><br><span class="line">theBiggestInt === alsoHuge <span class="comment">// true</span></span><br><span class="line">theBiggestInt === hugeString <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure><p><code>BigInt</code> ä¸ <code>Number</code> çš„ä¸åŒç‚¹ï¼š</p><ul><li><code>BigInt</code> ä¸èƒ½ç”¨äº <code>Math</code> å¯¹è±¡ä¸­çš„æ–¹æ³•ã€‚</li><li><code>BigInt</code> ä¸èƒ½å’Œä»»ä½• <code>Number</code> å®ä¾‹æ··åˆè¿ç®—ï¼Œä¸¤è€…å¿…é¡»è½¬æ¢æˆåŒä¸€ç§ç±»å‹ã€‚</li><li><code>BigInt</code> å˜é‡åœ¨è½¬æ¢ä¸º <code>Number</code> å˜é‡æ—¶å¯èƒ½ä¼šä¸¢å¤±ç²¾åº¦ã€‚</li></ul><p><code>Number</code> å’Œ <code>BigInt</code> å¯ä»¥è¿›è¡Œæ¯”è¾ƒï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0n</span> === <span class="number">0</span> <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="number">0n</span> == <span class="number">0</span> <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="number">1n</span> &lt; <span class="number">2</span>  <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="number">2n</span> &gt; <span class="number">1</span>  <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="number">2</span> &gt; <span class="number">2</span>   <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="number">2n</span> &gt; <span class="number">2</span>  <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="number">2n</span> &gt;= <span class="number">2</span> <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure><p>æ¡ä»¶åˆ¤æ–­ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="number">0n</span>) {</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'æ¡ä»¶æˆç«‹!'</span>);</span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'æ¡ä»¶ä¸æˆç«‹!'</span>); <span class="comment">// è¾“å‡ºç»“æœ</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="number">0n</span> || <span class="number">10n</span>    <span class="comment">// 10n</span></span><br><span class="line"></span><br><span class="line"><span class="number">0n</span> &amp;&amp; <span class="number">10n</span>    <span class="comment">// 0n</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="number">0n</span>)  <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="number">10n</span>) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">!<span class="number">10n</span>         <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">!<span class="number">0n</span>          <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure><h3 id="symbol"><a href="#symbol" class="headerlink" title="symbol"></a>symbol</h3><p><code>symbol</code> æ˜¯ä¸€ç§åŸºæœ¬æ•°æ®ç±»å‹ã€‚</p><p><code>Symbol()</code> å‡½æ•°ä¼šè¿”å› <code>symbol</code> ç±»å‹çš„å€¼ã€‚æ¯ä¸ªä» <code>Symbol()</code> è¿”å›çš„ <code>symbol</code> å€¼éƒ½æ˜¯<strong>å”¯ä¸€</strong>çš„ã€‚</p><p>ä½¿ç”¨ Symbol() åˆ›å»ºæ–°çš„ symbol ç±»å‹ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sym1: symbol = <span class="built_in">Symbol</span>()</span><br><span class="line"><span class="keyword">const</span> sym2: symbol = <span class="built_in">Symbol</span>(<span class="string">'foo'</span>)</span><br><span class="line"><span class="keyword">const</span> sym3: symbol = <span class="built_in">Symbol</span>(<span class="string">'foo'</span>)</span><br><span class="line">ä»£ç å—<span class="number">123</span></span><br></pre></td></tr></tbody></table></figure><p>ä¸Šé¢çš„ä»£ç åˆ›å»ºäº†ä¸‰ä¸ªæ–°çš„ symbol ç±»å‹ï¼Œä½†è¦æ³¨æ„æ¯ä¸ªä» Symbol() è¿”å›çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(sym2 === sym3) <span class="comment">// false</span></span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong> æ¯ä¸ª <code>Symbol()</code> æ–¹æ³•è¿”å›çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ‰€ä»¥ï¼Œsym2 å’Œ sym3 ä¸ç›¸ç­‰ã€‚</p><p>Symbol() ä½œä¸ºæ„é€ å‡½æ•°æ˜¯ä¸å®Œæ•´çš„ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sym = <span class="keyword">new</span> <span class="built_in">Symbol</span>() <span class="comment">// TypeError</span></span><br></pre></td></tr></tbody></table></figure><p>è¿™ç§è¯­æ³•ä¼šæŠ¥é”™ï¼Œæ˜¯å› ä¸ºä» ECMAScript 6 å¼€å§‹<strong>å›´ç»•åŸå§‹æ•°æ®ç±»å‹åˆ›å»ºä¸€ä¸ªæ˜¾å¼åŒ…è£…å™¨å¯¹è±¡å·²ä¸å†è¢«æ”¯æŒ</strong>ï¼Œä½†å› å†å²é—ç•™åŸå› ï¼Œ <code>new Boolean()</code>ã€<code>new String()</code> ä»¥åŠ <code>new Number()</code> ä»å¯è¢«åˆ›å»ºï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> symbol = <span class="keyword">new</span> <span class="built_in">Symbol</span>()   <span class="comment">// TypeError</span></span><br><span class="line"><span class="keyword">const</span> bigint = <span class="keyword">new</span> <span class="built_in">BigInt</span>()   <span class="comment">// TypeError</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">number</span> = <span class="keyword">new</span> <span class="built_in">Number</span>()   <span class="comment">// OK</span></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">boolean</span> = <span class="keyword">new</span> <span class="built_in">Boolean</span>() <span class="comment">// OK</span></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">string</span> = <span class="keyword">new</span> <span class="built_in">String</span>()   <span class="comment">// OK</span></span><br></pre></td></tr></tbody></table></figure><h4 id="symbolä½¿ç”¨åœºæ™¯"><a href="#symbolä½¿ç”¨åœºæ™¯" class="headerlink" title="symbolä½¿ç”¨åœºæ™¯"></a>symbolä½¿ç”¨åœºæ™¯</h4><ul><li>å½“ä¸€ä¸ªå¯¹è±¡æœ‰è¾ƒå¤šå±æ€§æ—¶ï¼ˆ<em>å¾€å¾€åˆ†å¸ƒåœ¨ä¸åŒæ–‡ä»¶ä¸­ç”±æ¨¡å—ç»„åˆè€Œæˆ</em>ï¼‰ï¼Œå¾ˆå®¹æ˜“å°†æŸä¸ªå±æ€§åè¦†ç›–æ‰ï¼Œä½¿ç”¨ <code>Symbol</code> å€¼å¯ä»¥é¿å…è¿™ä¸€ç°è±¡ï¼Œæ¯”å¦‚ <code>vue-router</code> ä¸­çš„ <code>name</code> å±æ€§ã€‚</li></ul><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.js æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> aRouter = {</span><br><span class="line">  path: <span class="string">'/index'</span>,</span><br><span class="line">  name: <span class="built_in">Symbol</span>(<span class="string">'index'</span>),</span><br><span class="line">  component: Index</span><br><span class="line">},</span><br><span class="line"></span><br><span class="line"><span class="comment">// b.js æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> bRouter = {</span><br><span class="line">  path: <span class="string">'/home'</span>,</span><br><span class="line">  name: <span class="built_in">Symbol</span>(<span class="string">'index'</span>), <span class="comment">// ä¸é‡å¤</span></span><br><span class="line">  component: Home</span><br><span class="line">},</span><br><span class="line"></span><br><span class="line"><span class="comment">// routes.js æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">import</span> { aRouter } <span class="keyword">from</span> <span class="string">'./a.js'</span></span><br><span class="line"><span class="keyword">import</span> { bRouter } <span class="keyword">from</span> <span class="string">'./b.js'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  aRouter,</span><br><span class="line">  bRouter</span><br><span class="line">]</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong> ä¸¤ä¸ªä¸åŒæ–‡ä»¶ä½¿ç”¨äº†åŒæ ·çš„ <code>Symbol('index')</code> ä½œä¸ºå±æ€§ name çš„å€¼ï¼Œå›  symbol ç±»å‹çš„å”¯ä¸€æ€§ï¼Œå°±é¿å…äº†<strong>é‡å¤å®šä¹‰</strong>ã€‚</p><ul><li>æ¨¡æ‹Ÿç±»çš„<strong>ç§æœ‰æ–¹æ³•</strong></li></ul><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> permission: symbol = <span class="built_in">Symbol</span>(<span class="string">'permission'</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Auth</span> </span>{</span><br><span class="line">  [permission]() {</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>è¿™ç§æƒ…å†µ<strong>é€šè¿‡ç±»çš„å®ä¾‹æ˜¯</strong>æ— æ³•å–åˆ°è¯¥æ–¹æ³•ï¼Œæ¨¡æ‹Ÿç±»çš„ç§æœ‰æ–¹æ³•ã€‚</p><p>ä½†æ˜¯ï¼ŒTypeScript æ˜¯å¯ä»¥ä½¿ç”¨ <code>private</code> å…³é”®å­—çš„ï¼Œæ‰€ä»¥è¿™ç§æ–¹æ³•å¯ä»¥åœ¨ JavaScript ä¸­ä½¿ç”¨ã€‚</p><ul><li>åˆ¤æ–­æ˜¯å¦å¯ä»¥ç”¨ <code>for...of</code> è¿­ä»£</li></ul><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="built_in">Symbol</span>.iterator <span class="keyword">in</span> iterable) {</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> n <span class="keyword">of</span> iterable) {</span><br><span class="line">      <span class="built_in">console</span>.log(n)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>è¿™ä¸ªçŸ¥è¯†ç‚¹åç»­ä¼šåœ¨ <code>è¿­ä»£å™¨</code> é‚£ä¸€èŠ‚ä¼šç€é‡ä»‹ç»ï¼Œè¿™é‡Œå¯ä»¥å…ˆçŸ¥æ™“ï¼š</p><p>   <code>for...of</code> å¾ªç¯å†…éƒ¨è°ƒç”¨çš„æ˜¯æ•°æ®ç»“æ„çš„ <code>Symbol.iterator</code> æ–¹æ³•ã€‚<br>   <code>for...of</code> åªèƒ½è¿­ä»£å¯æšä¸¾å±æ€§ã€‚</p><ul><li>Symbol.prototype.description</li></ul><p><code>Symbol([description])</code> ä¸­å¯é€‰çš„å­—ç¬¦ä¸²å³ä¸ºè¿™ä¸ª Symbol çš„æè¿°ï¼Œå¦‚æœæƒ³è¦è·å–è¿™ä¸ªæè¿°ï¼š</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sym: symbol = <span class="built_in">Symbol</span>(<span class="string">'imooc'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(sym);               <span class="comment">// Symbol(imooc)</span></span><br><span class="line"><span class="built_in">console</span>.log(sym.toString());    <span class="comment">// Symbol(imooc)</span></span><br><span class="line"><span class="built_in">console</span>.log(sym.description);   <span class="comment">// imooc</span></span><br></pre></td></tr></tbody></table></figure><h3 id="å…ƒç»„"><a href="#å…ƒç»„" class="headerlink" title="å…ƒç»„"></a>å…ƒç»„</h3><p>é€šè¿‡å…ƒç»„å¯ä»¥å­˜å‚¨ä¸åŒç±»å‹çš„å…ƒç´ ï¼Œè€Œéåƒæ•°ç»„é‚£æ ·åªèƒ½å­˜å‚¨ç›¸åŒå…ƒç´ ç±»å‹ï¼ˆany[] é™¤å¤–ï¼‰ã€‚</p><p>å£°æ˜ä¸€ä¸ªç”± <code>string</code> å’Œ <code>number</code> æ„æˆçš„å…ƒç»„ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> list: [<span class="built_in">string</span>, <span class="built_in">number</span>] = [<span class="string">'Sherlock'</span>, <span class="number">1887</span>]   <span class="comment">// ok</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> list1: [<span class="built_in">string</span>, <span class="built_in">number</span>] = [<span class="number">1887</span>, <span class="string">'Sherlock'</span>]  <span class="comment">// error</span></span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong> å…ƒç»„ä¸­è§„å®šçš„å…ƒç´ ç±»å‹<strong>é¡ºåºå¿…é¡»æ˜¯å®Œå…¨å¯¹ç…§çš„</strong>ï¼Œè€Œä¸”<strong>ä¸èƒ½å¤šã€ä¸èƒ½å°‘</strong>ï¼ˆæ•°é‡ä¹Ÿå¿…é¡»ä¸€æ ·ï¼Œæ•°ç»„æœ‰äº†é•¿åº¦ï¼‰<code>list1</code> ä¸­å®šä¹‰çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸º <code>string</code>ç±»å‹ï¼Œä¸èƒ½èµ‹å€¼ä¸º <code>number</code>ç±»å‹çš„æ•°æ®ã€‚</p><p>å½“èµ‹å€¼æˆ–è®¿é—®ä¸€ä¸ªå·²çŸ¥ç´¢å¼•çš„å…ƒç´ æ—¶ï¼Œä¼šå¾—åˆ°æ­£ç¡®çš„ç±»å‹ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> list: [<span class="built_in">string</span>, <span class="built_in">number</span>] = [<span class="string">'Sherlock'</span>, <span class="number">1887</span>]</span><br><span class="line"></span><br><span class="line">list[<span class="number">0</span>].substr(<span class="number">1</span>)  <span class="comment">// ok</span></span><br><span class="line">list[<span class="number">1</span>].substr(<span class="number">1</span>)  <span class="comment">// Property 'substr' does not exist on type 'number'.</span></span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>ç¬¬ 3 è¡Œï¼Œ<code>list[0]</code> æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹ï¼Œæ‹¥æœ‰ substr() æ–¹æ³•ã€‚</p><p>ç¬¬ 4 è¡Œï¼Œ<code>list[1]</code> æ˜¯ä¸€ä¸ªæ•°å­—ç±»å‹ï¼Œæ²¡æœ‰ substr() æ–¹æ³•ï¼Œæ‰€ä»¥æŠ¥é”™ã€‚</p><p>è¦æ³¨æ„å…ƒç»„çš„è¶Šç•Œé—®é¢˜ï¼Œè™½ç„¶<strong>å¯ä»¥è¶Šç•Œæ·»åŠ å…ƒç´ </strong>ï¼ˆ<em>ä¸å»ºè®®</em>ï¼‰ï¼Œä½†æ˜¯<strong>ä¸å¯è¶Šç•Œè®¿é—®</strong>ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> list: [<span class="built_in">string</span>, <span class="built_in">number</span>] = [<span class="string">'Sherlock'</span>, <span class="number">1887</span>]</span><br><span class="line">list.push(<span class="string">'hello world'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(list)      <span class="comment">// ok [ 'Sherlock', 1887, 'hello world' ]</span></span><br><span class="line"><span class="built_in">console</span>.log(list[<span class="number">2</span>])   <span class="comment">// Tuple type '[string, number]' of length '2' has no element at index '2'</span></span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>ç¬¬ 2 è¡Œï¼Œå‘ä¸€ä¸ªå£°æ˜äº†<strong>åªæœ‰ä¸¤ä¸ªå…ƒç´ çš„å…ƒç»„</strong>ç»§ç»­æ·»åŠ å…ƒç´ ï¼Œè¿™ç§æ“ä½œè™½ç„¶å¯è¡Œï¼Œä½†æ˜¯ä¸¥é‡ä¸å»ºè®®ï¼</p><p>ç¬¬ 5 è¡Œï¼Œè¯¥å…ƒç»„åªæœ‰ä¸¤ä¸ªå…ƒç´ ï¼Œä¸å¯è¶Šç•Œè®¿é—®ç¬¬ä¸‰ä¸ªå…ƒç´ ã€‚</p><p>å…ƒç»„ç±»å‹å…è®¸åœ¨å…ƒç´ ç±»å‹åç¼€ä¸€ä¸ª <code>?</code> æ¥è¯´æ˜å…ƒç´ æ˜¯å¯é€‰çš„ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> list: [<span class="built_in">number</span>, <span class="built_in">string</span>?, <span class="built_in">boolean</span>?]</span><br><span class="line">list = [<span class="number">10</span>, <span class="string">'Sherlock'</span>, <span class="literal">true</span>]</span><br><span class="line">list = [<span class="number">10</span>, <span class="string">'Sherlock'</span>]</span><br><span class="line">list = [<span class="number">10</span>]</span><br></pre></td></tr></tbody></table></figure><p><strong>å¯é€‰å…ƒç´ å¿…é¡»åœ¨å¿…é€‰å…ƒç´ çš„åé¢ï¼Œä¹Ÿå°±æ˜¯å¦‚æœä¸€ä¸ªå…ƒç´ åç¼€äº† <code>?</code>å·ï¼Œå…¶åçš„æ‰€æœ‰å…ƒç´ éƒ½è¦åç¼€ <code>?</code>å·</strong>ã€‚</p><p>å…ƒç»„å¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ï¼Œå‡½æ•°çš„ Rest å½¢å‚å¯ä»¥å®šä¹‰ä¸ºå…ƒç»„ç±»å‹ï¼ˆåŠ¨æ€é•¿åº¦ï¼‰ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="function"><span class="keyword">function</span> <span class="title">rest</span>(<span class="params">...args: [<span class="built_in">number</span>, <span class="built_in">string</span>, <span class="built_in">boolean</span>]</span>): <span class="title">void</span></span></span><br></pre></td></tr></tbody></table></figure><p>ç­‰ä»·äºï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="function"><span class="keyword">function</span> <span class="title">rest</span>(<span class="params">arg1: <span class="built_in">number</span>, arg2: <span class="built_in">string</span>, arg3: <span class="built_in">boolean</span></span>): <span class="title">void</span></span></span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>TIPSï¼š</strong> åœ¨å£°æ˜æ–‡ä»¶ï¼ˆ.d.tsï¼‰ä¸­ï¼Œå…³é”®å­— declare è¡¨ç¤ºå£°æ˜ä½œç”¨ã€‚å£°æ˜æ–‡ä»¶ç”¨äºç¼–å†™ç¬¬ä¸‰æ–¹ç±»åº“ï¼Œé€šè¿‡é…ç½® <code>tsconfig.json</code> æ–‡ä»¶ä¸­çš„ <code>declaration ä¸º true</code>ï¼Œåœ¨ç¼–è¯‘æ—¶å¯è‡ªè¡Œç”Ÿæˆã€‚</p></blockquote><p>è¿˜å¯ä»¥è¿™æ ·ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> list: [<span class="built_in">number</span>, ...string[]] = [<span class="number">10</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> list1: [<span class="built_in">string</span>, ...number[]] = [<span class="string">'a'</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong> Rest å…ƒç´ æŒ‡å®šäº†å…ƒç»„ç±»å‹æ˜¯æ— é™æ‰©å±•çš„ï¼Œå¯èƒ½æœ‰é›¶ä¸ªæˆ–å¤šä¸ªå…·æœ‰æ•°ç»„å…ƒç´ ç±»å‹çš„é¢å¤–å…ƒç´ ã€‚</p><h3 id="æšä¸¾"><a href="#æšä¸¾" class="headerlink" title="æšä¸¾"></a>æšä¸¾</h3><p>éœ€è¦å®šä¹‰ä¸€ç»„ç›¸åŒä¸»é¢˜çš„å¸¸é‡æ•°æ®æ—¶ï¼Œåº”è¯¥ç«‹å³æƒ³åˆ°æšä¸¾ç±»å‹ã€‚åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œéœ€è¦æ³¨æ„æšä¸¾ç±»å‹çš„<strong>æ­£å‘æ˜ å°„å’Œåå‘æ˜ å°„</strong></p><p>ä½¿ç”¨æšä¸¾æˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€äº›<strong>å¸¦åå­—çš„å¸¸é‡</strong>ã€‚TypeScript æ”¯æŒ<strong>æ•°å­—</strong>çš„å’ŒåŸºäº<strong>å­—ç¬¦ä¸²</strong>çš„æšä¸¾ã€‚</p><p>æšä¸¾ç±»å‹å¼¥è¡¥äº† JavaScript çš„è®¾è®¡ä¸è¶³ï¼Œå¾ˆå¤šè¯­è¨€éƒ½æ‹¥æœ‰æšä¸¾ç±»å‹ã€‚</p><p>å½“æˆ‘ä»¬éœ€è¦ä¸€ç»„ç›¸åŒä¸»é¢˜ä¸‹çš„æ•°æ®æ—¶ï¼Œæšä¸¾ç±»å‹å°±å¾ˆæœ‰ç”¨äº†ã€‚</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">enum</span> Direction { Up, Down, Left, Right }</span><br><span class="line"></span><br><span class="line"><span class="built_in">enum</span> Months { Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec }</span><br><span class="line"></span><br><span class="line"><span class="built_in">enum</span> Size { big = <span class="string">'å¤§'</span>, medium = <span class="string">'ä¸­'</span>, small = <span class="string">'å°'</span> }</span><br><span class="line"></span><br><span class="line"><span class="built_in">enum</span> Agency { province = <span class="number">1</span>, city = <span class="number">2</span>, district = <span class="number">3</span> }</span><br></pre></td></tr></tbody></table></figure><p>å£°æ˜ä¸€ä¸ªæšä¸¾ç±»å‹ï¼Œå¦‚æœæ²¡æœ‰èµ‹å€¼ï¼Œå®ƒä»¬çš„å€¼é»˜è®¤ä¸º<strong>æ•°å­—ç±»å‹</strong>ä¸”ä» 0 å¼€å§‹ç´¯åŠ ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">enum</span> Months {</span><br><span class="line">  Jan,</span><br><span class="line">  Feb,</span><br><span class="line">  Mar,</span><br><span class="line">  Apr</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Months.Jan === <span class="number">0</span> <span class="comment">// true</span></span><br><span class="line">Months.Feb === <span class="number">1</span> <span class="comment">// true</span></span><br><span class="line">Months.Mar === <span class="number">2</span> <span class="comment">// true</span></span><br><span class="line">Months.Apr === <span class="number">3</span> <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure><p>ç°å®ä¸­æœˆä»½æ˜¯ä» 1 æœˆå¼€å§‹çš„ï¼Œé‚£ä¹ˆåªéœ€è¦è¿™æ ·ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»ç¬¬ä¸€ä¸ªæ•°å­—èµ‹å€¼ï¼Œå¾€åä¾æ¬¡ç´¯åŠ </span></span><br><span class="line"><span class="built_in">enum</span> Months {</span><br><span class="line">  Jan = <span class="number">1</span>,</span><br><span class="line">  Feb,</span><br><span class="line">  Mar,</span><br><span class="line">  Apr</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Months.Jan === <span class="number">1</span> <span class="comment">// true</span></span><br><span class="line">Months.Feb === <span class="number">2</span> <span class="comment">// true</span></span><br><span class="line">Months.Mar === <span class="number">3</span> <span class="comment">// true</span></span><br><span class="line">Months.Apr === <span class="number">4</span> <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure><p>æšä¸¾ç±»å‹çš„å€¼ä¸º<strong>å­—ç¬¦ä¸²ç±»å‹</strong>ï¼š</p><p>å®ä¾‹æ¼”ç¤º</p><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">enum</span> TokenType {</span><br><span class="line">  ACCESS = <span class="string">'accessToken'</span>,</span><br><span class="line">  REFRESH = <span class="string">'refreshToken'</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸¤ç§ä¸åŒçš„å–å€¼å†™æ³•</span></span><br><span class="line"><span class="built_in">console</span>.log(TokenType.ACCESS === <span class="string">'accessToken'</span>)        <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(TokenType[<span class="string">'REFRESH'</span>] === <span class="string">'refreshToken'</span>)   <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong> æšä¸¾çš„å–å€¼ï¼Œæœ‰ <code>TokenType.ACCESS</code> å’Œ <code>TokenType['ACCESS']</code> è¿™ä¸¤ç§ä¸åŒçš„å†™æ³•ï¼Œæ•ˆæœæ˜¯ç›¸åŒçš„ã€‚</p><p><strong>æ•°å­—ç±»å‹å’Œå­—ç¬¦ä¸²ç±»å‹å¯ä»¥æ··åˆä½¿ç”¨ï¼Œä½†æ˜¯ä¸å»ºè®®ï¼š</strong></p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">enum</span> BooleanLikeHeterogeneousEnum {</span><br><span class="line">    No = <span class="number">0</span>,</span><br><span class="line">    Yes = <span class="string">"YES"</span>,</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æšä¸¾ç±»å‹çš„å€¼å¯ä»¥æ˜¯ä¸€ä¸ªç®€å•çš„<strong>è®¡ç®—è¡¨è¾¾å¼</strong>ï¼š</p><p>å®ä¾‹æ¼”ç¤º</p><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">enum</span> Calculate {</span><br><span class="line">  a,</span><br><span class="line">  b,</span><br><span class="line">  expired = <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span>,</span><br><span class="line">  length = <span class="string">'imooc'</span>.length,</span><br><span class="line">  plus = <span class="string">'hello '</span> + <span class="string">'world'</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(Calculate.expired)   <span class="comment">// 86400</span></span><br><span class="line"><span class="built_in">console</span>.log(Calculate.length)    <span class="comment">// 5</span></span><br><span class="line"><span class="built_in">console</span>.log(Calculate.plus)      <span class="comment">// hello world</span></span><br><span class="line"><span class="number">1234567891011</span></span><br></pre></td></tr></tbody></table></figure><p><strong>Tips:</strong></p><ul><li>è®¡ç®—ç»“æœå¿…é¡»ä¸ºå¸¸é‡ã€‚</li><li>è®¡ç®—é¡¹å¿…é¡»æ”¾åœ¨æœ€åã€‚</li></ul><p>æ‰€è°“çš„åå‘æ˜ å°„å°±æ˜¯æŒ‡æšä¸¾çš„å–å€¼ï¼Œä¸ä½†å¯ä»¥æ­£å‘çš„ <code>Months.Jan</code> è¿™æ ·å–å€¼ï¼Œä¹Ÿå¯ä»¥åå‘çš„ <code>Months[1]</code> è¿™æ ·å–å€¼ã€‚</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(Months.Mar === <span class="number">3</span>) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é‚£ä¹ˆåè¿‡æ¥èƒ½å–åˆ° Months[3] çš„å€¼å—ï¼Ÿ</span></span><br><span class="line"><span class="built_in">console</span>.log(Months[<span class="number">3</span>])  <span class="comment">// 'Mar'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰€ä»¥</span></span><br><span class="line"><span class="built_in">console</span>.log(Months.Mar === <span class="number">3</span>)     <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(Months[<span class="number">3</span>] === <span class="string">'Mar'</span>)  <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure><p><strong>Tips:</strong></p><ol><li>å­—ç¬¦ä¸²æšä¸¾æˆå‘˜ä¸ä¼šç”Ÿæˆåå‘æ˜ å°„ã€‚</li><li>æšä¸¾ç±»å‹è¢«ç¼–è¯‘æˆä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒåŒ…å«äº†æ­£å‘æ˜ å°„ï¼ˆ name -&gt; valueï¼‰å’Œåå‘æ˜ å°„ï¼ˆ value -&gt; nameï¼‰ã€‚</li></ol><p>åœ¨æšä¸¾ä¸Šä½¿ç”¨ <code>const</code> ä¿®é¥°ç¬¦ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">enum</span> Months {</span><br><span class="line">  Jan = <span class="number">1</span>,</span><br><span class="line">  Feb,</span><br><span class="line">  Mar,</span><br><span class="line">  Apr</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> month = Months.Mar</span><br></pre></td></tr></tbody></table></figure><p>æŸ¥çœ‹ä¸€ä¸‹ç¼–è¯‘åçš„å†…å®¹ï¼š</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span></span><br><span class="line"><span class="keyword">const</span> month = <span class="number">3</span> <span class="comment">/* Mar */</span></span><br><span class="line">ä»£ç å—<span class="number">12</span></span><br></pre></td></tr></tbody></table></figure><p>å‘ç°æšä¸¾ç±»å‹åº”è¯¥ç¼–è¯‘å‡ºçš„å¯¹è±¡æ²¡æœ‰äº†ï¼Œåªå‰©ä¸‹ <code>month</code> å¸¸é‡ã€‚è¿™å°±æ˜¯ä½¿ç”¨ <code>const</code> å…³é”®å­—å£°æ˜æšä¸¾çš„ä½œç”¨ã€‚å› ä¸ºå˜é‡ <code>month</code> å·²ç»ä½¿ç”¨è¿‡æšä¸¾ç±»å‹ï¼Œåœ¨ç¼–è¯‘é˜¶æ®µ TypeScript å°±å°†æšä¸¾ç±»å‹æŠ¹å»ï¼Œè¿™ä¹Ÿæ˜¯<strong>æ€§èƒ½æå‡</strong>çš„ä¸€ç§æ–¹æ¡ˆã€‚</p><p>åˆ†å¼€å£°æ˜åç§°ç›¸åŒçš„æšä¸¾ç±»å‹ï¼Œä¼š<strong>è‡ªåŠ¨åˆå¹¶</strong>ï¼š</p><p>å®ä¾‹æ¼”ç¤º</p><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">enum</span> Months {</span><br><span class="line">  Jan = <span class="number">1</span>,</span><br><span class="line">  Feb,</span><br><span class="line">  Mar,</span><br><span class="line">  Apr</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="built_in">enum</span> Months {</span><br><span class="line">  May = <span class="number">5</span>,</span><br><span class="line">  Jun</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(Months.Apr) <span class="comment">// 4</span></span><br><span class="line"><span class="built_in">console</span>.log(Months.Jun) <span class="comment">// 6</span></span><br></pre></td></tr></tbody></table></figure><h2 id="TypeScript-Never-ä¸-Unknown"><a href="#TypeScript-Never-ä¸-Unknown" class="headerlink" title="TypeScript Never ä¸ Unknown"></a>TypeScript Never ä¸ Unknown</h2><p>æœ¬èŠ‚ä»‹ç» never å’Œ unknown ç±»å‹ï¼Œå…¶ä¸­ unknown ç±»å‹ä½œä¸º any ç±»å‹å¯¹åº”çš„å®‰å…¨ç±»å‹ä½¿ç”¨èµ·æ¥æ›´åŠ å®‰å…¨ï¼Œå¦‚æœæœ‰<strong>any ç±»å‹çš„ä½¿ç”¨éœ€æ±‚</strong>ï¼Œåº”å°½é‡ä½¿ç”¨ **unknown ç±»å‹æ¥æ›¿ä»£ **any ç±»å‹ã€‚</p><p><code>never</code> ç±»å‹è¡¨ç¤ºé‚£äº›æ°¸ä¸å­˜åœ¨çš„å€¼çš„ç±»å‹ã€‚</p><p><code>unknown</code> ç±»å‹æ˜¯ <code>any</code> ç±»å‹å¯¹åº”çš„å®‰å…¨ç±»å‹ã€‚</p><h3 id="Never"><a href="#Never" class="headerlink" title="Never"></a>Never</h3><p>ä¸€ä¸ªæŠ›å‡ºå¼‚å¸¸çš„å‡½æ•°è¡¨è¾¾å¼ï¼Œå…¶å‡½æ•°è¿”å›å€¼ç±»å‹ä¸º neverï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">error</span>(<span class="params">message:<span class="built_in">string</span></span>): <span class="title">never</span> </span>{</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(message)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>åŒæ ·çš„ï¼Œä¸ä¼šæœ‰è¿”å›å€¼çš„å‡½æ•°è¡¨è¾¾å¼ï¼Œå…¶å‡½æ•°è¿”å›å€¼ç±»å‹ä¹Ÿä¸º never:</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ¨æ–­çš„è¿”å›å€¼ç±»å‹ä¸º never</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fail</span>(<span class="params"></span>): <span class="title">never</span> </span>{</span><br><span class="line">    <span class="keyword">return</span> error(<span class="string">"Something failed"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ä¸èƒ½å–å¾—å€¼çš„åœ°æ–¹ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Foo {</span><br><span class="line">  <span class="keyword">type</span>: <span class="string">'foo'</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> Bar {</span><br><span class="line">  <span class="keyword">type</span>: <span class="string">'bar'</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> All = Foo | Bar</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleValue</span>(<span class="params">val: All</span>) </span>{</span><br><span class="line">  <span class="keyword">switch</span> (val.type) {</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'foo'</span>:</span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">'bar'</span>:</span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="comment">// æ­¤å¤„ä¸èƒ½å–å€¼</span></span><br><span class="line">      <span class="keyword">const</span> exhaustiveCheck: <span class="built_in">never</span> = val</span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="Unknown"><a href="#Unknown" class="headerlink" title="Unknown"></a>Unknown</h3><p>æˆ‘ä»¬çŸ¥é“ any æ— éœ€äº‹å…ˆæ‰§è¡Œä»»ä½•ç±»å‹çš„æ£€æŸ¥ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> value: <span class="built_in">any</span></span><br><span class="line"></span><br><span class="line">value = <span class="literal">true</span>             <span class="comment">// OK</span></span><br><span class="line">value = <span class="number">10</span>               <span class="comment">// OK</span></span><br><span class="line">value = <span class="string">"Hello World"</span>    <span class="comment">// OK</span></span><br><span class="line">value = []               <span class="comment">// OK</span></span><br><span class="line">value = {}               <span class="comment">// OK</span></span><br><span class="line">value = <span class="built_in">Math</span>.random      <span class="comment">// OK</span></span><br><span class="line">value = <span class="literal">null</span>             <span class="comment">// OK</span></span><br><span class="line">value = <span class="literal">undefined</span>        <span class="comment">// OK</span></span><br><span class="line">value = <span class="keyword">new</span> <span class="built_in">TypeError</span>()  <span class="comment">// OK</span></span><br><span class="line">value = <span class="built_in">Symbol</span>(<span class="string">'name'</span>)   <span class="comment">// OK</span></span><br><span class="line"></span><br><span class="line">value.foo.bar            <span class="comment">// OK</span></span><br><span class="line">value.trim()             <span class="comment">// OK</span></span><br><span class="line">value()                  <span class="comment">// OK</span></span><br><span class="line"><span class="keyword">new</span> value()              <span class="comment">// OK</span></span><br><span class="line">value[<span class="number">0</span>][<span class="number">1</span>]              <span class="comment">// OK</span></span><br></pre></td></tr></tbody></table></figure><p>åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œè¿™å¤ªå®½æ¾äº†ã€‚ <code>unknown</code> ç±»å‹å‘¢ï¼Ÿ</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> value: unknown</span><br><span class="line"></span><br><span class="line">value = <span class="literal">true</span>             <span class="comment">// OK</span></span><br><span class="line">value = <span class="number">10</span>               <span class="comment">// OK</span></span><br><span class="line">value = <span class="string">"Hello World"</span>    <span class="comment">// OK</span></span><br><span class="line">value = []               <span class="comment">// OK</span></span><br><span class="line">value = {}               <span class="comment">// OK</span></span><br><span class="line">value = <span class="built_in">Math</span>.random      <span class="comment">// OK</span></span><br><span class="line">value = <span class="literal">null</span>             <span class="comment">// OK</span></span><br><span class="line">value = <span class="literal">undefined</span>        <span class="comment">// OK</span></span><br><span class="line">value = <span class="keyword">new</span> <span class="built_in">TypeError</span>()  <span class="comment">// OK</span></span><br><span class="line">value = <span class="built_in">Symbol</span>(<span class="string">'name'</span>)   <span class="comment">// OK</span></span><br></pre></td></tr></tbody></table></figure><p>æ‰€æœ‰å¯¹è¯¥ <code>value</code> å˜é‡çš„åˆ†é…éƒ½è¢«è®¤ä¸ºæ˜¯ç±»å‹æ­£ç¡®çš„ã€‚</p><p>ä½†æ˜¯ï¼Œå¦‚æœå°è¯•ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> value: unknown</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> value1: unknown = value   <span class="comment">// OK</span></span><br><span class="line"><span class="keyword">let</span> value2: <span class="built_in">any</span> = value       <span class="comment">// OK</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> value3: <span class="built_in">boolean</span> = value   <span class="comment">// Error</span></span><br><span class="line"><span class="keyword">let</span> value4: <span class="built_in">number</span> = value    <span class="comment">// Error</span></span><br><span class="line"><span class="keyword">let</span> value5: <span class="built_in">string</span> = value    <span class="comment">// Error</span></span><br><span class="line"><span class="keyword">let</span> value6: <span class="built_in">object</span> = value    <span class="comment">// Error</span></span><br><span class="line"><span class="keyword">let</span> value7: <span class="built_in">any</span>[] = value     <span class="comment">// Error</span></span><br></pre></td></tr></tbody></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œè¯¥ unknown ç±»å‹<strong>åªèƒ½åˆ†é…ç»™ any ç±»å‹å’Œ unknown ç±»å‹</strong>æœ¬èº«ã€‚</p><p>ç°åœ¨ç»§ç»­å°è¯•ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> value: unknown</span><br><span class="line"></span><br><span class="line">value.foo.bar  <span class="comment">// Error</span></span><br><span class="line">value.trim()   <span class="comment">// Error</span></span><br><span class="line">value()        <span class="comment">// Error</span></span><br><span class="line"><span class="keyword">new</span> value()    <span class="comment">// Error</span></span><br><span class="line">value[<span class="number">0</span>][<span class="number">1</span>]    <span class="comment">// Error</span></span><br></pre></td></tr></tbody></table></figure><p><strong><code>unknown</code> ç±»å‹åœ¨è¢«ç¡®å®šä¸ºæŸä¸ªç±»å‹ä¹‹å‰ï¼Œä¸èƒ½è¢«è¿›è¡Œè¯¸å¦‚å‡½æ•°æ‰§è¡Œã€å®ä¾‹åŒ–ç­‰æ“ä½œï¼Œä¸€å®šç¨‹åº¦ä¸Šå¯¹ç±»å‹è¿›è¡Œäº†ä¿æŠ¤ã€‚</strong></p><blockquote><p>åœ¨é‚£äº›å°†å–å¾—ä»»æ„å€¼ï¼Œä½†ä¸çŸ¥é“å…·ä½“ç±»å‹çš„åœ°æ–¹ä½¿ç”¨ <code>unknown</code>ï¼Œè€Œé <code>any</code>ã€‚</p></blockquote><h2 id="TypeScript-æ¥å£-Interface"><a href="#TypeScript-æ¥å£-Interface" class="headerlink" title="TypeScript æ¥å£(Interface)"></a>TypeScript æ¥å£(Interface)</h2><blockquote><p>TypeScript çš„æ ¸å¿ƒåŸåˆ™ä¹‹ä¸€æ˜¯å¯¹å€¼æ‰€å…·æœ‰çš„ç»“æ„è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚ å®ƒæœ‰æ—¶è¢«ç§°åšâ€œé¸­å¼è¾¨å‹æ³•â€æˆ–â€œç»“æ„æ€§å­ç±»å‹åŒ–â€ã€‚ åœ¨ TypeScript é‡Œï¼Œæ¥å£çš„ä½œç”¨å°±æ˜¯ä¸ºè¿™äº›ç±»å‹å‘½åå’Œä¸ºä½ çš„ä»£ç æˆ–ç¬¬ä¸‰æ–¹ä»£ç å®šä¹‰å¥‘çº¦ã€‚â€”â€”å®˜æ–¹å®šä¹‰</p></blockquote><p>æ¥å£æ˜¯å¯¹ JavaScript æœ¬èº«çš„éšæ„æ€§è¿›è¡Œçº¦æŸï¼Œé€šè¿‡å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œ<strong>çº¦å®šäº†å˜é‡ã€ç±»ã€å‡½æ•°ç­‰</strong>åº”è¯¥æŒ‰ç…§ä»€ä¹ˆæ ·çš„æ ¼å¼è¿›è¡Œå£°æ˜ï¼Œå®ç°å¤šäººåˆä½œçš„ä¸€è‡´æ€§ã€‚TypeScript ç¼–è¯‘å™¨ä¾èµ–æ¥å£ç”¨äºç±»å‹æ£€æŸ¥ï¼Œæœ€ç»ˆç¼–è¯‘ä¸º JavaScript åï¼Œæ¥å£å°†ä¼šè¢«ç§»é™¤ã€‚</p><p><strong>æ¥å£ä¸»è¦æ˜¯å¯¹å¯¹è±¡ã€å‡½æ•°ã€ç±»çš„ç±»å‹åšä¸€äº›å®šä¹‰</strong></p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¯­æ³•æ ¼å¼</span></span><br><span class="line"><span class="keyword">interface</span> DemoInterface {</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><p>åœ¨å£°æ˜ä¸€ä¸ª<strong>å¯¹è±¡</strong>ã€<strong>å‡½æ•°</strong>æˆ–è€…<strong>ç±»</strong>æ—¶ï¼Œå…ˆå®šä¹‰æ¥å£ï¼Œç¡®ä¿å…¶æ•°æ®ç»“æ„çš„ä¸€è‡´æ€§ã€‚</p><p>åœ¨å¤šäººåä½œæ—¶ï¼Œå®šä¹‰æ¥å£å°¤ä¸ºé‡è¦ã€‚</p><h3 id="æ¥å£çš„å¥½å¤„"><a href="#æ¥å£çš„å¥½å¤„" class="headerlink" title="æ¥å£çš„å¥½å¤„"></a>æ¥å£çš„å¥½å¤„</h3><p>è¿‡å»æˆ‘ä»¬å†™ JavaScript å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼š</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getClothesInfo</span>(<span class="params">clothes</span>) </span>{</span><br><span class="line">  <span class="built_in">console</span>.log(clothes.price)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myClothes = {</span><br><span class="line">  color: <span class="string">'black'</span>, </span><br><span class="line">  size: <span class="string">'XL'</span>, </span><br><span class="line">  price: <span class="number">98</span> </span><br><span class="line">}</span><br><span class="line">getClothesInfo(myClothes)</span><br></pre></td></tr></tbody></table></figure><p>ä¹‹å‰æˆ‘ä»¬å†™ JavaScript è¿™æ ·æ˜¯å¾ˆæ­£å¸¸çš„ï¼Œä½†åŒæ—¶ä½ å¯èƒ½ä¼šé‡åˆ°ä¸‹é¢è¿™äº›é—®é¢˜:</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">getClothesInfo() <span class="comment">// Uncaught TypeError: Cannot read property 'price' of undefined</span></span><br><span class="line">getClothesInfo({ <span class="attr">color</span>: <span class="string">'black'</span> }) <span class="comment">// undefined</span></span><br></pre></td></tr></tbody></table></figure><p>ç›¸ä¿¡åŸå› ä½ ä¹ŸçŸ¥é“ï¼ŒJavaScript æ˜¯ <code>å¼±ç±»å‹</code> è¯­è¨€ï¼Œå¹¶ä¸ä¼šå¯¹ä¼ å…¥çš„å‚æ•°è¿›è¡Œä»»ä½•æ£€æµ‹ï¼Œé”™è¯¯åœ¨è¿è¡Œæ—¶æ‰è¢«å‘ç°ã€‚é‚£ä¹ˆé€šè¿‡å®šä¹‰ <code>æ¥å£</code>ï¼Œåœ¨ç¼–è¯‘é˜¶æ®µç”šè‡³å¼€å‘é˜¶æ®µå°±é¿å…æ‰è¿™ç±»é”™è¯¯ï¼Œæ¥å£<strong>å°†æ£€æŸ¥ç±»å‹æ˜¯å¦å’ŒæŸç§ç»“æ„åšåŒ¹é…</strong>ã€‚</p><h4 id="ä¸¾ä¾‹è¯´æ˜"><a href="#ä¸¾ä¾‹è¯´æ˜" class="headerlink" title="ä¸¾ä¾‹è¯´æ˜"></a>ä¸¾ä¾‹è¯´æ˜</h4><p>ä¸‹é¢é€šè¿‡æ¥å£çš„æ–¹å¼é‡å†™ä¹‹å‰çš„ä¾‹å­ï¼š</p><p>å®ä¾‹æ¼”ç¤º</p><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Clothes {</span><br><span class="line">  color: <span class="built_in">string</span>;</span><br><span class="line">  size: <span class="built_in">string</span>;</span><br><span class="line">  price: <span class="built_in">number</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getClothesInfo</span>(<span class="params">clothes: Clothes</span>) </span>{</span><br><span class="line">  <span class="built_in">console</span>.log(clothes.price)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myClothes: Clothes = { </span><br><span class="line">  color: <span class="string">'black'</span>, </span><br><span class="line">  size: <span class="string">'XL'</span>, </span><br><span class="line">  price: <span class="number">98</span> </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">getClothesInfo(myClothes)</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong> ä»£ç ä¸­ï¼Œå®šä¹‰äº†ä¸€ä¸ªæ¥å£ <code>Clothes</code>ï¼Œåœ¨ä¼ å…¥çš„å˜é‡ <code>clothes</code> ä¸­ï¼Œå®ƒçš„ç±»å‹ä¸º <code>Clothes</code>ã€‚è¿™æ ·ï¼Œå°±çº¦æŸäº†è¿™ä¸ªä¼ å…¥å¯¹è±¡çš„ <code>å¤–å½¢</code> ä¸æ¥å£å®šä¹‰ä¸€è‡´ã€‚åªè¦ä¼ å…¥çš„å¯¹è±¡æ»¡è¶³ä¸Šé¢çš„ç±»å‹çº¦æŸï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯è¢«å…è®¸çš„ã€‚</p><p><strong>Tipsï¼š</strong></p><ol><li>å®šä¹‰æ¥å£è¦ <code>é¦–å­—æ¯å¤§å†™</code>ã€‚</li><li>åªéœ€è¦å…³æ³¨å€¼çš„ <code>å¤–å½¢</code>ï¼Œå¹¶ä¸åƒå…¶ä»–è¯­è¨€ä¸€æ ·ï¼Œå®šä¹‰æ¥å£æ˜¯ä¸ºäº†å®ç°ã€‚</li><li>å¦‚æœæ²¡æœ‰ç‰¹æ®Šå£°æ˜ï¼Œå®šä¹‰çš„å˜é‡æ¯”æ¥å£å°‘äº†ä¸€äº›å±æ€§æ˜¯ä¸å…è®¸çš„ï¼Œå¤šä¸€äº›å±æ€§ä¹Ÿæ˜¯ä¸å…è®¸çš„ï¼Œèµ‹å€¼çš„æ—¶å€™ï¼Œå˜é‡çš„å½¢çŠ¶å¿…é¡»å’Œæ¥å£çš„å½¢çŠ¶ä¿æŒä¸€è‡´ã€‚</li></ol><h3 id="æ¥å£çš„å±æ€§"><a href="#æ¥å£çš„å±æ€§" class="headerlink" title="æ¥å£çš„å±æ€§"></a>æ¥å£çš„å±æ€§</h3><h4 id="å¯é€‰å±æ€§"><a href="#å¯é€‰å±æ€§" class="headerlink" title="å¯é€‰å±æ€§"></a>å¯é€‰å±æ€§</h4><p>æ¥å£ä¸­çš„å±æ€§ä¸å…¨æ˜¯å¿…éœ€çš„ã€‚å¯é€‰å±æ€§çš„å«ä¹‰æ˜¯è¯¥å±æ€§åœ¨è¢«å˜é‡å®šä¹‰æ—¶å¯ä»¥ä¸å­˜åœ¨ã€‚</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¯­æ³•</span></span><br><span class="line"><span class="keyword">interface</span> Clothes {</span><br><span class="line">  color?: <span class="built_in">string</span>;</span><br><span class="line">  size: <span class="built_in">string</span>;</span><br><span class="line">  price: <span class="built_in">number</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™é‡Œå¯ä»¥ä¸å®šä¹‰å±æ€§ color</span></span><br><span class="line"><span class="keyword">let</span> myClothes: Clothes = { </span><br><span class="line">  size: <span class="string">'XL'</span>, </span><br><span class="line">  price: <span class="number">98</span> </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>å¸¦æœ‰å¯é€‰å±æ€§çš„æ¥å£ä¸æ™®é€šçš„æ¥å£å®šä¹‰å·®ä¸å¤šï¼Œåªæ˜¯åœ¨å¯é€‰å±æ€§åå­—å®šä¹‰çš„åé¢åŠ ä¸€ä¸ª <code>?</code> ç¬¦å·ã€‚</p><p>è¿™æ—¶ï¼Œ<strong>ä»ä¸å…è®¸æ·»åŠ æœªå®šä¹‰çš„å±æ€§</strong>ï¼Œå¦‚æœå¼•ç”¨äº†ä¸å­˜åœ¨çš„å±æ€§æ—¶ TS å°†ç›´æ¥æ•è·é”™è¯¯ã€‚</p><h4 id="åªè¯»å±æ€§-å’Œconstå¯¹åº”ï¼Œä¸€ä¸ªæ˜¯å±æ€§ä¸€ä¸ªæ˜¯å˜é‡"><a href="#åªè¯»å±æ€§-å’Œconstå¯¹åº”ï¼Œä¸€ä¸ªæ˜¯å±æ€§ä¸€ä¸ªæ˜¯å˜é‡" class="headerlink" title="åªè¯»å±æ€§(å’Œconstå¯¹åº”ï¼Œä¸€ä¸ªæ˜¯å±æ€§ä¸€ä¸ªæ˜¯å˜é‡)"></a>åªè¯»å±æ€§(å’Œconstå¯¹åº”ï¼Œä¸€ä¸ªæ˜¯å±æ€§ä¸€ä¸ªæ˜¯å˜é‡)</h4><p>ä¸€äº›å¯¹è±¡å±æ€§<strong>åªèƒ½åœ¨å¯¹è±¡åˆšåˆšåˆ›å»ºçš„æ—¶å€™ä¿®æ”¹å…¶å€¼</strong>ã€‚ä½ å¯ä»¥åœ¨å±æ€§åå‰ç”¨ <code>readonly</code> æ¥æŒ‡å®šåªè¯»å±æ€§ï¼Œæ¯”å¦‚ä»·æ ¼æ˜¯ä¸èƒ½è¢«ä¿®æ”¹çš„:</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¯­æ³•</span></span><br><span class="line"><span class="keyword">interface</span> Clothes {</span><br><span class="line">  color?: <span class="built_in">string</span>;</span><br><span class="line">  size: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">readonly</span> price: <span class="built_in">number</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºçš„æ—¶å€™ç»™ price èµ‹å€¼</span></span><br><span class="line"><span class="keyword">let</span> myClothes: Clothes = { </span><br><span class="line">  size: <span class="string">'XL'</span>, </span><br><span class="line">  price: <span class="number">98</span> </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸å¯ä¿®æ”¹</span></span><br><span class="line">myClothes.price = <span class="number">100</span></span><br><span class="line"><span class="comment">// error TS2540: Cannot assign to 'price' because it is a constant or a read-only property</span></span><br></pre></td></tr></tbody></table></figure><p>TypeScript å¯ä»¥é€šè¿‡ <code>ReadonlyArray&lt;T&gt;</code> è®¾ç½®æ•°ç»„ä¸ºåªè¯»ï¼Œé‚£ä¹ˆå®ƒçš„æ‰€æœ‰<strong>å†™æ–¹æ³•</strong>éƒ½ä¼šå¤±æ•ˆã€‚</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr: ReadonlyArray&lt;<span class="built_in">number</span>&gt; = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line">arr[<span class="number">0</span>] = <span class="number">6</span>; <span class="comment">// Index signature in type 'readonly number[]' only permits reading</span></span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong> ä»£ç ä¸­çš„æ³›å‹è¯­æ³•åœ¨ä¹‹åä¼šæœ‰ä¸“é—¨çš„å°èŠ‚ä»‹ç»ã€‚</p><h5 id="readonlyvsconst"><a href="#readonlyvsconst" class="headerlink" title="readonlyvsconst`"></a>readonly<code>vs</code>const`</h5><p>æœ€ç®€å•åˆ¤æ–­è¯¥ç”¨ <code>readonly</code> è¿˜æ˜¯ <code>const</code> çš„æ–¹æ³•æ˜¯çœ‹è¦æŠŠå®ƒåšä¸º<strong>å˜é‡ä½¿ç”¨è¿˜æ˜¯åšä¸ºä¸€ä¸ªå±æ€§</strong>ã€‚åšä¸º <code>å˜é‡</code> ä½¿ç”¨çš„è¯ç”¨ constï¼Œè‹¥åšä¸º <code>å±æ€§</code> åˆ™ä½¿ç”¨ readonlyã€‚</p><h4 id="ä»»æ„å±æ€§"><a href="#ä»»æ„å±æ€§" class="headerlink" title="ä»»æ„å±æ€§"></a>ä»»æ„å±æ€§</h4><p>æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›æ¥å£å…è®¸æœ‰ä»»æ„çš„å±æ€§ï¼Œè¯­æ³•æ˜¯ç”¨ <code>[]</code> å°†å±æ€§åŒ…è£¹èµ·æ¥ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¯­æ³•</span></span><br><span class="line"><span class="keyword">interface</span> Clothes {</span><br><span class="line">  color?: <span class="built_in">string</span>;</span><br><span class="line">  size: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">readonly</span> price: <span class="built_in">number</span>;</span><br><span class="line">  [propName: <span class="built_in">string</span>]: <span class="built_in">any</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»»æ„å±æ€§ activity</span></span><br><span class="line"><span class="keyword">let</span> myClothes: Clothes = { </span><br><span class="line">  size: <span class="string">'XL'</span>, </span><br><span class="line">  price: <span class="number">98</span>,</span><br><span class="line">  activity: <span class="string">'coupon'</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong> è¿™é‡Œçš„æ¥å£ <code>Clothes</code> å¯ä»¥æœ‰ä»»æ„æ•°é‡çš„å±æ€§ï¼Œå¹¶ä¸”åªè¦å®ƒä»¬ä¸æ˜¯ <code>color</code> <code>size</code> å’Œ <code>price</code>ï¼Œé‚£ä¹ˆå°±æ— æ‰€è°“å®ƒä»¬çš„ç±»å‹æ˜¯ä»€ä¹ˆã€‚</p><ul><li>é¡¹ç›®æ¡ˆä¾‹ï¼šä½¿ç”¨ axios åº“å‘èµ· HTTP ä¼ è¾“çš„æ—¶å€™ï¼Œå¯ä»¥å†™å…¥ä¸€ä¸ªè‡ªå®šä¹‰çš„å±æ€§ï¼Œå°±æ˜¯å› ä¸ºæºç ä¸­å®šä¹‰äº†ä¸€ä¸ªä»»æ„å±æ€§ï¼š</li></ul><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.$axios({</span><br><span class="line">  method: <span class="string">'put'</span>,</span><br><span class="line">  url: <span class="string">'/cms/user'</span>,</span><br><span class="line">  data: {</span><br><span class="line">    nickname: <span class="built_in">this</span>.nickname,</span><br><span class="line">  },</span><br><span class="line">  showBackend: <span class="literal">true</span>,</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure><h3 id="å‡½æ•°ç±»å‹"><a href="#å‡½æ•°ç±»å‹" class="headerlink" title="å‡½æ•°ç±»å‹"></a>å‡½æ•°ç±»å‹</h3><p>é™¤äº†æè¿°å¸¦æœ‰å±æ€§çš„æ™®é€šå¯¹è±¡å¤–ï¼Œæ¥å£ä¹Ÿå¯ä»¥æè¿°<strong>å‡½æ•°ç±»å‹ã€‚</strong></p><p>ä¸ºäº†ä½¿æ¥å£è¡¨ç¤ºå‡½æ•°ç±»å‹ï¼Œæˆ‘ä»¬éœ€è¦ç»™æ¥å£å®šä¹‰ä¸€ä¸ªè°ƒç”¨ç­¾åã€‚ å®ƒå°±åƒæ˜¯ä¸€ä¸ª<strong>åªæœ‰ <code>å‚æ•°åˆ—è¡¨</code> å’Œ <code>è¿”å›å€¼ç±»å‹</code> çš„å‡½æ•°å®šä¹‰</strong>ã€‚</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> SearchFunc {</span><br><span class="line">  (source: <span class="built_in">string</span>, <span class="attr">subString</span>: <span class="built_in">string</span>): <span class="built_in">boolean</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> mySearch: SearchFunc;</span><br><span class="line">mySearch = <span class="function"><span class="keyword">function</span>(<span class="params">source: <span class="built_in">string</span>, subString: <span class="built_in">string</span></span>): <span class="title">boolean</span> </span>{</span><br><span class="line">  <span class="keyword">return</span> source.search(subString) &gt; -<span class="number">1</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>å¯¹äºå‡½æ•°ç±»å‹çš„ç±»å‹æ£€æŸ¥æ¥è¯´ï¼Œ<strong>å‡½æ•°çš„å‚æ•°åä¸éœ€è¦ä¸æ¥å£é‡Œå®šä¹‰çš„åå­—ç›¸åŒ¹é…</strong>ã€‚ä½ å¯ä»¥æ”¹å˜å‡½æ•°çš„å‚æ•°åï¼Œ<strong>åªè¦ä¿è¯å‡½æ•°å‚æ•°çš„ä½ç½®ä¸å˜ã€‚å‡½æ•°çš„å‚æ•°ä¼šè¢«é€ä¸ªè¿›è¡Œæ£€æŸ¥ï¼š</strong></p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> SearchFunc {</span><br><span class="line">  (source: <span class="built_in">string</span>, <span class="attr">subString</span>: <span class="built_in">string</span>): <span class="built_in">boolean</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> mySearch: SearchFunc;</span><br><span class="line"><span class="comment">// source =&gt; src, subString =&gt; sub</span></span><br><span class="line">mySearch = <span class="function"><span class="keyword">function</span>(<span class="params">src: <span class="built_in">string</span>, sub: <span class="built_in">string</span></span>): <span class="title">boolean</span> </span>{</span><br><span class="line">  <span class="keyword">return</span> src.search(sub) &gt; -<span class="number">1</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>å¦‚æœä½ ä¸æƒ³æŒ‡å®šç±»å‹ï¼ŒTypeScript çš„ç±»å‹ç³»ç»Ÿä¼šæ¨æ–­å‡ºå‚æ•°ç±»å‹ï¼Œå› ä¸ºå‡½æ•°ç›´æ¥èµ‹å€¼ç»™äº† SearchFunc ç±»å‹å˜é‡ã€‚</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> SearchFunc {</span><br><span class="line">  (source: <span class="built_in">string</span>, <span class="attr">subString</span>: <span class="built_in">string</span>): <span class="built_in">boolean</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> mySearch: SearchFunc;</span><br><span class="line">mySearch = <span class="function"><span class="keyword">function</span>(<span class="params">src, sub</span>) </span>{</span><br><span class="line">  <span class="keyword">let</span> result = src.search(sub);</span><br><span class="line">  <span class="keyword">return</span> result &gt; -<span class="number">1</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>å¦‚æœæ¥å£ä¸­çš„å‡½æ•°ç±»å‹å¸¦æœ‰å‡½æ•°åï¼Œä¸‹é¢ä¸¤ç§ä¹¦å†™æ–¹å¼æ˜¯ç­‰ä»·çš„ï¼š</strong></p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Calculate {</span><br><span class="line">  add(x: <span class="built_in">number</span>, <span class="attr">y</span>: <span class="built_in">number</span>): <span class="built_in">number</span></span><br><span class="line">  multiply: <span class="function">(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">number</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="å¯ç´¢å¼•ç±»å‹"><a href="#å¯ç´¢å¼•ç±»å‹" class="headerlink" title="å¯ç´¢å¼•ç±»å‹"></a>å¯ç´¢å¼•ç±»å‹</h3><p>å¯ç´¢å¼•ç±»å‹æ¥å£è¯»èµ·æ¥æœ‰äº›æ‹—å£ï¼Œç›´æ¥çœ‹ä¾‹å­ï¼š</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ­£å¸¸çš„jsä»£ç </span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">let</span> obj = {</span><br><span class="line">  brand: <span class="string">'imooc'</span>,</span><br><span class="line">  type: <span class="string">'education'</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">arr[<span class="number">0</span>]</span><br><span class="line">obj[<span class="string">'brand'</span>]</span><br></pre></td></tr></tbody></table></figure><p>å†æ¥çœ‹å®šä¹‰å¯ç´¢å¼•ç±»å‹æ¥å£ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> ScenicInterface {</span><br><span class="line">  [index: <span class="built_in">number</span>]: <span class="built_in">string</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr: ScenicInterface = [<span class="string">'è¥¿æ¹–'</span>, <span class="string">'åå±±'</span>, <span class="string">'æ•…å®«'</span>]</span><br><span class="line"><span class="keyword">let</span> favorite: <span class="built_in">string</span> = arr[<span class="number">0</span>]</span><br></pre></td></tr></tbody></table></figure><p>ç¤ºä¾‹ä¸­ç´¢å¼•ç­¾åæ˜¯ <code>numberç±»å‹</code>ï¼Œè¿”å›å€¼æ˜¯å­—ç¬¦ä¸²ç±»å‹ã€‚</p><p>å¦å¤–è¿˜æœ‰ä¸€ç§ç´¢å¼•ç­¾åæ˜¯ <code>å­—ç¬¦ä¸²ç±»å‹</code>ã€‚æˆ‘ä»¬å¯ä»¥åŒæ—¶ä½¿ç”¨ä¸¤ç§ç±»å‹çš„ç´¢å¼•ï¼Œä½†æ˜¯æ•°å­—ç´¢å¼•çš„è¿”å›å€¼å¿…é¡»æ˜¯å­—ç¬¦ä¸²ç´¢å¼•è¿”å›å€¼ç±»å‹çš„å­ç±»å‹ã€‚é€šè¿‡ä¸‹é¢çš„ä¾‹å­ç†è§£è¿™å¥è¯ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ­£ç¡®</span></span><br><span class="line"><span class="keyword">interface</span> Foo {</span><br><span class="line">  [index: <span class="built_in">string</span>]: <span class="built_in">number</span>;</span><br><span class="line">  x: <span class="built_in">number</span>;</span><br><span class="line">  y: <span class="built_in">number</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// é”™è¯¯</span></span><br><span class="line"><span class="keyword">interface</span> Bar {</span><br><span class="line">  [index: <span class="built_in">string</span>]: <span class="built_in">number</span>;</span><br><span class="line">  x: <span class="built_in">number</span>;</span><br><span class="line">  y: <span class="built_in">string</span>; <span class="comment">// Error: y å±æ€§å¿…é¡»ä¸º number ç±»å‹ï¼Œ ä»£è¡¨ç”¨yå»ç´¢å¼•è¿”å›string</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>è¯­æ³•é”™è¯¯æ˜¯å› ä¸ºå½“ä½¿ç”¨ number æ¥ç´¢å¼•æ—¶ï¼ŒJavaScript ä¼šå°†å®ƒè½¬æ¢æˆ string ç„¶åå†å»ç´¢å¼•å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´ç”¨ 100ï¼ˆä¸€ä¸ªnumberï¼‰å»ç´¢å¼•ç­‰åŒäºä½¿ç”¨â€100â€ï¼ˆä¸€ä¸ªstringï¼‰å»ç´¢å¼•ï¼Œå› æ­¤ä¸¤è€…éœ€è¦ä¿æŒä¸€è‡´ã€‚</p><h3 id="ç±»ç±»å‹"><a href="#ç±»ç±»å‹" class="headerlink" title="ç±»ç±»å‹"></a>ç±»ç±»å‹</h3><p>æˆ‘ä»¬å¸Œæœ›<strong>ç±»çš„å®ç°å¿…é¡»éµå¾ªæ¥å£å®šä¹‰</strong>ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ <code>implements</code> å…³é”®å­—æ¥ç¡®ä¿å…¼å®¹æ€§ã€‚</p><p>è¿™ç§ç±»å‹çš„æ¥å£åœ¨ä¼ ç»Ÿé¢å‘å¯¹è±¡è¯­è¨€ä¸­æœ€ä¸ºå¸¸è§ï¼Œæ¯”å¦‚ java ä¸­æ¥å£å°±æ˜¯è¿™ç§ç±»ç±»å‹çš„æ¥å£ã€‚<strong>è¿™ç§æ¥å£ä¸æŠ½è±¡ç±»æ¯”è¾ƒç›¸ä¼¼ï¼Œä½†æ˜¯æ¥å£åªèƒ½å«æœ‰æŠ½è±¡æ–¹æ³•å’Œæˆå‘˜å±æ€§ï¼Œå®ç°ç±»ä¸­å¿…é¡»å®ç°æ¥å£ä¸­æ‰€æœ‰çš„æŠ½è±¡æ–¹æ³•å’Œæˆå‘˜å±æ€§ã€‚</strong></p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> AnimalInterface {</span><br><span class="line">  name: <span class="built_in">string</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="title">implements</span> <span class="title">AnimalInterface</span> </span>{</span><br><span class="line">  name: <span class="built_in">string</span>;</span><br><span class="line">    </span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>)</span>{</span><br><span class="line">    <span class="built_in">this</span>.name = name</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ä½ ä¹Ÿå¯ä»¥åœ¨æ¥å£ä¸­æè¿°ä¸€ä¸ªæ–¹æ³•ï¼Œåœ¨ç±»é‡Œå®ç°å®ƒ:</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> AnimalInterface {</span><br><span class="line">  name: <span class="built_in">string</span></span><br><span class="line"></span><br><span class="line">  eat(m: <span class="built_in">number</span>): <span class="built_in">string</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="title">implements</span> <span class="title">AnimalInterface</span> </span>{</span><br><span class="line">  name: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>)</span>{</span><br><span class="line">    <span class="built_in">this</span>.name = name</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">eat</span>(<span class="params">m: <span class="built_in">number</span></span>)</span> {</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">${<span class="built_in">this</span>.name}</span>åƒè‚‰<span class="subst">${m}</span>åˆ†é’Ÿ`</span></span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"> </span><br></pre></td></tr></tbody></table></figure><p>æ¥å£æè¿°äº†ç±»çš„å…¬å…±éƒ¨åˆ†ï¼Œè€Œä¸æ˜¯å…¬å…±å’Œç§æœ‰ä¸¤éƒ¨åˆ†ã€‚ å®ƒ<strong>ä¸ä¼šå¸®ä½ æ£€æŸ¥ç±»æ˜¯å¦å…·æœ‰æŸäº›ç§æœ‰æˆå‘˜ã€‚</strong></p><h3 id="ç»§æ‰¿æ¥å£"><a href="#ç»§æ‰¿æ¥å£" class="headerlink" title="ç»§æ‰¿æ¥å£"></a>ç»§æ‰¿æ¥å£</h3><p>å’Œç±»ä¸€æ ·ï¼Œæ¥å£ä¹Ÿå¯ä»¥é€šè¿‡å…³é”®å­— <code>extents</code> ç›¸äº’ç»§æ‰¿ã€‚ è¿™è®©æˆ‘ä»¬èƒ½å¤Ÿä»ä¸€ä¸ªæ¥å£é‡Œå¤åˆ¶æˆå‘˜åˆ°å¦ä¸€ä¸ªæ¥å£é‡Œï¼Œå¯ä»¥æ›´çµæ´»åœ°å°†æ¥å£åˆ†å‰²åˆ°å¯é‡ç”¨çš„æ¨¡å—é‡Œã€‚</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Shape {</span><br><span class="line">  color: <span class="built_in">string</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> Square <span class="keyword">extends</span> Shape {</span><br><span class="line">  sideLength: <span class="built_in">number</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> square = {} <span class="keyword">as</span> Square;</span><br><span class="line"><span class="comment">// ç»§æ‰¿äº† Shape çš„å±æ€§</span></span><br><span class="line">square.color = <span class="string">"blue"</span>;</span><br><span class="line">square.sideLength = <span class="number">10</span>;</span><br></pre></td></tr></tbody></table></figure><p>ä¸€ä¸ªæ¥å£å¯ä»¥ç»§æ‰¿å¤šä¸ªæ¥å£ï¼Œåˆ›å»ºå‡ºå¤šä¸ªæ¥å£çš„åˆæˆæ¥å£ã€‚</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Shape {</span><br><span class="line">  color: <span class="built_in">string</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> PenStroke {</span><br><span class="line">  penWidth: <span class="built_in">number</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> Square <span class="keyword">extends</span> Shape, PenStroke {</span><br><span class="line">  sideLength: <span class="built_in">number</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> square = {} <span class="keyword">as</span> Square;</span><br><span class="line">square.color = <span class="string">"blue"</span>;</span><br><span class="line">square.sideLength = <span class="number">10</span>;</span><br><span class="line">square.penWidth = <span class="number">5.0</span>;</span><br></pre></td></tr></tbody></table></figure><h3 id="æ··åˆç±»å‹"><a href="#æ··åˆç±»å‹" class="headerlink" title="æ··åˆç±»å‹"></a>æ··åˆç±»å‹</h3><p>åœ¨å‰é¢å·²ç»ä»‹ç»ï¼Œæ¥å£å¯ä»¥<strong>æè¿°å‡½æ•°ã€å¯¹è±¡çš„æ–¹æ³•æˆ–è€…å¯¹è±¡çš„å±æ€§ã€‚</strong></p><p>æœ‰æ—¶å¸Œæœ›ä¸€ä¸ªå¯¹è±¡åŒæ—¶å…·æœ‰ä¸Šé¢æåˆ°å¤šç§ç±»å‹ï¼Œæ¯”å¦‚ä¸€ä¸ª<strong>å¯¹è±¡å¯ä»¥å½“åšå‡½æ•°ä½¿ç”¨ï¼ŒåŒæ—¶åˆå…·æœ‰å±æ€§å’Œæ–¹æ³•ã€‚</strong></p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Counter {</span><br><span class="line">  (start: <span class="built_in">number</span>): <span class="built_in">string</span>;</span><br><span class="line">  interval: <span class="built_in">number</span>;</span><br><span class="line">  reset(): <span class="built_in">void</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getCounter</span>(<span class="params"></span>): <span class="title">Counter</span> </span>{</span><br><span class="line">  <span class="keyword">let</span> counter = <span class="function"><span class="keyword">function</span> (<span class="params">start: <span class="built_in">number</span></span>) </span>{ } <span class="keyword">as</span> Counter;</span><br><span class="line">  counter.interval = <span class="number">123</span>;</span><br><span class="line">  counter.reset = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{ };</span><br><span class="line">  <span class="keyword">return</span> counter;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> c = getCounter();</span><br><span class="line">c(<span class="number">10</span>);</span><br><span class="line">c.reset();</span><br><span class="line">c.interval = <span class="number">5.0</span>;</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>ç¬¬ 1 è¡Œï¼Œå£°æ˜ä¸€ä¸ªæ¥å£ï¼Œ<strong>å¦‚æœåªæœ‰ <code>(start: number): string</code> ä¸€ä¸ªæˆå‘˜ï¼Œé‚£ä¹ˆè¿™ä¸ªæ¥å£å°±æ˜¯å‡½æ•°æ¥å£</strong>ï¼ŒåŒæ—¶è¿˜å…·æœ‰å…¶ä»–ä¸¤ä¸ªæˆå‘˜ï¼Œå¯ä»¥ç”¨æ¥æè¿°å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ï¼Œè¿™æ ·å°±æ„æˆäº†ä¸€ä¸ªæ··åˆæ¥å£ã€‚</p><p>ç¬¬ 7 è¡Œï¼Œåˆ›å»ºä¸€ä¸ª <code>getCounter()</code> å‡½æ•°ï¼Œå®ƒçš„è¿”å›å€¼æ˜¯ Counter ç±»å‹çš„ã€‚</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> counter = <span class="function"><span class="keyword">function</span> (<span class="params">start: <span class="built_in">number</span></span>) </span>{ } <span class="keyword">as</span> Counter;</span><br></pre></td></tr></tbody></table></figure><p>ç¬¬ 8 è¡Œï¼Œé€šè¿‡ç±»å‹æ–­è¨€ï¼Œå°†å‡½æ•°å¯¹è±¡è½¬æ¢ä¸º <code>Counter</code> ç±»å‹ï¼Œè½¬æ¢åçš„å¯¹è±¡ä¸ä½†å®ç°äº†å‡½æ•°æ¥å£çš„æè¿°ï¼Œä½¿ä¹‹æˆä¸ºä¸€ä¸ªå‡½æ•°ï¼Œè¿˜å…·æœ‰ interval å±æ€§å’Œ reset() æ–¹æ³•ã€‚æ–­è¨€æˆåŠŸçš„æ¡ä»¶æ˜¯ï¼Œä¸¤ä¸ªæ•°æ®ç±»å‹åªè¦æœ‰ä¸€æ–¹å¯ä»¥èµ‹å€¼ç»™å¦ä¸€æ–¹ï¼Œè¿™é‡Œå‡½æ•°ç±»å‹æ•°æ®ä¸èƒ½èµ‹å€¼ç»™æ¥å£ç±»å‹çš„å˜é‡ï¼Œå› ä¸ºå®ƒä¸å…·æœ‰ interval å±æ€§å’Œ reset() æ–¹æ³•ã€‚</p><p>ç±»å‹æ–­è¨€åœ¨ä¹‹åçš„å°èŠ‚ä¹Ÿä¼šå•èŠ‚ä»‹ç»ã€‚</p><h2 id="TypeScript-ç±»-Class"><a href="#TypeScript-ç±»-Class" class="headerlink" title="TypeScript ç±»(Class)"></a>TypeScript ç±»(Class)</h2><h3 id="è®¿é—®ä¿®é¥°ç¬¦"><a href="#è®¿é—®ä¿®é¥°ç¬¦" class="headerlink" title="è®¿é—®ä¿®é¥°ç¬¦"></a>è®¿é—®ä¿®é¥°ç¬¦</h3><p>TypeScript å¯ä»¥ä½¿ç”¨å››ç§è®¿é—®ä¿®é¥°ç¬¦ <code>public</code>ã€<code>protected</code>ã€<code>private</code> å’Œ <code>readonly</code>ã€‚</p><h4 id="4-1-public"><a href="#4-1-public" class="headerlink" title="4.1 public"></a>4.1 public</h4><p>TypeScript ä¸­ï¼Œç±»çš„æˆå‘˜å…¨éƒ¨é»˜è®¤ä¸º <code>public</code>ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥æ˜¾å¼çš„å°†ä¸€ä¸ªæˆå‘˜æ ‡è®°ä¸º <code>public</code>ï¼Œæ ‡è®°ä¸º <code>public</code> åï¼Œåœ¨ç¨‹åºç±»çš„å¤–éƒ¨å¯ä»¥è®¿é—®ã€‚</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Calculate</span> </span>{</span><br><span class="line">  <span class="comment">// ç±»çš„å±æ€§</span></span><br><span class="line">  <span class="keyword">public</span> x: <span class="built_in">number</span></span><br><span class="line">  <span class="keyword">public</span> y: <span class="built_in">number</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">  <span class="keyword">public</span> <span class="function"><span class="title">constructor</span>(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>)</span> {</span><br><span class="line">    <span class="built_in">this</span>.x = x</span><br><span class="line">    <span class="built_in">this</span>.y = y</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> add () {</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.x + <span class="built_in">this</span>.y</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="4-2-protected"><a href="#4-2-protected" class="headerlink" title="4.2 protected"></a>4.2 protected</h4><p>å½“æˆå‘˜è¢«å®šä¹‰ä¸º <code>protected</code> åï¼Œåªèƒ½è¢«<strong>ç±»çš„å†…éƒ¨ä»¥åŠç±»çš„å­ç±»è®¿é—®</strong>ã€‚</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span> </span>{</span><br><span class="line">  <span class="keyword">protected</span> baseUrl: <span class="built_in">string</span> = <span class="string">'http://api.com/'</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> {}</span><br><span class="line"></span><br><span class="line">  <span class="keyword">protected</span> <span class="function"><span class="title">request</span>(<span class="params">method: <span class="built_in">string</span></span>)</span> {</span><br><span class="line">    <span class="keyword">const</span> url = <span class="string">`<span class="subst">${<span class="built_in">this</span>.baseUrl}</span><span class="subst">${method}</span>`</span></span><br><span class="line">    <span class="comment">// TODO å°è£…åŸºç¡€çš„ http è¯·æ±‚</span></span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Address</span> <span class="keyword">extends</span> <span class="title">Base</span> </span>{</span><br><span class="line">  <span class="function"><span class="title">get</span>(<span class="params"></span>)</span> {</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.request(<span class="string">'address'</span>)</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>ç¬¬ 2 è¡Œï¼ŒBase ç±»çš„å±æ€§ baseUrl è¢«å®šä¹‰ä¸ºå—ä¿æŠ¤çš„ï¼Œé‚£ä¹ˆç¬¬ 7 è¡Œè¯¥å±æ€§åœ¨ç±»ä¸­è¢«è®¿é—®æ˜¯å¯ä»¥çš„ã€‚</p><p>ç¬¬ 14 è¡Œï¼Œå›  Address ç±»æ˜¯ Base ç±»çš„å­ç±»ï¼Œåœ¨å­ç±»ä¸­å…è®¸è®¿é—®çˆ¶ç±»ä¸­è¢«å®šä¹‰ä¸ºå—ä¿æŠ¤ç±»å‹çš„æ–¹æ³• request() ã€‚</p><h4 id="4-3-private"><a href="#4-3-private" class="headerlink" title="4.3 private"></a>4.3 private</h4><p>å½“ç±»çš„æˆå‘˜è¢«å®šä¹‰ä¸º <code>private</code> åï¼Œåªèƒ½è¢«<strong>ç±»çš„å†…éƒ¨è®¿é—®</strong>ã€‚</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mom</span> </span>{</span><br><span class="line">  <span class="keyword">private</span> <span class="function"><span class="title">labour</span>(<span class="params"></span>)</span> {</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'baby is coming'</span></span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son</span> <span class="keyword">extends</span> <span class="title">Mom</span> </span>{</span><br><span class="line">  test () {</span><br><span class="line">    <span class="built_in">this</span>.labour() <span class="comment">// Error, Property 'labour' is private and only accessible within class 'Mom'</span></span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line">ä»£ç å—<span class="number">1234567891011</span></span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>ç¬¬ 9 è¡Œï¼Œçˆ¶ç±»ä¸­çš„ labour() æ–¹æ³•è¢«å®šä¹‰ä¸ºç§æœ‰æ–¹æ³•ï¼Œåªèƒ½åœ¨çˆ¶ç±»ä¸­è¢«ä½¿ç”¨ï¼Œå­ç±»ä¸­è°ƒç”¨æŠ¥é”™ã€‚</p><h4 id="4-4-readonly"><a href="#4-4-readonly" class="headerlink" title="4.4 readonly"></a>4.4 readonly</h4><p>é€šè¿‡ <code>readonly</code> å…³é”®å­—å°†å±æ€§è®¾ç½®ä¸ºåªè¯»çš„ã€‚<strong>åªè¯»å±æ€§å¿…é¡»åœ¨å£°æ˜æ—¶æˆ–æ„é€ å‡½æ•°é‡Œè¢«åˆå§‹åŒ–ã€‚</strong></p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Token</span> </span>{</span><br><span class="line">  <span class="keyword">readonly</span> secret: <span class="built_in">string</span> = <span class="string">'xjx*xh3GzW#3'</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">readonly</span> expired: <span class="built_in">number</span></span><br><span class="line"></span><br><span class="line">  <span class="title">constructor</span> (<span class="params">expired: <span class="built_in">number</span></span>) {</span><br><span class="line">    <span class="built_in">this</span>.expired = expired</span><br><span class="line">  } </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> token = <span class="keyword">new</span> Token(<span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span>)</span><br><span class="line">token.expired = <span class="number">60</span> * <span class="number">60</span> * <span class="number">2</span> <span class="comment">// Error, expired æ˜¯åªè¯»çš„</span></span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>æœ€åä¸€è¡Œï¼Œå›  Token ç±»çš„å±æ€§ expired è¢«è®¾ç½®ä¸ºåªè¯»å±æ€§ï¼Œä¸å¯è¢«ä¿®æ”¹ã€‚</p><h3 id="5-é™æ€æ–¹æ³•"><a href="#5-é™æ€æ–¹æ³•" class="headerlink" title="5. é™æ€æ–¹æ³•"></a>5. é™æ€æ–¹æ³•</h3><p>é€šè¿‡ <code>static</code> å…³é”®å­—æ¥åˆ›å»ºç±»çš„é™æ€æˆå‘˜ï¼Œè¿™äº›å±æ€§å­˜åœ¨äº<strong>ç±»æœ¬èº«ä¸Šé¢è€Œä¸æ˜¯ç±»çš„å®ä¾‹ä¸Š</strong>ã€‚</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>{</span><br><span class="line">  <span class="keyword">static</span> getInformation () {</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'This guy is too lazy to write anything.'</span></span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">User.getInformation() <span class="comment">// OK</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> user = <span class="keyword">new</span> User()</span><br><span class="line">user.getInformation() <span class="comment">// Error å®ä¾‹ä¸­æ— æ­¤æ–¹æ³•</span></span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong> getInformation() æ–¹æ³•è¢«å®šä¹‰ä¸ºé™æ€æ–¹æ³•ï¼Œåªå­˜åœ¨äºç±»æœ¬èº«ä¸Šï¼Œç±»çš„å®ä¾‹æ— æ³•è®¿é—®ã€‚</p><p>é™æ€æ–¹æ³•è°ƒç”¨åŒä¸€ä¸ªç±»ä¸­çš„å…¶ä»–é™æ€æ–¹æ³•ï¼Œå¯ä½¿ç”¨ this å…³é”®å­—ã€‚</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StaticMethodCall</span> </span>{</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="function"><span class="title">staticMethod</span>(<span class="params"></span>)</span> {</span><br><span class="line">      <span class="keyword">return</span> <span class="string">'Static method has been called'</span></span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">static</span> <span class="function"><span class="title">anotherStaticMethod</span>(<span class="params"></span>)</span> {</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">this</span>.staticMethod() + <span class="string">' from another static method'</span></span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong> é™æ€æ–¹æ³•ä¸­çš„ <code>this</code> æŒ‡å‘ç±»æœ¬èº«ï¼Œè€Œé™æ€æ–¹æ³•ä¹Ÿå­˜åœ¨äºç±»æœ¬èº«ï¼Œæ‰€ä»¥å¯ä»¥åœ¨é™æ€æ–¹æ³•ä¸­ç”¨ this è®¿é—®åœ¨åŒä¸€ç±»ä¸­çš„å…¶ä»–é™æ€æ–¹æ³•ã€‚</p><p>éé™æ€æ–¹æ³•ä¸­ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨ <code>this</code> å…³é”®å­—æ¥è®¿é—®é™æ€æ–¹æ³•ã€‚è€Œè¦ç”¨ç±»æœ¬èº«æˆ–è€…æ„é€ å‡½æ•°çš„å±æ€§æ¥è°ƒç”¨è¯¥æ–¹æ³•ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StaticMethodCall</span> </span>{</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> {</span><br><span class="line">      <span class="comment">// ç±»æœ¬èº«è°ƒç”¨</span></span><br><span class="line">      <span class="built_in">console</span>.log(StaticMethodCall.staticMethod())</span><br><span class="line"></span><br><span class="line">      <span class="comment">// æ„é€ å‡½æ•°çš„å±æ€§è°ƒç”¨</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">this</span>.constructor.staticMethod())</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">static</span> <span class="function"><span class="title">staticMethod</span>(<span class="params"></span>)</span> {</span><br><span class="line">      <span class="keyword">return</span> <span class="string">'static method has been called.'</span></span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong> ç±»æŒ‡å‘å…¶æ„é€ å‡½æ•°æœ¬èº«ï¼Œåœ¨éé™æ€æ–¹æ³•ä¸­ï¼Œ<code>this.constructor === StaticMethodCall</code> ä¸º <code>true</code>ï¼Œ ä¹Ÿå°±æ˜¯è¯´è¿™ä¸¤ç§å†™æ³•ç­‰ä»·ã€‚</p><h3 id="æŠ½è±¡ç±»"><a href="#æŠ½è±¡ç±»" class="headerlink" title="æŠ½è±¡ç±»"></a>æŠ½è±¡ç±»</h3><p>æŠ½è±¡ç±»ä½œä¸ºå…¶å®ƒæ´¾ç”Ÿç±»çš„åŸºç±»ä½¿ç”¨ï¼Œå®ƒä»¬ä¸€èˆ¬ä¸ä¼šç›´æ¥è¢«å®ä¾‹åŒ–ï¼Œä¸åŒäºæ¥å£ï¼ŒæŠ½è±¡ç±»å¯ä»¥åŒ…å«æˆå‘˜çš„å®ç°ç»†èŠ‚ã€‚</p><p><code>abstract</code> å…³é”®å­—æ˜¯ç”¨äºå®šä¹‰æŠ½è±¡ç±»å’Œåœ¨æŠ½è±¡ç±»å†…éƒ¨å®šä¹‰æŠ½è±¡æ–¹æ³•ã€‚</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>{</span><br><span class="line">    <span class="keyword">abstract</span> makeSound(): <span class="built_in">void</span>;</span><br><span class="line">    move(): <span class="built_in">void</span> {</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'roaming the earch...'</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> animal = <span class="keyword">new</span> Animal() <span class="comment">// Error, æ— æ³•åˆ›å»ºæŠ½è±¡ç±»å®ä¾‹</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>é€šå¸¸æˆ‘ä»¬éœ€è¦åˆ›å»ºå­ç±»ç»§æ‰¿æŠ½è±¡ç±»ï¼Œå°†æŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•ä¸€ä¸€å®ç°ï¼Œè¿™æ ·åœ¨å¤§å‹é¡¹ç›®ä¸­å¯ä»¥å¾ˆå¥½çš„çº¦æŸå­ç±»çš„å®ç°ã€‚</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>{</span><br><span class="line">  <span class="function"><span class="title">makeSound</span>(<span class="params"></span>)</span> {</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'bark bark bark...'</span>)</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> dog = <span class="keyword">new</span> Dog()</span><br><span class="line"></span><br><span class="line">dog.makeSound()  <span class="comment">// bark bark bark...</span></span><br><span class="line">dog.move()       <span class="comment">// roaming the earch...</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h3 id="æŠŠç±»å½“åšæ¥å£ä½¿ç”¨"><a href="#æŠŠç±»å½“åšæ¥å£ä½¿ç”¨" class="headerlink" title="æŠŠç±»å½“åšæ¥å£ä½¿ç”¨"></a>æŠŠç±»å½“åšæ¥å£ä½¿ç”¨</h3><p>ç±»ä¹Ÿå¯ä»¥ä½œä¸ºæ¥å£æ¥ä½¿ç”¨ï¼Œè¿™åœ¨é¡¹ç›®ä¸­æ˜¯å¾ˆå¸¸è§çš„ã€‚</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pizza</span> </span>{</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"><span class="keyword">public</span> name: <span class="built_in">string</span>, <span class="keyword">public</span> toppings: <span class="built_in">string</span>[]</span>)</span> {}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PizzaMaker</span> </span>{</span><br><span class="line">  <span class="comment">// æŠŠ Pizza ç±»å½“åšæ¥å£</span></span><br><span class="line">  <span class="keyword">static</span> <span class="function"><span class="title">create</span>(<span class="params">event: Pizza</span>)</span> {</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Pizza(event.name, event.toppings)</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> pizza = PizzaMaker.create({ </span><br><span class="line">  name: <span class="string">'Cheese and nut pizza'</span>, </span><br><span class="line">  toppings: [<span class="string">'pasta'</span>, <span class="string">'eggs'</span>, <span class="string">'milk'</span>, <span class="string">'cheese'</span>]</span><br><span class="line">})</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>ç¬¬ 7 è¡Œï¼ŒæŠŠ Pizza ç±»å½“åšæ¥å£ã€‚</p><p>å› ä¸ºæ¥å£å’Œç±»éƒ½å®šä¹‰äº†å¯¹è±¡çš„ç»“æ„ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹å¯ä»¥äº’æ¢ä½¿ç”¨ã€‚å¦‚æœä½ éœ€è¦åˆ›å»ºä¸€ä¸ªå¯ä»¥è‡ªå®šä¹‰å‚æ•°çš„å®ä¾‹ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥è¿›è¡Œç±»å‹æ£€æŸ¥ï¼ŒæŠŠç±»å½“åšæ¥å£ä½¿ç”¨ä¸å¤±ä¸ºä¸€ä¸ªå¾ˆå¥½çš„æ–¹æ³•ã€‚</p><p>è¿™å°±æ˜¯ TypeScript çš„å¼ºå¤§åŠŸèƒ½ï¼Œè€Œä¸”éå¸¸çµæ´»ï¼Œ<strong>æ‹¥æœ‰å…¨é¢çš„é¢å‘å¯¹è±¡è®¾è®¡å’Œé€šç”¨çš„ç±»å‹æ£€æŸ¥</strong>ã€‚</p><h2 id="TypeScriptå‡½æ•°"><a href="#TypeScriptå‡½æ•°" class="headerlink" title="TypeScriptå‡½æ•°"></a>TypeScriptå‡½æ•°</h2><h3 id="å‡½æ•°ç±»å‹-1"><a href="#å‡½æ•°ç±»å‹-1" class="headerlink" title="å‡½æ•°ç±»å‹"></a>å‡½æ•°ç±»å‹</h3><p>åœ¨ TypeScript ä¸­ç¼–å†™å‡½æ•°ï¼Œéœ€è¦ç»™å½¢å‚å’Œè¿”å›å€¼æŒ‡å®šç±»å‹ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> add = <span class="function"><span class="keyword">function</span>(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>): <span class="title">string</span> </span>{</span><br><span class="line">  <span class="keyword">return</span> (x + y).toString()</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>å‚æ•° x å’Œ y éƒ½æ˜¯ number ç±»å‹ï¼Œä¸¤ä¸ªå‚æ•°ç›¸åŠ åå°†å…¶ç±»å‹è½¬æ¢ä¸º stringï¼Œ æ‰€ä»¥æ•´ä¸ªå‡½æ•°çš„è¿”å›å€¼ä¸º string ç±»å‹ã€‚</p><p>ä¸Šé¢çš„ä»£ç åªæ˜¯å¯¹ <code>=</code> ç­‰å·å³ä¾§çš„åŒ¿åå‡½æ•°è¿›è¡Œäº†ç±»å‹å®šä¹‰ï¼Œç­‰å·å·¦ä¾§çš„ <code>add</code> åŒæ ·å¯ä»¥æ·»åŠ ç±»å‹ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> add: <span class="function">(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">string</span> = <span class="function"><span class="keyword">function</span>(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>): <span class="title">string</span> </span>{</span><br><span class="line">  <span class="keyword">return</span> (x + y).toString()</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œç­‰å·å·¦ä¾§çš„ç±»å‹å®šä¹‰ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šå‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹ï¼Œé€šè¿‡ <code>=&gt;</code> ç¬¦å·æ¥è¿æ¥ã€‚</p><p>è¿™é‡Œè¦æ³¨æ„ï¼š<strong>å‡½æ•°ç±»å‹çš„ <code>=&gt;</code> å’Œ ç®­å¤´å‡½æ•°çš„ <code>=&gt;</code> æ˜¯ä¸åŒçš„å«ä¹‰</strong>ã€‚</p><p>é€šè¿‡ç®­å¤´å‡½æ•°æ”¹å†™ä¸€ä¸‹åˆšæ‰å†™çš„å‡½æ•°:</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> add = (x: <span class="built_in">number</span>, <span class="attr">y</span>: <span class="built_in">number</span>): <span class="function"><span class="params">string</span> =&gt;</span> (x + y).toString()</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>ç­‰å·å·¦å³ä¸¤ä¾§ä¹¦å†™å®Œæ•´ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åªè¦å‚æ•°ä½ç½®åŠç±»å‹ä¸å˜ï¼Œå˜é‡åç§°å¯ä»¥è‡ªå·±å®šä¹‰ï¼Œæ¯”å¦‚æŠŠä¸¤ä¸ªå‚æ•°å®šä½ä¸º a b</span></span><br><span class="line"><span class="keyword">const</span> add: <span class="function">(<span class="params">a: <span class="built_in">number</span>, b: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">string</span> = (x: <span class="built_in">number</span>, <span class="attr">y</span>: <span class="built_in">number</span>): <span class="function"><span class="params">string</span> =&gt;</span> (x + y).toString()</span><br></pre></td></tr></tbody></table></figure><h3 id="å‡½æ•°çš„å‚æ•°"><a href="#å‡½æ•°çš„å‚æ•°" class="headerlink" title="å‡½æ•°çš„å‚æ•°"></a>å‡½æ•°çš„å‚æ•°</h3><h4 id="å‚æ•°ä¸ªæ•°ä¿æŒä¸€è‡´"><a href="#å‚æ•°ä¸ªæ•°ä¿æŒä¸€è‡´" class="headerlink" title="å‚æ•°ä¸ªæ•°ä¿æŒä¸€è‡´"></a>å‚æ•°ä¸ªæ•°ä¿æŒä¸€è‡´</h4><p>TypeScript ä¸­æ¯ä¸ªå‡½æ•°å‚æ•°éƒ½æ˜¯å¿…é¡»çš„ã€‚ è¿™ä¸æ˜¯æŒ‡ä¸èƒ½ä¼ é€’ null æˆ– undefined ä½œä¸ºå‚æ•°ï¼Œè€Œæ˜¯è¯´ç¼–è¯‘å™¨ä¼šæ£€æŸ¥ç”¨æˆ·æ˜¯å¦ä¸ºæ¯ä¸ªå‚æ•°éƒ½ä¼ å…¥äº†å€¼ã€‚ç®€çŸ­åœ°è¯´ï¼Œä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°çš„å‚æ•°ä¸ªæ•°å¿…é¡»ä¸å‡½æ•°æœŸæœ›çš„å‚æ•°ä¸ªæ•°ä¸€è‡´ã€‚</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fullName = (firstName: <span class="built_in">string</span>, <span class="attr">lastName</span>: <span class="built_in">string</span>): <span class="function"><span class="params">string</span> =&gt;</span> <span class="string">`<span class="subst">${firstName}</span><span class="subst">${lastName}</span>`</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result1 = fullName(<span class="string">'Sherlock'</span>, <span class="string">'Holmes'</span>)</span><br><span class="line"><span class="keyword">let</span> result2 = fullName(<span class="string">'Sherlock'</span>, <span class="string">'Holmes'</span>, <span class="string">'character'</span>) <span class="comment">// Error, Expected 2 arguments, but got 3</span></span><br><span class="line"><span class="keyword">let</span> result3 = fullName(<span class="string">'Sherlock'</span>)                        <span class="comment">// Error, Expected 2 arguments, but got 1</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>ç¬¬ 1 è¡Œï¼Œä¸€ä¸ªéœ€è¦ä¼ å…¥ 2 ä¸ªå­—ç¬¦ä¸²ç±»å‹å‚æ•°çš„å‡½æ•°ç±»å‹å®šä¹‰ã€‚</p><p>ç¬¬ 4 è¡Œï¼Œ<code>result2</code> ä¼ å…¥äº† 3 ä¸ªå‚æ•°ï¼Œä¸å£°æ˜çš„ 2 ä¸ªå‚æ•°ä¸ç¬¦ã€‚</p><p>ç¬¬ 5 è¡Œï¼Œ<code>result3</code> åªä¼ å…¥äº† 1 ä¸ªå‚æ•°ï¼ŒåŒæ ·ä¸å£°æ˜çš„ 2 ä¸ªå‚æ•°ä¸ç¬¦ã€‚</p><h4 id="å¯é€‰å‚æ•°"><a href="#å¯é€‰å‚æ•°" class="headerlink" title="å¯é€‰å‚æ•°"></a>å¯é€‰å‚æ•°</h4><p>åœ¨ JavaScript ä¸­æ¯ä¸ªå‚æ•°éƒ½æ˜¯å¯é€‰çš„ï¼Œå¯ä¼ å¯ä¸ä¼ ã€‚æ²¡ä¼ å‚çš„æ—¶å€™ï¼Œå®ƒçš„å€¼å°±æ˜¯ undefinedã€‚ è€Œåœ¨ TypeScript é‡Œæˆ‘ä»¬å¯ä»¥åœ¨å‚æ•°åæ—ä½¿ç”¨ <code>?</code> å®ç°å¯é€‰å‚æ•°çš„åŠŸèƒ½ï¼Œ<strong>å¯é€‰å‚æ•°å¿…é¡»è·Ÿåœ¨å¿…é¡»å‚æ•°åé¢</strong>ã€‚</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fullName = (firstName: <span class="built_in">string</span>, lastName?: <span class="built_in">string</span>): <span class="function"><span class="params">string</span> =&gt;</span> <span class="string">`<span class="subst">${firstName}</span><span class="subst">${lastName}</span>`</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result1 = fullName(<span class="string">'Sherlock'</span>, <span class="string">'Holmes'</span>)</span><br><span class="line"><span class="keyword">let</span> result2 = fullName(<span class="string">'Sherlock'</span>, <span class="string">'Holmes'</span>, <span class="string">'character'</span>) <span class="comment">// Error, Expected 1-2 arguments, but got 3</span></span><br><span class="line"><span class="keyword">let</span> result3 = fullName(<span class="string">'Sherlock'</span>)                        <span class="comment">// OK</span></span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>ç¬¬ 1 è¡Œï¼ŒfirstName æ˜¯å¿…é¡»å‚æ•°ï¼ŒlastName æ˜¯å¯é€‰å‚æ•°ã€‚</p><p>ç¬¬ 4 è¡Œï¼Œä¼ å…¥äº† 3 ä¸ªå‚æ•°ï¼Œä¸å£°æ˜çš„ 2 ä¸ªå‚æ•°ä¸ç¬¦ã€‚</p><p>ç¬¬ 5 è¡Œï¼ŒlastName æ˜¯å¯é€‰å‚æ•°ï¼Œå¯ä»¥çœç•¥ã€‚</p><h4 id="é»˜è®¤å‚æ•°"><a href="#é»˜è®¤å‚æ•°" class="headerlink" title="é»˜è®¤å‚æ•°"></a>é»˜è®¤å‚æ•°</h4><p>å‚æ•°å¯ä»¥å–é»˜è®¤å€¼ï¼Œä¸Šé¢ä»‹ç»çš„<strong>å¯é€‰å‚æ•°å¿…é¡»è·Ÿåœ¨å¿…é¡»å‚æ•°åé¢</strong>ï¼Œè€Œ<strong>å¸¦é»˜è®¤å€¼çš„å‚æ•°ä¸éœ€è¦æ”¾åœ¨å¿…é¡»å‚æ•°çš„åé¢ï¼Œå¯éšæ„è°ƒæ•´ä½ç½®</strong>ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> token = (expired = <span class="number">60</span>*<span class="number">60</span>, <span class="attr">secret</span>: <span class="built_in">string</span>): <span class="function"><span class="params">void</span>  =&gt;</span> {}</span><br><span class="line"><span class="comment">// æˆ–</span></span><br><span class="line"><span class="keyword">const</span> token1 = (secret: <span class="built_in">string</span>, expired = <span class="number">60</span>*<span class="number">60</span> ): <span class="function"><span class="params">void</span> =&gt;</span> {}</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>ç¬¬ 1 è¡Œï¼Œå¸¦é»˜è®¤å€¼çš„å‚æ•° expired åœ¨å‚æ•°åˆ—è¡¨é¦–ä½ã€‚</p><p>ç¬¬ 3 è¡Œï¼Œå¸¦é»˜è®¤å€¼çš„å‚æ•° expired åœ¨å‚æ•°åˆ—è¡¨æœ«ä½ã€‚</p><h4 id="å‰©ä½™å‚æ•°"><a href="#å‰©ä½™å‚æ•°" class="headerlink" title="å‰©ä½™å‚æ•°"></a>å‰©ä½™å‚æ•°</h4><p>æœ‰çš„æ—¶å€™ï¼Œå‡½æ•°çš„å‚æ•°ä¸ªæ•°æ˜¯ä¸ç¡®å®šçš„ï¼Œå¯èƒ½ä¼ å…¥æœªçŸ¥ä¸ªæ•°ï¼Œè¿™æ—¶æ²¡æœ‰å…³ç³»ï¼Œæœ‰ä¸€ç§æ–¹æ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p>é€šè¿‡ <code>rest å‚æ•°</code> (å½¢å¼ä¸º <code>...å˜é‡å</code>)æ¥è·å–å‡½æ•°çš„å‰©ä½™å‚æ•°ï¼Œè¿™æ ·å°±ä¸éœ€è¦ä½¿ç”¨ <code>arguments</code> å¯¹è±¡äº†ã€‚</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">assert</span>(<span class="params">ok: <span class="built_in">boolean</span>, ...args: <span class="built_in">string</span>[]</span>): <span class="title">void</span> </span>{</span><br><span class="line">  <span class="keyword">if</span> (!ok) {</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(args.join(<span class="string">' '</span>));</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">assert(<span class="literal">false</span>, <span class="string">'ä¸Šä¼ æ–‡ä»¶è¿‡å¤§'</span>, <span class="string">'åªèƒ½ä¸Šä¼ jpgæ ¼å¼'</span>)</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>ç¬¬ 1 è¡Œï¼Œç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥å‰©ä½™å‚æ•°ï¼Œä¸”å‡ä¸ºå­—ç¬¦ä¸²ç±»å‹ã€‚</p><p>ç¬¬ 7 è¡Œï¼Œè°ƒç”¨å‡½æ•° <code>assert()</code> æ—¶ï¼Œé™¤äº†ç¬¬ä¸€ä¸ªå‡½æ•°ä¼ å…¥ä¸€ä¸ªå¸ƒå°”ç±»å‹ï¼Œæ¥ä¸‹æ¥å¯ä»¥æ— é™ä¼ å…¥å¤šä¸ªå­—ç¬¦ä¸²ç±»å‹çš„å‚æ•°ã€‚</p><blockquote><p><strong>TIPï¼šæ³¨æ„ <code>rest å‚æ•°</code> åªèƒ½æ˜¯æœ€åä¸€ä¸ªå‚æ•°ã€‚</strong></p></blockquote><h4 id="this-å‚æ•°"><a href="#this-å‚æ•°" class="headerlink" title="this å‚æ•°"></a>this å‚æ•°</h4><p>JavaScript é‡Œï¼Œthis çš„å€¼åœ¨å‡½æ•°è¢«è°ƒç”¨çš„æ—¶å€™æ‰ä¼šè¢«æŒ‡å®šï¼Œä½†æ˜¯è¿™ä¸ª this åˆ°åº•æŒ‡çš„æ˜¯ä»€ä¹ˆè¿˜æ˜¯éœ€è¦èŠ±ç‚¹æ—¶é—´å¼„æ¸…æ¥šã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>tsconfig.json</code> ä¸­ï¼Œç¼–è¯‘é€‰é¡¹ <code>compilerOptions</code> çš„å±æ€§ <code>noImplicitThis</code> ä¸º <code>false</code>ï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ä½¿ç”¨çš„ this æ—¶ï¼Œå®ƒçš„ç±»å‹æ˜¯ any ç±»å‹ã€‚</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> triangle = {</span><br><span class="line">  a: <span class="number">10</span>,</span><br><span class="line">  b: <span class="number">15</span>,</span><br><span class="line">  c: <span class="number">20</span>,</span><br><span class="line">  area: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> {</span><br><span class="line">      <span class="comment">// this ä¸º any ç±»å‹</span></span><br><span class="line">      <span class="keyword">const</span> p = (<span class="built_in">this</span>.a + <span class="built_in">this</span>.b + <span class="built_in">this</span>.c) / <span class="number">2</span></span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">Math</span>.sqrt(p * (p - <span class="built_in">this</span>.a) * (p - <span class="built_in">this</span>.b) *(p - <span class="built_in">this</span>.c))</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myArea = triangle.area()</span><br><span class="line"><span class="built_in">console</span>.log(myArea())</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>åœ¨å®é™…å·¥ä½œä¸­ any ç±»å‹æ˜¯éå¸¸å±é™©çš„ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ ä»»æ„å±æ€§åˆ° any ç±»å‹çš„å‚æ•°ä¸Šï¼Œæ¯”å¦‚å°† <code>const p = (this.a + this.b + this.c) / 2</code> è¿™å¥æ”¹ä¸º <code>const p = (this.d + this.d + this.d) / 2</code> ä¹Ÿä¸ä¼šæŠ¥é”™ï¼Œè¿™å¾ˆå®¹æ˜“é€ æˆä¸å¿…è¦çš„é—®é¢˜ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬åº”è¯¥æ˜ç¡® this çš„æŒ‡å‘ï¼Œä¸‹é¢ä»‹ç»ä¸¤ç§æ–¹æ³•ï¼š</p><p>ç¬¬ä¸€ç§ï¼Œåœ¨ <code>tsconfig.json</code> ä¸­ï¼Œå°†ç¼–è¯‘é€‰é¡¹ <code>compilerOptions</code> çš„å±æ€§ <code>noImplicitThis</code> è®¾ç½®ä¸º <code>true</code>ï¼ŒTypeScript ç¼–è¯‘å™¨å°±ä¼šå¸®ä½ è¿›è¡Œæ­£ç¡®çš„ç±»å‹æ¨æ–­ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> triangle = {</span><br><span class="line">  a: <span class="number">10</span>,</span><br><span class="line">  b: <span class="number">15</span>,</span><br><span class="line">  c: <span class="number">20</span>,</span><br><span class="line">  area: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> {</span><br><span class="line">      <span class="keyword">const</span> p = (<span class="built_in">this</span>.a + <span class="built_in">this</span>.b + <span class="built_in">this</span>.c) / <span class="number">2</span></span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">Math</span>.sqrt(p * (p - <span class="built_in">this</span>.a) * (p - <span class="built_in">this</span>.b) *(p - <span class="built_in">this</span>.c))</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myArea = triangle.area()</span><br><span class="line"><span class="built_in">console</span>.log(myArea())</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>å°† <code>noImplicitThis</code> è®¾ç½®ä¸º <code>true</code> ä»¥åï¼ŒæŠŠé¼ æ ‡æ”¾åœ¨ç¬¬ 7 è¡Œçš„ <code>this</code> ä¸Šï¼Œå¯ä»¥çœ‹åˆ°ï¼š</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">this: {</span><br><span class="line">  a: number;</span><br><span class="line">  b: number;</span><br><span class="line">  c: number;</span><br><span class="line">  area: () =&gt; () =&gt; number;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>è¿™æ—¶ï¼ŒTypeScript ç¼–è¯‘å™¨å°±èƒ½å‡†ç¡®çš„çŸ¥é“äº† this çš„ç±»å‹ï¼Œå¦‚æœå–ä¸å­˜åœ¨äº this å±æ€§ä¸­çš„ <code>d</code>ï¼Œå°†ä¼šæŠ¥é”™ <code>Property 'd' does not exist on type '{ a: number; b: number; c: number; area: () =&gt; () =&gt; any; }'</code></p><p>é™¤äº†è¿™ç§æ–¹æ³•ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ <code>this å‚æ•°</code> è¿™ç§å½¢å¼æ¥è§£å†³ this ä¸º any ç±»å‹è¿™ä¸€é—®é¢˜ã€‚æä¾›ä¸€ä¸ªæ˜¾å¼çš„ <code>this</code> å‚æ•°ï¼Œå®ƒå‡ºç°åœ¨å‚æ•°åˆ—è¡¨çš„æœ€å‰é¢ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¯­æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"><span class="built_in">this</span>: <span class="built_in">void</span></span>) </span>{</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æ”¹é€ åˆšæ‰çš„ä¾‹å­ï¼š</p><p>å®ä¾‹æ¼”ç¤º</p><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Triangle {</span><br><span class="line">  a: <span class="built_in">number</span>;</span><br><span class="line">  b: <span class="built_in">number</span>;</span><br><span class="line">  c: <span class="built_in">number</span>;</span><br><span class="line">  area(<span class="built_in">this</span>: Triangle): <span class="function">() =&gt;</span> <span class="built_in">number</span>;</span><br><span class="line"><span class="comment">// areaæ¥å—ä¸€ä¸ªTriangleç±»å‹çš„thiså‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°çš„è¿”å›ç±»å‹æ˜¯number</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> triangle: Triangle = {</span><br><span class="line">  a: <span class="number">10</span>,</span><br><span class="line">  b: <span class="number">15</span>,</span><br><span class="line">  c: <span class="number">20</span>,</span><br><span class="line">  area: <span class="function"><span class="keyword">function</span> (<span class="params"><span class="built_in">this</span>: Triangle</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> {</span><br><span class="line">      <span class="keyword">const</span> p = (<span class="built_in">this</span>.a + <span class="built_in">this</span>.b + <span class="built_in">this</span>.c) / <span class="number">2</span></span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">Math</span>.sqrt(p * (p - <span class="built_in">this</span>.a) * (p - <span class="built_in">this</span>.b) *(p - <span class="built_in">this</span>.c))</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myArea = triangle.area()</span><br><span class="line"><span class="built_in">console</span>.log(myArea())</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>æˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ªæ¥å£ <code>Triangle</code>ï¼Œå…¶ä¸­çš„å‡½æ•°ç±»å‹æ˜¾å¼çš„ä¼ å…¥äº† <code>this</code> å‚æ•°ï¼Œè¿™ä¸ªå‚æ•°çš„ç±»å‹ä¸º <code>Triangle</code> ç±»å‹ï¼ˆç¬¬ 5 è¡Œï¼‰ï¼š</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">area(this: Triangle): () =&gt; number;</span><br></pre></td></tr></tbody></table></figure><p>æ­¤æ—¶ï¼Œåœ¨ç¬¬ 14 è¡Œï¼Œ<code>this</code> æŒ‡å‘ <code>Triangle</code>ï¼Œå°±å¯ä»¥è¿›è¡Œæ­£ç¡®çš„ç±»å‹åˆ¤æ–­ï¼Œå¦‚æœå–æœªå®šä¹‰å‚æ•°ï¼Œç¼–è¯‘å™¨å°†ç›´æ¥æŠ¥é”™ã€‚</p><h3 id="å‡½æ•°é‡è½½"><a href="#å‡½æ•°é‡è½½" class="headerlink" title="å‡½æ•°é‡è½½"></a>å‡½æ•°é‡è½½</h3><p>å‡½æ•°é‡è½½æ˜¯æŒ‡å‡½æ•°æ ¹æ®ä¼ å…¥ä¸åŒçš„å‚æ•°ï¼Œè¿”å›ä¸åŒç±»å‹çš„æ•°æ®ã€‚</p><p>å®ƒçš„æ„ä¹‰åœ¨äºè®©ä½ æ¸…æ™°çš„çŸ¥é“ä¼ å…¥ä¸åŒçš„å‚æ•°å¾—åˆ°ä¸åŒçš„ç»“æœï¼Œå¦‚æœä¼ å…¥çš„å‚æ•°ä¸åŒï¼Œä½†æ˜¯å¾—åˆ°ç›¸åŒç±»å‹çš„æ•°æ®ï¼Œé‚£å°±ä¸éœ€è¦ä½¿ç”¨å‡½æ•°é‡è½½ã€‚</p><p>æ¯”å¦‚é¢è¯•ä¸­å¸¸è€ƒçš„å­—ç¬¦åè½¬é—®é¢˜ï¼Œè¿™é‡Œå°±ä¸è€ƒè™‘è´Ÿæ•°æƒ…å†µäº†ï¼Œåªæ˜¯ä¸ºäº†æ¼”ç¤ºå‡½æ•°é‡è½½ï¼š</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reverse</span>(<span class="params">target: string | number</span>) </span>{</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> target === <span class="string">'string'</span>) {</span><br><span class="line">    <span class="keyword">return</span> target.split(<span class="string">''</span>).reverse().join(<span class="string">''</span>)</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> target === <span class="string">'number'</span>) {</span><br><span class="line">    <span class="keyword">return</span> +[...target.toString()].reverse().join(<span class="string">''</span>)</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line">rse(<span class="string">'imooc'</span>))   <span class="comment">// coomi</span></span><br><span class="line"><span class="built_in">console</span>.log(reverse(<span class="number">23874800</span>))  <span class="comment">// 847832</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>ç¼–è¯‘å™¨å¹¶ä¸çŸ¥é“å…¥å‚æ˜¯ä»€ä¹ˆç±»å‹çš„ï¼Œè¿”å›å€¼ç±»å‹ä¹Ÿä¸èƒ½ç¡®å®šã€‚è¿™æ—¶å¯ä»¥ä¸ºåŒä¸€ä¸ªå‡½æ•°æä¾›å¤šä¸ªå‡½æ•°ç±»å‹å®šä¹‰æ¥è¿›è¡Œå‡½æ•°é‡è½½ã€‚</p><p>(é€šè¿‡ <code>--downlevelIteration</code> ç¼–è¯‘é€‰é¡¹å¢åŠ å¯¹ç”Ÿæˆå™¨å’Œè¿­ä»£å™¨åè®®çš„æ”¯æŒ)</p><p>å®ä¾‹æ¼”ç¤º</p><figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reverse</span>(<span class="params">x: <span class="built_in">string</span></span>): <span class="title">string</span></span></span><br><span class="line"><span class="function"><span class="function"><span class="keyword">function</span> <span class="title">reverse</span>(<span class="params">x: <span class="built_in">number</span></span>): <span class="title">number</span></span></span></span><br><span class="line"><span class="function"><span class="function"></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="keyword">function</span> <span class="title">reverse</span>(<span class="params">target: <span class="built_in">string</span> | <span class="built_in">number</span></span>) </span>{</span></span></span><br><span class="line"><span class="function"><span class="function">  <span class="title">if</span> (<span class="params"><span class="keyword">typeof</span> target === <span class="string">'string'</span></span>) </span>{</span></span><br><span class="line"><span class="function">    <span class="title">return</span> <span class="title">target</span>.<span class="title">split</span>(<span class="params"><span class="string">''</span></span>).<span class="title">reverse</span>(<span class="params"></span>).<span class="title">join</span>(<span class="params"><span class="string">''</span></span>)</span></span><br><span class="line"><span class="function">  }</span></span><br><span class="line"><span class="function">  <span class="title">if</span> (<span class="params"><span class="keyword">typeof</span> target === <span class="string">'number'</span></span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> +[...target.toString()].reverse().join(<span class="string">''</span>)</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.log(reverse(<span class="string">'imooc'</span>))   <span class="comment">// coomi</span></span><br><span class="line"><span class="built_in">console</span>.log(reverse(<span class="number">23874800</span>))  <span class="comment">// 847832</span></span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>å› ä¸ºè¿™ä¸ªåè½¬å‡½æ•°åœ¨ä¼ å…¥å­—ç¬¦ä¸²ç±»å‹çš„æ—¶å€™è¿”å›å­—ç¬¦ä¸²ç±»å‹ï¼Œä¼ å…¥æ•°å­—ç±»å‹çš„æ—¶å€™è¿”å›æ•°å­—ç±»å‹ï¼Œæ‰€ä»¥åœ¨å‰ä¸¤è¡Œè¿›è¡Œäº†ä¸¤æ¬¡å‡½æ•°ç±»å‹å®šä¹‰ã€‚åœ¨å‡½æ•°æ‰§è¡Œæ—¶ï¼Œæ ¹æ®ä¼ å…¥çš„å‚æ•°ç±»å‹ä¸åŒï¼Œè¿›è¡Œä¸åŒçš„è®¡ç®—ã€‚</p><p>ä¸ºäº†è®©ç¼–è¯‘å™¨èƒ½å¤Ÿé€‰æ‹©æ­£ç¡®çš„æ£€æŸ¥ç±»å‹ï¼Œå®ƒä¼šä»é‡è½½åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå¼€å§‹åŒ¹é…ã€‚å› æ­¤ï¼Œåœ¨å®šä¹‰é‡è½½æ—¶ï¼Œä¸€å®šè¦<strong>æŠŠæœ€ç²¾ç¡®çš„å®šä¹‰æ”¾åœ¨æœ€å‰é¢</strong>ã€‚</p><h3 id="ä½¿ç”¨å‡½æ•°æ—¶çš„æ³¨æ„äº‹é¡¹"><a href="#ä½¿ç”¨å‡½æ•°æ—¶çš„æ³¨æ„äº‹é¡¹" class="headerlink" title="ä½¿ç”¨å‡½æ•°æ—¶çš„æ³¨æ„äº‹é¡¹"></a>ä½¿ç”¨å‡½æ•°æ—¶çš„æ³¨æ„äº‹é¡¹</h3><ol><li>å¦‚æœä¸€ä¸ªå‡½æ•°æ²¡æœ‰ä½¿ç”¨ <code>return</code> è¯­å¥ï¼Œåˆ™å®ƒé»˜è®¤è¿”å› <code>undefined</code>ã€‚</li><li>è°ƒç”¨å‡½æ•°æ—¶ï¼Œä¼ é€’ç»™å‡½æ•°çš„å€¼è¢«ç§°ä¸ºå‡½æ•°çš„ <code>å®å‚</code>ï¼ˆå€¼ä¼ é€’ï¼‰ï¼Œå¯¹åº”ä½ç½®çš„å‡½æ•°å‚æ•°è¢«ç§°ä¸º <code>å½¢å‚</code>ã€‚</li><li>åœ¨å‡½æ•°æ‰§è¡Œæ—¶ï¼Œ <code>this</code> å…³é”®å­—å¹¶ä¸ä¼šæŒ‡å‘æ­£åœ¨è¿è¡Œçš„å‡½æ•°æœ¬èº«ï¼Œè€Œæ˜¯ <code>æŒ‡å‘è°ƒç”¨å‡½æ•°çš„å¯¹è±¡</code>ã€‚</li><li><code>arguments</code> å¯¹è±¡æ˜¯æ‰€æœ‰ï¼ˆéç®­å¤´ï¼‰å‡½æ•°ä¸­éƒ½å¯ç”¨çš„ <code>å±€éƒ¨å˜é‡</code>ã€‚ä½ å¯ä»¥ä½¿ç”¨ arguments å¯¹è±¡åœ¨å‡½æ•°ä¸­å¼•ç”¨å‡½æ•°çš„å‚æ•°ã€‚</li></ol><h2 id="TypeScript-å­—é¢é‡ç±»å‹"><a href="#TypeScript-å­—é¢é‡ç±»å‹" class="headerlink" title="TypeScript å­—é¢é‡ç±»å‹"></a>TypeScript å­—é¢é‡ç±»å‹</h2><p>é€šä¿—çš„è®²ï¼Œå­—é¢é‡ä¹Ÿå¯ä»¥å«ç›´æ¥é‡ï¼Œå°±æ˜¯ä½ çœ‹è§ä»€ä¹ˆï¼Œå®ƒå°±æ˜¯ä»€ä¹ˆã€‚</p><p>æˆ‘ä»¬ä¹‹å‰ä»‹ç»å­—ç¬¦ä¸²ç±»å‹ï¼Œå…¶å®æ˜¯ä¸€ä¸ªé›†åˆç±»å‹ï¼Œæ‰€æœ‰çš„å­—ç¬¦ä¸²é›†åˆåœ¨ä¸€èµ·æ„æˆäº† string ç±»å‹ã€‚è€Œå­—ç¬¦ä¸²å­—é¢é‡ç±»å‹å°±ç›´æ¥å¤šäº†ï¼Œä½ å®šä¹‰ä¸º <code>'imooc'</code>ï¼Œé‚£è¿™ä¸ªå˜é‡çš„ç±»å‹å°±æ˜¯ <code>'imooc'</code> ç±»å‹ã€‚</p><h3 id="å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹"><a href="#å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹" class="headerlink" title="å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹"></a>å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹</h3><p>å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹å…è®¸ä½ æŒ‡å®šå­—ç¬¦ä¸²å¿…é¡»çš„å›ºå®šå€¼ã€‚</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> protagonist: <span class="string">'Sherlock'</span></span><br><span class="line"></span><br><span class="line">protagonist = <span class="string">'Sherlock'</span></span><br><span class="line">protagonist = <span class="string">'Watson'</span> <span class="comment">// Error, Type '"Watson"' is not assignable to type '"Sherlock"'</span></span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong> å˜é‡ <code>protagonist</code> è¢«å£°æ˜ä¸º <code>'Sherlock'</code> å­—é¢é‡ç±»å‹ï¼Œå°±åªèƒ½èµ‹å€¼ä¸º <code>'Sherlock'</code>ã€‚</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Easing = <span class="string">'ease-in'</span> | <span class="string">'ease-out'</span> | <span class="string">'ease-in-out'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UIElement</span> </span>{</span><br><span class="line">  <span class="function"><span class="title">animate</span>(<span class="params">dx: <span class="built_in">number</span>, dy: <span class="built_in">number</span>, easing: Easing</span>)</span> {</span><br><span class="line">      <span class="keyword">if</span> (easing === <span class="string">'ease-in'</span>) {}</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span> (easing === <span class="string">'ease-out'</span>) {}</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span> (easing === <span class="string">'ease-in-out'</span>) {}</span><br><span class="line">      <span class="keyword">else</span> {</span><br><span class="line">          <span class="comment">// Error, ä¸åº”è¯¥ä¼ é€’ null æˆ– undefined</span></span><br><span class="line">      }</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> button = <span class="keyword">new</span> UIElement()</span><br><span class="line">button.animate(<span class="number">0</span>, <span class="number">0</span>, <span class="string">'ease-in'</span>)</span><br><span class="line">button.animate(<span class="number">0</span>, <span class="number">0</span>, <span class="string">'uneasy'</span>) <span class="comment">// Error, 'uneasy' ä¸è¢«å…è®¸</span></span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>ç¬¬ 1 è¡Œï¼Œé€šè¿‡ç±»å‹åˆ«åï¼Œå£°æ˜äº†ç±»å‹ <code>Easing</code> ä¸º <code>'ease-in' | 'ease-out' | 'ease-in-out'</code><br>è¿™æ ·ä¸‰ä¸ªå­—ç¬¦ä¸²å­—é¢é‡æ„æˆçš„è”åˆç±»å‹ã€‚</p><p>ç¬¬ 4 è¡Œï¼Œä½ <strong>åªèƒ½</strong>ä»ä¸‰ç§å…è®¸çš„å­—ç¬¦ä¸­é€‰æ‹©<strong>å…¶ä¸€</strong>æ¥åšä¸ºå‚æ•°ä¼ é€’ï¼Œä¼ å…¥å…¶å®ƒå€¼åˆ™ä¼šäº§ç”Ÿé”™è¯¯ã€‚</p><p>å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹è¿˜å¯ä»¥ç”¨äºåŒºåˆ†å‡½æ•°é‡è½½ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createElement</span>(<span class="params">tagName: <span class="string">'img'</span></span>): <span class="title">HTMLImageElement</span></span></span><br><span class="line"><span class="function"><span class="function"><span class="keyword">function</span> <span class="title">createElement</span>(<span class="params">tagName: <span class="string">'input'</span></span>): <span class="title">HTMLInputElement</span></span></span></span><br><span class="line"><span class="function"><span class="function"></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="keyword">function</span> <span class="title">createElement</span>(<span class="params">tagName: <span class="built_in">string</span></span>): <span class="title">Element</span> </span>{}</span></span></span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>å¦‚æœå‚æ•° tagName ä¸º <code>'img'</code> ç±»å‹ï¼Œè¿”å›å€¼ç±»å‹ä¸º <code>HTMLImageElement</code>; å¦‚æœå‚æ•° tagName ä¸º <code>'input'</code> ç±»å‹ï¼Œè¿”å›å€¼ç±»å‹ä¸º <code>HTMLInputElement</code>ã€‚</p><h3 id="å¸ƒå°”å­—é¢é‡ç±»å‹"><a href="#å¸ƒå°”å­—é¢é‡ç±»å‹" class="headerlink" title="å¸ƒå°”å­—é¢é‡ç±»å‹"></a>å¸ƒå°”å­—é¢é‡ç±»å‹</h3><p>å£°æ˜å¸ƒå°”å­—é¢é‡ç±»å‹ï¼Œæ³¨æ„è¿™é‡Œæ˜¯ <code>:</code> ä¸æ˜¯ <code>=</code>ã€‚ <code>=</code> ç­‰å·æ˜¯å˜é‡èµ‹å€¼ï¼Œ<code>:</code> è¡¨ç¤ºå£°æ˜çš„ç±»å‹ã€‚</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> success: <span class="literal">true</span></span><br><span class="line"><span class="keyword">let</span> fail: <span class="literal">false</span></span><br><span class="line"><span class="keyword">let</span> value: <span class="literal">true</span> | <span class="literal">false</span></span><br></pre></td></tr></tbody></table></figure><p>æ¥å£çš„è¿”å›å€¼ï¼Œä¼šæœ‰æ­£ç¡®è¿”å›å’Œå¼‚å¸¸ä¸¤ç§æƒ…å†µï¼Œè¿™ä¸¤ç§æƒ…å†µè¦æœ‰ä¸åŒçš„æ•°æ®è¿”å›æ ¼å¼ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Result = { <span class="attr">success</span>: <span class="literal">true</span>, <span class="attr">code</span>: <span class="built_in">number</span>, <span class="attr">object</span>: <span class="built_in">object</span> } | { <span class="attr">success</span>: <span class="literal">false</span>, <span class="attr">code</span>: <span class="built_in">number</span>, <span class="attr">errMsg</span>: <span class="built_in">string</span> }</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> res: Result = { <span class="attr">success</span>: <span class="literal">false</span>, <span class="attr">code</span>: <span class="number">90001</span>, <span class="attr">errMsg</span>: <span class="string">'è¯¥äºŒç»´ç å·²ä½¿ç”¨'</span> }</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!res.success) {</span><br><span class="line">  res.errMsg <span class="comment">// OK</span></span><br><span class="line">  res.object <span class="comment">// Error, Property 'object' does not exist on type '{ success: false; code: number; errMsg: string; }</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>ç±»å‹åˆ«å Result æ˜¯ä¸€ä¸ªç”±ä¸¤ä¸ªå¯¹è±¡ç»„æˆçš„è”åˆç±»å‹ï¼Œéƒ½æœ‰ä¸€ä¸ªå…±åŒçš„ success å±æ€§ï¼Œè¿™ä¸ªå±æ€§çš„ç±»å‹å°±æ˜¯å¸ƒå°”å­—é¢é‡ç±»å‹ã€‚å› ä¸ºæ¶‰åŠå¾ˆå¤šåç»­æ‰ä¼šä»‹ç»çš„çŸ¥è¯†ç‚¹ï¼Œè¿™é‡Œçœ‹ä¸æ‡‚æ²¡å…³ç³»ï¼Œåªéœ€è¦å¤§æ¦‚äº†è§£è¿™æ˜¯å¸ƒå°”å­—é¢é‡ç±»å‹çš„ä¸€ç§åº”ç”¨å³å¯ã€‚</p><h3 id="æ•°å­—å­—é¢é‡ç±»å‹"><a href="#æ•°å­—å­—é¢é‡ç±»å‹" class="headerlink" title="æ•°å­—å­—é¢é‡ç±»å‹"></a>æ•°å­—å­—é¢é‡ç±»å‹</h3><p>TypeScript è¿˜å…·æœ‰æ•°å­—å­—é¢é‡ç±»å‹ã€‚</p><p>æ¯”å¦‚éª°å­åªæœ‰å…­ç§ç‚¹æ•°ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> die: <span class="number">1</span> | <span class="number">2</span> | <span class="number">3</span> | <span class="number">4</span> | <span class="number">5</span> | <span class="number">6</span></span><br><span class="line"></span><br><span class="line">die = <span class="number">9</span> <span class="comment">// Error</span></span><br></pre></td></tr></tbody></table></figure><h2 id="TypeScript-ç±»å‹æ¨æ–­"><a href="#TypeScript-ç±»å‹æ¨æ–­" class="headerlink" title="TypeScript ç±»å‹æ¨æ–­"></a>TypeScript ç±»å‹æ¨æ–­</h2><p>TypeScript ç±»å‹æ£€æŸ¥æœºåˆ¶åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼š</p><ul><li>ç±»å‹æ¨æ–­</li><li>ç±»å‹ä¿æŠ¤</li><li>ç±»å‹å…¼å®¹æ€§</li></ul><p>ç±»å‹æ¨æ–­çš„å«ä¹‰æ˜¯ä¸éœ€è¦æŒ‡å®šå˜é‡ç±»å‹æˆ–å‡½æ•°çš„è¿”å›å€¼ç±»å‹ï¼ŒTypeScript å¯ä»¥æ ¹æ®ä¸€äº›ç®€å•çš„è§„åˆ™æ¨æ–­å…¶çš„ç±»å‹ã€‚</p><h3 id="åŸºç¡€ç±»å‹æ¨æ–­"><a href="#åŸºç¡€ç±»å‹æ¨æ–­" class="headerlink" title="åŸºç¡€ç±»å‹æ¨æ–­"></a>åŸºç¡€ç±»å‹æ¨æ–­</h3><p>åŸºç¡€çš„ç±»å‹æ¨æ–­å‘ç”Ÿåœ¨ <strong>åˆå§‹åŒ–å˜é‡ï¼Œè®¾ç½®é»˜è®¤å‚æ•°å’Œå†³å®šè¿”å›å€¼æ—¶ã€‚</strong></p><p><strong>åˆå§‹åŒ–å˜é‡ä¾‹å­ï¼š</strong></p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">3</span>             <span class="comment">// let x: number</span></span><br><span class="line"><span class="keyword">let</span> y = <span class="string">'hello world'</span> <span class="comment">// let y: string</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> z                 <span class="comment">// let z: any</span></span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>å˜é‡ <code>x</code> çš„ç±»å‹è¢«æ¨æ–­ä¸ºæ•°å­—ï¼Œå˜é‡ <code>y</code> çš„ç±»å‹è¢«æ¨æ–­ä¸ºå­—ç¬¦ä¸²ã€‚å¦‚æœå®šä¹‰æ—¶æ²¡æœ‰èµ‹å€¼ï¼Œå°†è¢«æ¨æ–­ä¸º any ç±»å‹ã€‚</p><p>è®¾ç½®é»˜è®¤å‚æ•°å’Œå†³å®šè¿”å›å€¼æ—¶çš„ä¾‹å­ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿”å›å€¼æ¨æ–­ä¸º number</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a:<span class="built_in">number</span>, b:<span class="number">10</span></span>) </span>{</span><br><span class="line">  <span class="keyword">return</span> a + b</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = {</span><br><span class="line">  a: <span class="number">10</span>,</span><br><span class="line">  b: <span class="string">'hello world'</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">obj.b = <span class="number">15</span> <span class="comment">// Errorï¼ŒType '15' is not assignable to type 'string'</span></span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>ç¬¬ 1 è¡Œï¼Œå‚æ•° b æœ‰é»˜è®¤å€¼ 10ï¼Œè¢«æ¨æ–­ä¸º number ç±»å‹ã€‚</p><p>ç¬¬ 2 è¡Œï¼Œä¸¤ä¸ª number ç±»å‹ç›¸åŠ ï¼Œå‡½æ•° <code>add()</code> è¿”å›å€¼è¢«æ¨æ–­ä¸º number ç±»å‹ã€‚</p><p>æœ€åä¸€è¡Œï¼Œ<code>obj</code> çš„ç±»å‹è¢«æ¨æ–­ä¸º <code>{a: number, b: string}</code>ï¼Œæ‰€ä»¥å±æ€§ b ä¸èƒ½è¢«èµ‹å€¼ä¸ºæ•°å­—ã€‚</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = {</span><br><span class="line">  protagonist: <span class="string">'Sherlock'</span>,</span><br><span class="line">  gender: <span class="string">'male'</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> { protagonist } = obj</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong> é€šè¿‡è§£æ„èµ‹å€¼ä¹Ÿå¯ä»¥å®Œæˆæ­£ç¡®çš„ç±»å‹æ¨æ–­ï¼š<code>let protagonist: string</code>ã€‚</p><h3 id="æœ€ä½³é€šç”¨ç±»å‹æ¨æ–­"><a href="#æœ€ä½³é€šç”¨ç±»å‹æ¨æ–­" class="headerlink" title="æœ€ä½³é€šç”¨ç±»å‹æ¨æ–­"></a>æœ€ä½³é€šç”¨ç±»å‹æ¨æ–­</h3><p>å½“éœ€è¦ä»å¤šä¸ªå…ƒç´ ç±»å‹æ¨æ–­å‡ºä¸€ä¸ªç±»å‹æ—¶ï¼ŒTypeScript ä¼šå°½å¯èƒ½æ¨æ–­å‡ºä¸€ä¸ªå…¼å®¹æ‰€æœ‰ç±»å‹çš„é€šç”¨ç±»å‹ã€‚</p><p>æ¯”å¦‚å£°æ˜ä¸€ä¸ªæ•°ç»„ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = [<span class="number">1</span>, <span class="string">'imooc'</span>, <span class="literal">null</span>]</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong> ä¸ºäº†æ¨æ–­ <code>x</code> çš„ç±»å‹ï¼Œå¿…é¡»è€ƒè™‘æ‰€æœ‰çš„å…ƒç´ ç±»å‹ã€‚è¿™é‡Œæœ‰ä¸‰ç§å…ƒç´ ç±»å‹ numberã€string å’Œ nullï¼Œæ­¤æ—¶æ•°ç»„è¢«æ¨æ–­ä¸º <code>let x: (string | number | null)[]</code> è”åˆç±»å‹ã€‚</p><blockquote><p><strong>Tipï¼š</strong> æ˜¯å¦å…¼å®¹ null ç±»å‹å¯ä»¥é€šè¿‡ tsconfig.json æ–‡ä»¶ä¸­å±æ€§ <code>strictNullChecks</code> çš„å€¼è®¾ç½®ä¸º true æˆ– false æ¥å†³å®šã€‚</p></blockquote><h3 id="4-ä¸Šä¸‹æ–‡ç±»å‹æ¨æ–­"><a href="#4-ä¸Šä¸‹æ–‡ç±»å‹æ¨æ–­" class="headerlink" title="4. ä¸Šä¸‹æ–‡ç±»å‹æ¨æ–­"></a>4. ä¸Šä¸‹æ–‡ç±»å‹æ¨æ–­</h3><p><strong>å‰é¢ä¸¤ç§éƒ½æ˜¯æ ¹æ®ä»å³å‘å·¦æµåŠ¨è¿›è¡Œç±»å‹æ¨æ–­ï¼Œä¸Šä¸‹æ–‡ç±»å‹æ¨æ–­åˆ™æ˜¯ä»å·¦å‘å³çš„ç±»å‹æ¨æ–­ã€‚</strong></p><p>ä¾‹å¦‚å®šä¹‰ä¸€ä¸ª <code>Animal</code> çš„ç±»ä½œä¸ºæ¥å£ä½¿ç”¨ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>{</span><br><span class="line">  <span class="keyword">public</span> species: <span class="built_in">string</span> | <span class="literal">undefined</span></span><br><span class="line">  <span class="keyword">public</span> weight: <span class="built_in">number</span> | <span class="literal">undefined</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> simba: Animal = {</span><br><span class="line">  species: <span class="string">'lion'</span>,</span><br><span class="line">  speak: <span class="literal">true</span>  <span class="comment">// Error, 'speak' does not exist in type 'Animal'</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong> ç¬¬ 6 è¡Œï¼Œå°† <code>Animal ç±»å‹</code>æ˜¾ç¤ºçš„èµ‹å€¼ç»™ <code>å˜é‡ simba</code>ï¼Œ<code>Animal ç±»å‹</code> æ²¡æœ‰ <code>speak å±æ€§</code>ï¼Œæ‰€ä»¥ä¸å¯èµ‹å€¼ã€‚</p><h2 id="TypeScript-ç±»å‹æ–­è¨€"><a href="#TypeScript-ç±»å‹æ–­è¨€" class="headerlink" title="TypeScript ç±»å‹æ–­è¨€"></a>TypeScript ç±»å‹æ–­è¨€</h2><p>æœ¬èŠ‚ä»‹ç»ç±»å‹æ–­è¨€ï¼Œæœ‰ä½¿ç”¨å…³é”®å­— <code>as</code> å’Œæ ‡ç­¾ <code>&lt;&gt;</code> ä¸¤ç§æ–¹å¼ï¼Œå› åè€…ä¼šä¸<code>JSX</code> è¯­æ³•å†²çªï¼Œå»ºè®®ç»Ÿä¸€ä½¿ç”¨ <code>as</code> æ¥è¿›è¡Œç±»å‹æ–­è¨€ã€‚</p><p>TypeScript å…è®¸ä½ è¦†ç›–å®ƒçš„æ¨æ–­ï¼Œæ¯•ç«Ÿä½œä¸ºå¼€å‘è€…ä½ æ¯”ç¼–è¯‘å™¨æ›´äº†è§£ä½ å†™çš„ä»£ç ã€‚</p><p>ç±»å‹æ–­è¨€ä¸»è¦ç”¨äºå½“ TypeScript æ¨æ–­å‡ºæ¥ç±»å‹å¹¶ä¸æ»¡è¶³ä½ çš„éœ€æ±‚ï¼Œä½ éœ€è¦æ‰‹åŠ¨æŒ‡å®šä¸€ä¸ªç±»å‹ã€‚</p><h3 id="å…³é”®å­—-as"><a href="#å…³é”®å­—-as" class="headerlink" title="å…³é”®å­— as"></a>å…³é”®å­— as</h3><p>å½“ä½ æŠŠ JavaScript ä»£ç è¿ç§»åˆ° TypeScript æ—¶ï¼Œä¸€ä¸ªå¸¸è§çš„é—®é¢˜ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> user = {}</span><br><span class="line"></span><br><span class="line">user.nickname = <span class="string">'Evan'</span>  <span class="comment">// Error, Property 'nickname' does not exist on type '{}'</span></span><br><span class="line">user.admin = <span class="literal">true</span>       <span class="comment">// Error, Property 'admin' does not exist on type '{}'</span></span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong> ç¼–è¯‘å™¨æ¨æ–­ <code>const user: {}</code>ï¼Œè¿™æ˜¯ä¸€ä¸ªæ²¡æœ‰å±æ€§çš„å¯¹è±¡ï¼Œæ‰€ä»¥ä½ ä¸èƒ½å¯¹å…¶æ·»åŠ å±æ€§ã€‚</p><p>æ­¤æ—¶å¯ä»¥ä½¿ç”¨ç±»å‹æ–­è¨€ï¼ˆ<em>aså…³é”®å­—</em>ï¼‰è¦†ç›–å…¶ç±»å‹æ¨æ–­ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> User {</span><br><span class="line">  nickname: <span class="built_in">string</span>,</span><br><span class="line">  admin: <span class="built_in">boolean</span>,</span><br><span class="line">  groups: <span class="built_in">number</span>[]</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> user = {} <span class="keyword">as</span> User</span><br><span class="line"></span><br><span class="line">user.nickname = <span class="string">'Evan'</span> </span><br><span class="line">user.admin = <span class="literal">true</span>       </span><br><span class="line">user.groups = [<span class="number">2</span>, <span class="number">6</span>]</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>ç¬¬ 7 è¡Œï¼Œè¿™é‡Œé€šè¿‡ <code>as</code> å…³é”®å­—è¿›è¡Œç±»å‹æ–­è¨€ï¼Œå°†å˜é‡ <code>user</code> çš„ç±»å‹è¦†ç›–ä¸º <code>User</code> ç±»å‹ã€‚<strong>ä½†æ˜¯è¯·æ³¨æ„ï¼Œç±»å‹æ–­è¨€ä¸è¦æ»¥ç”¨ï¼Œé™¤éä½ å®Œå…¨æ˜ç™½ä½ åœ¨å¹²ä»€ä¹ˆã€‚</strong></p><h3 id="éç©ºæ–­è¨€"><a href="#éç©ºæ–­è¨€" class="headerlink" title="éç©ºæ–­è¨€ !"></a>éç©ºæ–­è¨€ !</h3><p>å¦‚æœç¼–è¯‘å™¨ä¸èƒ½å¤Ÿå»é™¤ null æˆ– undefinedï¼Œå¯ä»¥ä½¿ç”¨éç©ºæ–­è¨€ <code>!</code> æ‰‹åŠ¨å»é™¤ã€‚</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fixed</span>(<span class="params">name: <span class="built_in">string</span> | <span class="literal">null</span></span>): <span class="title">string</span> </span>{</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">postfix</span>(<span class="params">epithet: <span class="built_in">string</span></span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> name!.charAt(<span class="number">0</span>) + <span class="string">'.  the '</span> + epithet; <span class="comment">// name è¢«æ–­è¨€ä¸ºéç©º</span></span><br><span class="line">  }</span><br><span class="line">  name = name || <span class="string">"Bob"</span></span><br><span class="line">  <span class="keyword">return</span> postfix(<span class="string">"great"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>ç¬¬ 2 è¡Œï¼Œ<code>postfix()</code> æ˜¯ä¸€ä¸ªåµŒå¥—å‡½æ•°ï¼Œå› ä¸ºç¼–è¯‘å™¨æ— æ³•å»é™¤åµŒå¥—å‡½æ•°çš„ null (é™¤éæ˜¯ç«‹å³è°ƒç”¨çš„å‡½æ•°è¡¨è¾¾å¼)ï¼Œæ‰€ä»¥ TypeScript æ¨æ–­ç¬¬ 3 è¡Œçš„ <code>name</code> å¯èƒ½ä¸ºç©ºã€‚</p><p>ç¬¬ 5 è¡Œï¼Œè€Œ <code>name = name || "Bob"</code> è¿™è¡Œä»£ç å·²ç»æ˜ç¡®äº† <code>name</code> ä¸ä¸ºç©ºï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ç»™ name æ–­è¨€ä¸ºéç©ºï¼ˆç¬¬ 3 è¡Œï¼‰ã€‚</p><h3 id="åŒé‡æ–­è¨€"><a href="#åŒé‡æ–­è¨€" class="headerlink" title="åŒé‡æ–­è¨€"></a>åŒé‡æ–­è¨€</h3><p>åŒé‡æ–­è¨€æå°‘æœ‰åº”ç”¨åœºæ™¯ï¼Œåªéœ€è¦çŸ¥é“æœ‰è¿™ç§æ“ä½œå³å¯ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> User {</span><br><span class="line">  nickname: <span class="built_in">string</span>,</span><br><span class="line">  admin: <span class="built_in">boolean</span>,</span><br><span class="line">  group: <span class="built_in">number</span>[]</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> user = <span class="string">'Evan'</span> <span class="keyword">as</span> <span class="built_in">any</span> <span class="keyword">as</span> User</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong> æœ€åä¸€è¡Œï¼Œä½¿ç”¨ as å…³é”®å­—è¿›è¡Œäº†ä¸¤æ¬¡æ–­è¨€ï¼Œæœ€ç»ˆå˜é‡ user è¢«å¼ºåˆ¶è½¬åŒ–ä¸º User ç±»å‹ã€‚</p><h2 id="TypeScript-ç±»å‹ä¿æŠ¤"><a href="#TypeScript-ç±»å‹ä¿æŠ¤" class="headerlink" title="TypeScript ç±»å‹ä¿æŠ¤"></a>TypeScript ç±»å‹ä¿æŠ¤</h2><p>ç±»å‹ä¿æŠ¤æ˜¯æŒ‡ç¼©å°ç±»å‹çš„èŒƒå›´ï¼Œåœ¨ä¸€å®šçš„å—çº§ä½œç”¨åŸŸå†…ç”±ç¼–è¯‘å™¨æ¨å¯¼å…¶ç±»å‹ï¼Œæç¤ºå¹¶è§„é¿ä¸åˆæ³•çš„æ“ä½œã€‚</p><h3 id="typeof"><a href="#typeof" class="headerlink" title="typeof"></a>typeof</h3><p>é€šè¿‡ <code>typeof</code> è¿ç®—ç¬¦åˆ¤æ–­å˜é‡ç±»å‹ï¼Œä¸‹é¢çœ‹ä¸€ä¸ªä¹‹å‰ä»‹ç»å‡½æ•°é‡è½½æ—¶çš„ä¾‹å­ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reverse</span>(<span class="params">target: <span class="built_in">string</span> | <span class="built_in">number</span></span>) </span>{</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> target === <span class="string">'string'</span>) {</span><br><span class="line">    target.toFixed(<span class="number">2</span>) <span class="comment">// Errorï¼Œåœ¨è¿™ä¸ªä»£ç å—ä¸­ï¼Œtarget æ˜¯ string ç±»å‹ï¼Œæ²¡æœ‰ toFixed æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">return</span> target.split(<span class="string">''</span>).reverse().join(<span class="string">''</span>)</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> target === <span class="string">'number'</span>) {</span><br><span class="line">    target.toFixed(<span class="number">2</span>) <span class="comment">// OK</span></span><br><span class="line">    <span class="keyword">return</span> +[...target.toString()].reverse().join(<span class="string">''</span>)</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  target.forEach(<span class="function"><span class="params">element</span> =&gt;</span> {}) <span class="comment">// Errorï¼Œåœ¨è¿™ä¸ªä»£ç å—ä¸­ï¼Œtarget æ˜¯ string æˆ– number ç±»å‹ï¼Œæ²¡æœ‰ forEach æ–¹æ³•</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>ç¬¬ 2 è¡Œï¼Œé€šè¿‡ typeof å…³é”®å­—ï¼Œå°†è¿™ä¸ªä»£ç å—ä¸­å˜é‡ target çš„ç±»å‹é™å®šä¸º string ç±»å‹ã€‚</p><p>ç¬¬ 6 è¡Œï¼Œé€šè¿‡ typeof å…³é”®å­—ï¼Œå°†è¿™ä¸ªä»£ç å—ä¸­å˜é‡ target çš„ç±»å‹é™å®šä¸º number ç±»å‹ã€‚</p><p>ç¬¬ 11 è¡Œï¼Œå› æ²¡æœ‰é™å®šï¼Œåœ¨è¿™ä¸ªä»£ç å—ä¸­ï¼Œå˜é‡ target æ˜¯ string æˆ– number ç±»å‹ï¼Œæ²¡æœ‰ forEach æ–¹æ³•ï¼Œæ‰€ä»¥æŠ¥é”™ã€‚</p><h3 id="instanceof"><a href="#instanceof" class="headerlink" title="instanceof"></a>instanceof</h3><p>instanceof ä¸ typeof ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äº typeof åˆ¤æ–­åŸºç¡€ç±»å‹ï¼Œinstanceof åˆ¤æ–­æ˜¯å¦ä¸ºæŸä¸ªå¯¹è±¡çš„å®ä¾‹ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>{</span><br><span class="line">  <span class="keyword">public</span> nickname: <span class="built_in">string</span> | <span class="literal">undefined</span></span><br><span class="line">  <span class="keyword">public</span> group: <span class="built_in">number</span> | <span class="literal">undefined</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Log</span> </span>{</span><br><span class="line">  <span class="keyword">public</span> count: <span class="built_in">number</span> = <span class="number">10</span></span><br><span class="line">  <span class="keyword">public</span> keyword: <span class="built_in">string</span> | <span class="literal">undefined</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">typeGuard</span>(<span class="params">arg: User | Log</span>) </span>{</span><br><span class="line">  <span class="keyword">if</span> (arg <span class="keyword">instanceof</span> User) {</span><br><span class="line">    arg.count = <span class="number">15</span> <span class="comment">// Error, User ç±»å‹æ— æ­¤å±æ€§</span></span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (arg <span class="keyword">instanceof</span> Log) {</span><br><span class="line">    arg.count = <span class="number">15</span> <span class="comment">// OK</span></span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>ç¬¬ 12 è¡Œï¼Œé€šè¿‡ instanceof å…³é”®å­—ï¼Œå°†è¿™ä¸ªä»£ç å—ä¸­å˜é‡ arg çš„ç±»å‹é™å®šä¸º User ç±»å‹ã€‚</p><p>ç¬¬ 16 è¡Œï¼Œé€šè¿‡ instanceof å…³é”®å­—ï¼Œå°†è¿™ä¸ªä»£ç å—ä¸­å˜é‡ arg çš„ç±»å‹é™å®šä¸º Log ç±»å‹ã€‚</p><h3 id="in"><a href="#in" class="headerlink" title="in"></a>in</h3><p><code>in</code> æ“ä½œç¬¦ç”¨äºç¡®å®šå±æ€§æ˜¯å¦å­˜åœ¨äºæŸä¸ªå¯¹è±¡ä¸Šï¼Œè¿™ä¹Ÿæ˜¯ä¸€ç§ç¼©å°èŒƒå›´çš„ç±»å‹ä¿æŠ¤ã€‚</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>{</span><br><span class="line">  <span class="keyword">public</span> nickname: <span class="built_in">string</span> | <span class="literal">undefined</span></span><br><span class="line">  <span class="keyword">public</span> groups!: <span class="built_in">number</span>[]</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Log</span> </span>{</span><br><span class="line">  <span class="keyword">public</span> count: <span class="built_in">number</span> = <span class="number">10</span></span><br><span class="line">  <span class="keyword">public</span> keyword: <span class="built_in">string</span> | <span class="literal">undefined</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">typeGuard</span>(<span class="params">arg: User | Log</span>) </span>{</span><br><span class="line">  <span class="keyword">if</span> (<span class="string">'nickname'</span> <span class="keyword">in</span> arg) {</span><br><span class="line">    <span class="comment">// (parameter) arg: Userï¼Œç¼–è¾‘å™¨å°†æ¨æ–­åœ¨å½“å‰å—ä½œç”¨åŸŸ arg ä¸º User ç±»å‹</span></span><br><span class="line">    arg.nickname = <span class="string">'imooc'</span></span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="string">'count'</span> <span class="keyword">in</span> arg) {</span><br><span class="line">    <span class="comment">// (parameter) arg: Logï¼Œç¼–è¾‘å™¨å°†æ¨æ–­åœ¨å½“å‰å—ä½œç”¨åŸŸ arg ä¸º Log ç±»å‹</span></span><br><span class="line">    arg.count = <span class="number">15</span></span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>ç¬¬ 12 è¡Œï¼Œé€šè¿‡ in å…³é”®å­—ï¼Œå°†è¿™ä¸ªä»£ç å—ä¸­å˜é‡ arg çš„ç±»å‹é™å®šä¸º User ç±»å‹ã€‚</p><p>ç¬¬ 17 è¡Œï¼Œé€šè¿‡ in å…³é”®å­—ï¼Œå°†è¿™ä¸ªä»£ç å—ä¸­å˜é‡ arg çš„ç±»å‹é™å®šä¸º Log ç±»å‹ã€‚</p><h3 id="å­—é¢é‡ç±»å‹ä¿æŠ¤"><a href="#å­—é¢é‡ç±»å‹ä¿æŠ¤" class="headerlink" title="å­—é¢é‡ç±»å‹ä¿æŠ¤"></a>å­—é¢é‡ç±»å‹ä¿æŠ¤</h3><p>ç”¨å­—é¢é‡ç±»å‹é‚£ä¸€èŠ‚çš„ä¾‹å­æ”¹é€ ä¸€ä¸‹æ¥ä»‹ç»å­—é¢é‡ç±»å‹ä¿æŠ¤ï¼š</p><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Success = {</span><br><span class="line">  success: <span class="literal">true</span>,</span><br><span class="line">  code: <span class="built_in">number</span>,</span><br><span class="line">  <span class="built_in">object</span>: <span class="built_in">object</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Fail = {</span><br><span class="line">  success: <span class="literal">false</span>,</span><br><span class="line">  code: <span class="built_in">number</span>,</span><br><span class="line">  errMsg: <span class="built_in">string</span>,</span><br><span class="line">  request: <span class="built_in">string</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">arg: Success | Fail</span>) </span>{</span><br><span class="line">  <span class="keyword">if</span> (arg.success === <span class="literal">true</span>) {</span><br><span class="line">    <span class="built_in">console</span>.log(arg.object) <span class="comment">// OK</span></span><br><span class="line">    <span class="built_in">console</span>.log(arg.errMsg) <span class="comment">// Error, Property 'errMsg' does not exist on type 'Success'</span></span><br><span class="line">  } <span class="keyword">else</span> {</span><br><span class="line">    <span class="built_in">console</span>.log(arg.errMsg) <span class="comment">// OK</span></span><br><span class="line">    <span class="built_in">console</span>.log(arg.object) <span class="comment">// Error, Property 'object' does not exist on type 'Fail'</span></span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç è§£é‡Šï¼š</strong></p><p>ç¬¬ 15 è¡Œï¼Œé€šè¿‡å¸ƒå°”å­—é¢é‡ï¼Œå°†è¿™ä¸ªä»£ç å—ä¸­å˜é‡ arg çš„ç±»å‹é™å®šä¸º Success ç±»å‹ã€‚</p><p>ç¬¬ 18 è¡Œï¼Œé€šè¿‡å¸ƒå°”å­—é¢é‡ï¼Œå°†è¿™ä¸ªä»£ç å—ä¸­å˜é‡ arg çš„ç±»å‹é™å®šä¸º Fail ç±»å‹ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Webå‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TypeScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS linear-gradientå‡½æ•°</title>
      <link href="2021/04/24/linear-gradient/"/>
      <url>2021/04/24/linear-gradient/</url>
      
        <content type="html"><![CDATA[<h1 id="CSS-linear-gradientçš„ä»‹ç»å’Œåœ¨å®é™…é¡¹ç›®ä¸­çš„ä½¿ç”¨"><a href="#CSS-linear-gradientçš„ä»‹ç»å’Œåœ¨å®é™…é¡¹ç›®ä¸­çš„ä½¿ç”¨" class="headerlink" title="CSS: linear-gradientçš„ä»‹ç»å’Œåœ¨å®é™…é¡¹ç›®ä¸­çš„ä½¿ç”¨"></a>CSS: linear-gradientçš„ä»‹ç»å’Œåœ¨å®é™…é¡¹ç›®ä¸­çš„ä½¿ç”¨</h1><p>linear-gradientå‡½æ•°æ˜¯CSS3ä¸­çš„ä¸€äº›æ–°ç‰¹æ€§,æœ€è¿‘åœ¨å­¦ä¹ CSSæ­ç§˜è¿™æœ¬ä¹¦ä¸­ä¸€å¼€å§‹å°±æ¥è§¦åˆ°äº†è¿™ä¸ªå±æ€§,ä»¥å‰æ¥è§¦çš„å®åœ¨ä¸å¤š,CSSæ­ç§˜ä¸Šå¯¹è¿™ä¸¤ä¸ªå±æ€§çš„è¿ç”¨åˆè®©æˆ‘å¤§å¼€çœ¼ç•Œ,äºæ˜¯å†™ç¯‡æ–‡ç« å¥½å¥½å­¦ä¹ ä¸€ä¸‹</p><h2 id="linear-gradient"><a href="#linear-gradient" class="headerlink" title="linear-gradient"></a>linear-gradient</h2><p>CSS <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/linear-gradient()"><code>linear-gradient&nbsp;</code></a>å‡½æ•°ç”¨äºåˆ›å»ºä¸€ä¸ªè¡¨ç¤ºä¸¤ç§æˆ–å¤šç§é¢œè‰²çº¿æ€§è§è¡¨çš„å›¾ç‰‡</p><p><code>linear-gradient</code>å‡½æ•°æ¥æ”¶ä¸‰ä¸ªå€¼: </p><p><code>&lt;side-or-corner&gt;</code></p><p>â€‹    æè¿°æ¸å˜çº¿çš„èµ·å§‹ç‚¹ä½ç½®ã€‚å®ƒåŒ…å«<strong>to</strong>å’Œä¸¤ä¸ªå…³é”®è¯ï¼šç¬¬ä¸€ä¸ªæŒ‡å‡ºæ°´å¹³ä½ç½®<strong>left or right</strong>ï¼Œç¬¬äºŒä¸ªæŒ‡å‡ºå‚ç›´ä½ç½®<strong>top or bottom</strong>ã€‚å…³é”®è¯çš„å…ˆåé¡ºåºæ— å½±å“ï¼Œä¸”éƒ½æ˜¯å¯é€‰çš„ã€‚</p><p>â€‹    to top, to bottom, to left å’Œ to rightè¿™äº›å€¼ä¼šè¢«è½¬æ¢æˆè§’åº¦<strong>0åº¦ã€180åº¦ã€270åº¦å’Œ90åº¦</strong>ã€‚å…¶ä½™å€¼ä¼šè¢«è½¬æ¢ä¸ºä¸€ä¸ªä»¥å‘é¡¶éƒ¨ä¸­å¤®æ–¹å‘ä¸ºèµ·ç‚¹é¡ºæ—¶é’ˆæ—‹è½¬çš„è§’åº¦ã€‚æ¸å˜çº¿çš„ç»“æŸç‚¹ä¸å…¶èµ·ç‚¹ä¸­å¿ƒå¯¹ç§°ã€‚</p><p><code>&lt;angle&gt;</code></p><p>â€‹    ç”¨è§’åº¦å€¼æŒ‡å®šæ¸å˜çš„æ–¹å‘ï¼ˆæˆ–è§’åº¦ï¼‰ã€‚è§’åº¦é¡ºæ—¶é’ˆå¢åŠ ã€‚ </p><p><code>&lt;linear-color-stop&gt;</code></p><p>â€‹    ç”±ä¸€ä¸ªcolorå€¼ç»„æˆï¼Œå¹¶ä¸”è·Ÿéšç€ä¸€ä¸ªå¯é€‰çš„<strong>ç»ˆç‚¹ä½ç½®</strong>ï¼ˆå¯ä»¥æ˜¯ä¸€ä¸ª<strong>ç™¾åˆ†æ¯”å€¼</strong>æˆ–è€…æ˜¯æ²¿ç€æ¸å˜è½´çš„<strong>length</strong>ã€‚CSSæ¸å˜çš„é¢œè‰²æ¸²æŸ“é‡‡å–äº†ä¸<strong>SVGç›¸åŒ</strong>çš„è§„åˆ™ã€‚</p><p><code>&lt;color-hint&gt;</code></p><p>â€‹    é¢œè‰²ä¸­è½¬ç‚¹æ˜¯ä¸€ä¸ªæ’å€¼æç¤ºï¼Œå®ƒå®šä¹‰äº†åœ¨ç›¸é‚»é¢œè‰²ä¹‹é—´æ¸å˜å¦‚ä½•è¿›è¡Œã€‚é•¿åº¦å®šä¹‰äº†åœ¨ä¸¤ç§é¢œè‰²ä¹‹é—´çš„å“ªä¸ªç‚¹åœæ­¢æ¸å˜é¢œè‰²åº”è¯¥è¾¾åˆ°é¢œè‰²è¿‡æ¸¡çš„ä¸­ç‚¹ã€‚å¦‚æœçœç•¥ï¼Œé¢œè‰²è½¬æ¢çš„ä¸­ç‚¹æ˜¯ä¸¤ä¸ªé¢œè‰²åœæ­¢ä¹‹é—´çš„ä¸­ç‚¹ã€‚ </p><p>å¬èµ·æ¥å¾ˆå¤æ‚ï¼Œçœ‹å‡ ä¸ªä¾‹å­å°±æ˜ç™½äº†</p><figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> {</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(red, yellow, blue);</span><br><span class="line">    <span class="comment">/*ç­‰ä»·äº*/</span></span><br><span class="line">    <span class="comment">/*background: linear-gradient(180deg, red, yellow, blue)*/</span></span><br><span class="line">    <span class="comment">/*background: linear-gradient(to bottom, red, yellow, blue)*/</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><img src="/images/artical-image/image-20210424133125189.png" alt="image-20210424133125189"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œå®ç°äº†ä»<code>red -&gt; yellow -&gt; blue</code>çš„çº¿æ€§æ¸å˜ï¼Œä¸”æ¸å˜è§’åº¦ä»ä¸Šåˆ°ä¸‹ï¼Œä¹Ÿå°±æ˜¯ä»<strong>180degåˆ°0deg</strong>ï¼Œå³é»˜è®¤æƒ…å†µä¸‹ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ç­‰äº<strong>180deg</strong></p><p>ç°åœ¨æ”¹å˜ä¸€ä¸‹è§’åº¦è¯•è¯•:</p><figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> {</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">0deg</span>, red, yellow, blue);</span><br><span class="line">    <span class="comment">/*ç­‰ä»·äº*/</span></span><br><span class="line">    <span class="comment">/*background: linear-gradient(to top, red, yellow, blue)*/</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><img src="/images/artical-image/image-20210424133512095.png" alt="image-20210424133512095"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œå›¾ç‰‡å®Œå®Œå…¨å…¨çš„å€’ç«‹è¿‡æ¥äº†</p><figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> {</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">45deg</span>, red, yellow, blue)</span><br><span class="line">    /*ç­‰ä»·äº*/</span><br><span class="line">    /*background: <span class="built_in">linear-gradient</span>(to right top, red, yellow, blue)*/</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><img src="/images/artical-image/image-20210424133802029.png" alt="image-20210424133802029"></p><p>ç”±æ­¤å¯ä»¥çœ‹å‡ºï¼Œ<code>linear-gradient</code>ä¸­å›¾ç‰‡è§’åº¦çš„è§„å¾‹</p><p><img src="/images/artical-image/image-20210424134420095.png" alt="image-20210424134420095"></p><p>é™¤æ­¤ä¹‹å¤–ï¼Œé¢œè‰²çš„æ¯ä¸ªå€¼éƒ½å¯ä»¥è®¾ç½®ç»ˆæ­¢ä½ç½®</p><figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> {</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(red <span class="number">0%</span>, orange <span class="number">25%</span>, yellow <span class="number">50%</span>, green <span class="number">75%</span>, blue <span class="number">100%</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><img src="/images/artical-image/image-20210424135509560.png" alt="image-20210424135509560"></p><p>å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨<code>px</code></p><figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> {</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(red <span class="number">50px</span>, orange <span class="number">100px</span>, yellow <span class="number">150px</span>, green <span class="number">180px</span>, blue)</span><br><span class="line">   /*æœ€åä¸€ä¸ªé»˜è®¤ä¸ºç»ˆç‚¹ä½ç½®*/</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><img src="/images/artical-image/image-20210424135947658.png" alt="image-20210424135947658"></p><blockquote><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“ä½ ç”Ÿå‘½äº†<code>linear-gradient</code>ä¸­çš„é¢œè‰²å±æ€§åï¼Œå†æ·»åŠ <code>background-color</code>æˆ–è€…å‘<code>background</code>ä¸­æ·»åŠ é¢œè‰²æ˜¯æ— æ•ˆçš„ï¼Œå› ä¸ºlinear-gradientçš„é¢œè‰²æŠŠåŸæ¥çš„èƒŒæ™¯é¢œè‰²å…¨éƒ¨è¦†ç›–äº†ï¼Œä½†æŠŠ<code>color</code>å€¼è®¾ä¸º<code>tranparent</code>èƒ½æ˜¾ç¤ºå›åŸæ¥çš„é¢œè‰²ï¼Œä¹Ÿå°±æ˜¯ä½ ç”¨<code>background-color</code>è®¾ç½®çš„é¢œè‰²</p></blockquote><p>é‚£æˆ‘ä»¬æ€æ ·åœ¨é¡¹ç›®ä¸­å»<strong>åˆç†</strong>çš„åº”ç”¨è¿™ä¸ªå±æ€§å‘¢?</p><p>ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œå½“æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæŒ‰é’®</p><figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">button</span> {</span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">0.3em</span> <span class="number">0.8em</span>;</span><br><span class="line">        <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#446d88</span>;</span><br><span class="line">        <span class="attribute">background</span>: <span class="number">#58a</span>;</span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">0.2em</span>;</span><br><span class="line">        <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0.05em</span> <span class="number">0.25em</span> gray;</span><br><span class="line">        <span class="attribute">color</span>: white;</span><br><span class="line">        <span class="attribute">text-shadow</span>: <span class="number">0</span> -<span class="number">0.05em</span> <span class="number">0.05em</span> <span class="number">#335166</span>;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">1em</span>;</span><br><span class="line">        <span class="attribute">line-height</span>: <span class="number">1.5</span>;</span><br><span class="line">      }</span><br></pre></td></tr></tbody></table></figure><p><img src="/images/artical-image/image-20210424141714525.png" alt="image-20210424141714525"></p><p>ç°åœ¨ç»™è¿™ä¸ªæŒ‰é’®æ·»åŠ æ¢ä¸€ä¸ªæ¸å˜èƒŒæ™¯</p><figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">button</span> {</span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">0.3em</span> <span class="number">0.8em</span>;</span><br><span class="line">        <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#446d88</span>;</span><br><span class="line">        <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">#77a0bb</span>, <span class="number">#58a</span>);</span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">0.2em</span>;</span><br><span class="line">        <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0.05em</span> <span class="number">0.25em</span> gray;</span><br><span class="line">        <span class="attribute">color</span>: white;</span><br><span class="line">        <span class="attribute">text-shadow</span>: <span class="number">0</span> -<span class="number">0.05em</span> <span class="number">0.05em</span> <span class="number">#335166</span>;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">1em</span>;</span><br><span class="line">        <span class="attribute">line-height</span>: <span class="number">1.5</span>;</span><br><span class="line">      }</span><br></pre></td></tr></tbody></table></figure><p><img src="/images/artical-image/image-20210424141930939.png" alt="image-20210424141930939"></p><p>åˆ°è¿™é‡Œï¼Œä¸€ä¸ªç®€å•çš„æœ‰<strong>è´¨æ„Ÿ</strong>çš„æŒ‰é’®å°±å®Œæˆäº†</p><p>ä½†åˆ°è¿™é‡Œä»å­˜åœ¨ä¸€äº›é—®é¢˜ï¼ŒæŒ‰é’®æ˜¯åœ¨é¡¹ç›®ä¸­ç»å¸¸é‡å¤ç”¨åˆ°çš„éƒ¨åˆ†ï¼Œå‡å¦‚ç°åœ¨æˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªçº¢è‰²æŒ‰é’®æˆ–è€…é»„è‰²æŒ‰é’®ï¼Œè¯¥æ€ä¹ˆåŠå‘¢?</p><p>æˆ‘ä»¬å¯èƒ½éœ€è¦è¦†ç›–å››æ¡å±æ€§ï¼Œ<code>border-color</code>ï¼Œ<code>text-shadow</code>ï¼Œ<code>box-shadow</code>ï¼Œ<code>background</code>ï¼Œå› ä¸ºé¢œè‰²å˜äº†åè¿™äº›å±æ€§éƒ½è¦è·Ÿç€æ”¹å˜ï¼Œè€Œä¸”ï¼Œç¡®å®šä¸€ä¸ªé¢œè‰²çš„<strong>æ¸å˜</strong>æ•ˆæœéœ€è¦çŸ¥é“è¿™ä¸ªé¢œè‰²çš„<strong>äº®è‰²</strong>å’Œ<strong>æš—è‰²</strong>ç‰ˆæœ¬(ä¾‹å¦‚ä¸Šé¢çš„æŒ‰é’®å°±éœ€è¦çŸ¥é“<code>#58a</code>å’Œ<code>#77a0bb</code>)ï¼Œå¹¶ä¸”å¦‚æœæŒ‰é’®æ”¾åœ¨ä¸€ä¸ª<strong>éçº¯ç™½è‰²èƒŒæ™¯</strong>ä¸Šå‘¢ï¼Œä¾‹å¦‚æ”¾åˆ°<code>gray</code>èƒŒæ™¯é‡Œ</p><p><img src="/images/artical-image/image-20210424143615958.png" alt="image-20210424143615958"></p><p>æ­¤æ—¶<code>box-shadow: gray</code>å±æ€§æ˜æ˜¾å°±ä¸èƒ½ä½“ç°å‡ºæ¥è¯¥æœ‰çš„æ•ˆæœ</p><p>é‚£æœ‰æ²¡æœ‰æ–¹æ³•èƒ½ä¸€æ¬¡æ€§è§£å†³ä¸Šé¢çš„é—®é¢˜åˆæ›´åŠ ç®€æ´å‘¢ï¼Œ<code>linear-gradient</code>å¯ä»¥æ´¾ä¸Šç”¨åœºäº†ï¼Œç”¨<code>linear-gradient</code>è®¾ç½®ä¸€ä¸ª<strong>åŠé€æ˜çš„ç™½è‰²</strong>ä½œä¸ºä¸»è‰²è°ƒå°±èƒ½è§£å†³è¿™ä¸ªéš¾é¢˜</p><figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">button</span> {</span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">0.3em</span> <span class="number">0.8em</span>;</span><br><span class="line">        <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">1</span>);</span><br><span class="line">        <span class="attribute">background</span>:   <span class="number">#58a</span> <span class="built_in">linear-gradient</span>(<span class="built_in">hsla</span>(<span class="number">0</span>, <span class="number">0%</span>, <span class="number">100%</span>, .<span class="number">5</span>), transparent);;</span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">0.2em</span>;</span><br><span class="line">        <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0.05em</span> <span class="number">0.25em</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">5</span>);</span><br><span class="line">        <span class="attribute">color</span>: white;</span><br><span class="line">        <span class="attribute">text-shadow</span>: <span class="number">0</span> -.<span class="number">05em</span> .<span class="number">05em</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">5</span>);</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">1em</span>;</span><br><span class="line">        <span class="attribute">line-height</span>: <span class="number">1.5</span>;</span><br><span class="line">      }</span><br></pre></td></tr></tbody></table></figure><p><img src="/images/artical-image/image-20210424151914438.png" alt="image-20210424151914438"></p><p>ç°åœ¨ï¼Œæˆ‘ä»¬åªéœ€è¦æ”¹å˜<code>background-color</code>å°±èƒ½å¾—åˆ°ä¸åŒé¢œè‰²çš„<strong>æ¸å˜æŒ‰é’®</strong></p><figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">button</span> {</span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">0.3em</span> <span class="number">0.8em</span>;</span><br><span class="line">        <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">1</span>);</span><br><span class="line">        <span class="attribute">background</span>:   <span class="number">#58a</span> <span class="built_in">linear-gradient</span>(<span class="built_in">hsla</span>(<span class="number">0</span>, <span class="number">0%</span>, <span class="number">100%</span>, .<span class="number">5</span>), transparent);;</span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">0.2em</span>;</span><br><span class="line">        <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0.05em</span> <span class="number">0.25em</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">5</span>);</span><br><span class="line">        <span class="attribute">color</span>: white;</span><br><span class="line">        <span class="attribute">text-shadow</span>: <span class="number">0</span> -.<span class="number">05em</span> .<span class="number">05em</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">5</span>);</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">1em</span>;</span><br><span class="line">        <span class="attribute">line-height</span>: <span class="number">1.5</span>;</span><br><span class="line">      }</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">button</span><span class="selector-class">.cancel</span> {</span><br><span class="line">    <span class="attribute">background-color</span>: red;</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure><p><img src="/images/artical-image/image-20210424160249913.png" alt="image-20210424160249913"></p><p>è¿™å°±æ˜¯<code>linear-gradient</code>åœ¨å®é™…é¡¹ç›®ä¸­çš„ä¸€ä¸ªå°åº”ç”¨ï¼Œä¹Ÿæ˜¯æˆ‘è¯»<a href="https://www.ituring.com.cn/book/1695">Cssæ­ç§˜</a>è¿™æœ¬ä¹¦å­¦åˆ°çš„ä¸€ä¸ªæœ‰ç”¨çš„çŸ¥è¯†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Webå‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
